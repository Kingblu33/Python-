(this["webpackJsonpweb-frontend"]=this["webpackJsonpweb-frontend"]||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"cb",(function(){return E})),n.d(t,"W",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"u",(function(){return v})),n.d(t,"w",(function(){return S})),n.d(t,"bb",(function(){return O})),n.d(t,"fb",(function(){return k})),n.d(t,"db",(function(){return T})),n.d(t,"p",(function(){return C})),n.d(t,"o",(function(){return A})),n.d(t,"eb",(function(){return R})),n.d(t,"t",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"Q",(function(){return D})),n.d(t,"x",(function(){return U})),n.d(t,"J",(function(){return I})),n.d(t,"K",(function(){return M})),n.d(t,"hb",(function(){return P})),n.d(t,"b",(function(){return N})),n.d(t,"I",(function(){return L})),n.d(t,"U",(function(){return j})),n.d(t,"v",(function(){return F})),n.d(t,"lb",(function(){return x})),n.d(t,"H",(function(){return B})),n.d(t,"G",(function(){return K})),n.d(t,"V",(function(){return W})),n.d(t,"qb",(function(){return $})),n.d(t,"ob",(function(){return q})),n.d(t,"X",(function(){return G})),n.d(t,"R",(function(){return Q})),n.d(t,"S",(function(){return V})),n.d(t,"c",(function(){return z})),n.d(t,"Y",(function(){return Y})),n.d(t,"q",(function(){return J})),n.d(t,"D",(function(){return X})),n.d(t,"m",(function(){return Z})),n.d(t,"s",(function(){return ee})),n.d(t,"N",(function(){return te})),n.d(t,"ib",(function(){return ne})),n.d(t,"P",(function(){return ae})),n.d(t,"E",(function(){return se})),n.d(t,"M",(function(){return ie})),n.d(t,"L",(function(){return oe})),n.d(t,"O",(function(){return re})),n.d(t,"Z",(function(){return ce})),n.d(t,"l",(function(){return _e})),n.d(t,"n",(function(){return le})),n.d(t,"A",(function(){return ue})),n.d(t,"B",(function(){return de})),n.d(t,"r",(function(){return pe})),n.d(t,"g",(function(){return me})),n.d(t,"h",(function(){return he})),n.d(t,"i",(function(){return fe})),n.d(t,"jb",(function(){return Ee})),n.d(t,"C",(function(){return ge})),n.d(t,"F",(function(){return be})),n.d(t,"y",(function(){return ve})),n.d(t,"z",(function(){return Se})),n.d(t,"nb",(function(){return Oe})),n.d(t,"a",(function(){return ke})),n.d(t,"kb",(function(){return Te})),n.d(t,"mb",(function(){return Ce})),n.d(t,"T",(function(){return Ae})),n.d(t,"ab",(function(){return De})),n.d(t,"gb",(function(){return Ue})),n.d(t,"j",(function(){return Ie}));var a,s=n(40),i={};for(var o in Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_ENV:"production",REACT_APP_RELEASE_VERSION:"3.5.9.8.2",REACT_APP_ACCESSKEYID:"AKIAYLZPG3CQ7DP7AYDI",REACT_APP_SECRETKEYACCESS:"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",REACT_APP_REGION:"us-west-2",REACT_APP_S3BUCKET:"cd-student-files",REACT_APP_S3PATH:"boomyeah2015/codingdojo",REACT_APP_LP3_BACKEND_URL:"https://belearn.codingdojo.com/api",REACT_APP_LP3_FRONTEND_URL:"https://login.codingdojo.com/",REACT_APP_LEARN_V2_URL:"https://learn.codingdojo.com"})){if(o.includes("REACT_APP_"))i[o.split("REACT_APP_").pop()]=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_SENTRY_ENV:"production",REACT_APP_RELEASE_VERSION:"3.5.9.8.2",REACT_APP_ACCESSKEYID:"AKIAYLZPG3CQ7DP7AYDI",REACT_APP_SECRETKEYACCESS:"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",REACT_APP_REGION:"us-west-2",REACT_APP_S3BUCKET:"cd-student-files",REACT_APP_S3PATH:"boomyeah2015/codingdojo",REACT_APP_LP3_BACKEND_URL:"https://belearn.codingdojo.com/api",REACT_APP_LP3_FRONTEND_URL:"https://login.codingdojo.com/",REACT_APP_LEARN_V2_URL:"https://learn.codingdojo.com"})[o]}var r=i.ACCESSKEYID,c=i.REGION,_=i.S3BUCKET,l=i.S3PATH,u=i.SECRETKEYACCESS,d=i.LP3_BACKEND_URL,p=i.LP3_FRONTEND_URL,m=i.LEARN_V2_URL,h={URL:d,LEARNV2_URL:m,GATEWAY_URL:"https://gateway-staging.datacompass.com",LP3_FRONTEND_URL:p},f={s3:{accessKeyId:r,secretAccessKey:u,bucket:_,path_directory:l,region:c}},E={LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",FORGOT_PASSWORD_REQUEST:"USERS_FORGOT_PASSWORD_REQUEST",FORGOT_PASSWORD_SUCCESS:"USERS_FORGOT_PASSWORD_SUCCESS",FORGOT_PASSWORD_FAILURE:"USERS_FORGOT_PASSWORD_FAILURE",RESET_PASSWORD_REQUEST:"USERS_RESET_PASSWORD_REQUEST",RESET_PASSWORD_SUCCESS:"USERS_RESET_PASSWORD_SUCCESS",RESET_PASSWORD_FAILURE:"USERS_RESET_PASSWORD_FAILURE",REPORT_ISSUE_REQUEST:"REPORT_ISSUE_REQUEST",REPORT_ISSUE_SUCCESS:"REPORT_ISSUE_SUCCESS",REPORT_ISSUE_FAILURE:"REPORT_ISSUE_FAILURE",LOGOUT:"USERS_LOGOUT",VERIFY_USER_REQUEST:"VERIFY_USER_REQUEST",VERIFY_USER_SUCCESS:"VERIFY_USER_SUCCESS",VERIFY_USER_FAILURE:"VERIFY_USER_FAILURE",USER_VIEW_WALKTHROUGH_REQUEST:"USER_VIEW_WALKTHROUGH_REQUEST",USER_VIEW_WALKTHROUGH_SUCCESS:"USER_VIEW_WALKTHROUGH_SUCCESS",USER_VIEW_WALKTHROUGH_FAILURE:"USER_VIEW_WALKTHROUGH_FAILURE",USER_UPLOAD_PROFILE_PIC_REQUEST:"USER_UPLOAD_PROFILE_PIC_REQUEST",USER_UPLOAD_PROFILE_PIC_SUCCESS:"USER_UPLOAD_PROFILE_PIC_SUCCESS",USER_UPLOAD_PROFILE_PIC_FAILURE:"USER_UPLOAD_PROFILE_PIC_FAILURE",SWITCH_PROGRAM_REQUEST:"SWITCH_PROGRAM_REQUEST",SWITCH_PROGRAM_SUCCESS:"SWITCH_PROGRAM_SUCCESS",SWITCH_PROGRAM_FAILURE:"SWITCH_PROGRAM_FAILURE"},g={GET_TRACKS_PROGRESS:"DASHBOARD_TRACKS_REQUEST",GET_TRACKS_SUCCESS:"DASHBOARD_TRACKS_SUCCESS",GET_TRACKS_FAILURE:"DASHBOARD_TRACKS_FAILURE",USER_SEARCH_LEARNING_CONTENT_REQUEST:"USER_SEARCH_LEARNING_CONTENT_REQUEST",USER_SEARCH_LEARNING_CONTENT_SUCCESS:"USER_SEARCH_LEARNING_CONTENT_SUCCESS",USER_SEARCH_LEARNING_CONTENT_FAILURE:"USER_SEARCH_LEARNING_CONTENT_FAILURE"},b={GET_BOOKMARKS_REQUEST:"GET_BOOKMARKS_REQUEST",GET_BOOKMARKS_SUCCESS:"GET_BOOKMARKS_SUCCESS",GET_BOOKMARKS_FAILURE:"GET_BOOKMARKS_FAILURE",SAVE_NEW_BOOKMARK_REQUEST:"SAVE_NEW_BOOKMARK_REQUEST",SAVE_NEW_BOOKMARK_SUCCESS:"SAVE_NEW_BOOKMARK_SUCCESS",SAVE_NEW_BOOKMARK_FAILURE:"SAVE_NEW_BOOKMARK_FAILURE",REMOVE_BOOKMARK_REQUEST:"REMOVE_BOOKMARK_REQUEST",REMOVE_BOOKMARK_SUCCESS:"REMOVE_BOOKMARK_SUCCESS",REMOVE_BOOKMARK_FAILURE:"REMOVE_BOOKMARK_FAILURE"},v={GET_ENROLLED_TRACKS_REQUEST:"GET_ENROLLED_TRACKS_REQUEST",GET_ENROLLED_TRACKS_SUCCESS:"GET_ENROLLED_TRACKS_SUCCESS",GET_ENROLLED_TRACKS_FAILURE:"GET_ENROLLED_TRACKS_FAILURE"},S={GET_CHAPTER_MODULE_FAQ_REQUEST:"GET_CHAPTER_MODULE_FAQ_REQUEST",GET_CHAPTER_MODULE_FAQ_SUCCESS:"GET_CHAPTER_MODULE_FAQ_SUCCESS",GET_CHAPTER_MODULE_FAQ_FAILURE:"GET_CHAPTER_MODULE_FAQ_FAILURE"},O={GET_USER_CHECKLISTS_REQUEST:"GET_USER_CHECKLISTS_REQUEST",GET_USER_CHECKLISTS_SUCCESS:"GET_USER_CHECKLISTS_SUCCESS",GET_USER_CHECKLISTS_FAILURE:"GET_USER_CHECKLISTS_FAILURE",GET_USER_CHECKLISTS_COURSE_REQUEST:"GET_USER_CHECKLISTS_COURSE_REQUEST",GET_USER_CHECKLISTS_COURSE_SUCCESS:"GET_USER_CHECKLISTS_COURSE_SUCCESS",GET_USER_CHECKLISTS_COURSE_FAILURE:"GET_USER_CHECKLISTS_COURSE_FAILURE",GET_USER_ASSIGNMENTS_REQUEST:"GET_USER_ASSIGNMENTS_REQUEST",GET_USER_ASSIGNMENTS_SUCCESS:"GET_USER_ASSIGNMENTS_SUCCESS",GET_USER_ASSIGNMENTS_FAILURE:"GET_USER_ASSIGNMENTS_FAILURE",SET_FEEDBACK_AS_READ_REQUEST:"SET_FEEDBACK_AS_READ_REQUEST",SET_FEEDBACK_AS_READ_SUCCESS:"SET_FEEDBACK_AS_READ_SUCCESS",SET_FEEDBACK_AS_READ_FAILURE:"SET_FEEDBACK_AS_READ_FAILURE"},k={SET_FEEDBACK_AS_READ_REQUEST:"SET_FEEDBACK_AS_READ_REQUEST",SET_FEEDBACK_AS_READ_SUCCESS:"SET_FEEDBACK_AS_READ_SUCCESS",SET_FEEDBACK_AS_READ_FAILURE:"SET_FEEDBACK_AS_READ_FAILURE"},T={GET_USER_DASHBOARD_REQUEST:"USER_GET_DASHBOARD_REQUEST",GET_USER_DASHBOARD_SUCCESS:"USER_GET_DASHBOARD_SUCCESS",GET_USER_DASHBOARD_FAILURE:"USER_GET_DASHBOARD_FAILURE",GET_DASHBOARD_TRACK_COURSES_REQUEST:"USER_GET_DASHBOARD_TRACK_COURSES_REQUEST",GET_DASHBOARD_TRACK_COURSES_SUCCESS:"USER_GET_DASHBOARD_TRACK_COURSES_SUCCESS",GET_DASHBOARD_TRACK_COURSES_FAILURE:"USER_GET_DASHBOARD_TRACK_COURSES_FAILURE",GET_DASHBOARD_TRACK_PROGRESS_REQUEST:"GET_DASHBOARD_TRACK_PROGRESS_REQUEST",GET_DASHBOARD_TRACK_PROGRESS_SUCCESS:"GET_DASHBOARD_TRACK_PROGRESS_SUCCESS",GET_DASHBOARD_TRACK_PROGRESS_FAILURE:"GET_DASHBOARD_TRACK_PROGRESS_FAILURE",HIDE_DUE_REMINDER_REQUEST:"HIDE_DUE_REMINDER_REQUEST",SUBMIT_REVIEW_REQUEST:"SUBMIT_REVIEW_REQUEST",SUBMIT_REVIEW_SUCCESS:"SUBMIT_REVIEW_SUCCESS",SUBMIT_REVIEW_FAILURE:"SUBMIT_REVIEW_FAILURE"},C={FETCH_COURSE_PAGE_DATA_REQUEST:"FETCH_COURSE_PAGE_DATA_REQUEST",FETCH_COURSE_PAGE_DATA_SUCCESS:"FETCH_COURSE_PAGE_DATA_SUCCESS",FETCH_COURSE_PAGE_DATA_FAILURE:"FETCH_COURSE_PAGE_DATA_FAILURE",UPLOAD_TODO_FILE_REQUEST:"UPLOAD_TODO_FILE_REQUEST",UPLOAD_TODO_FILE_SUCCESS:"UPLOAD_TODO_FILE_SUCCESS",UPLOAD_TODO_FILE_FAILURE:"UPLOAD_TODO_FILE_FAILURE",UPLOAD_TODO_GITHUB_REQUEST:"UPLOAD_TODO_GITHUB_REQUEST",UPLOAD_TODO_GITHUB_SUCCESS:"UPLOAD_TODO_GITHUB_SUCCESS",UPLOAD_TODO_GITHUB_FAILURE:"UPLOAD_TODO_GITHUB_FAILURE",DELETE_USER_TODO_FILE_REQUEST:"DELETE_USER_TODO_FILE_REQUEST",DELETE_USER_TODO_FILE_SUCCESS:"DELETE_USER_TODO_FILE_SUCCESS",DELETE_USER_TODO_FILE_FAILURE:"DELETE_USER_TODO_FILE_FAILURE",COMPLETE_LESSON_MODULE_DATA_REQUEST:"COMPLETE_LESSON_MODULE_DATA_REQUEST",COMPLETE_LESSON_MODULE_DATA_SUCCESS:"COMPLETE_LESSON_MODULE_DATA_SUCCESS",COMPLETE_LESSON_MODULE_DATA_FAILURE:"COMPLETE_LESSON_MODULE_DATA_FAILURE",SUBMIT_ASSIGNMENT_TASK_REQUEST:"SUBMIT_ASSIGNMENT_TASK_REQUEST",SUBMIT_ASSIGNMENT_TASK_SUCCESS:"SUBMIT_ASSIGNMENT_TASK_SUCCESS",SUBMIT_ASSIGNMENT_TASK_FAILURE:"SUBMIT_ASSIGNMENT_TASK_FAILURE",START_TASK_REQUEST:"START_TASK_REQUEST",START_TASK_SUCCESS:"START_TASK_SUCCESS",START_TASK_FAILURE:"START_TASK_FAILURE",FETCH_USER_TODO_SOLUTION_REQUEST:"FETCH_USER_TODO_SOLUTION_REQUEST",FETCH_USER_TODO_SOLUTION_SUCCESS:"FETCH_USER_TODO_SOLUTION_SUCCESS",FETCH_USER_TODO_SOLUTION_FAILURE:"FETCH_USER_TODO_SOLUTION_FAILURE",CHANGE_ACTIVE_TAB_CONTENT_REQUEST:"CHANGE_ACTIVE_TAB_CONTENT_REQUEST",FETCH_USER_TODO_SOLUTION_FILE_REQUEST:"FETCH_USER_TODO_SOLUTION_FILE_REQUEST",FETCH_USER_TODO_SOLUTION_FILE_SUCCESS:"FETCH_USER_TODO_SOLUTION_FILE_SUCCESS",FETCH_USER_TODO_SOLUTION_FILE_FAILURE:"FETCH_USER_TODO_SOLUTION_FILE_FAILURE",START_QUIZ_REQUEST:"START_QUIZ_REQUEST",START_QUIZ_SUCCESS:"START_QUIZ_SUCCESS",START_QUIZ_FAILURE:"START_QUIZ_FAILURE",NAVIGATE_QUIZ_SUCCESS:"NAVIGATE_QUIZ_SUCCESS",NAVIGATE_QUIZ_FAILURE:"NAVIGATE_QUIZ_FAILURE",CHANGE_PROPS_VALUE_REQUEST:"CHANGE_PROPS_VALUE_REQUEST",CHANGE_ACTIVE_FILE_CONTENT_REQUEST:"CHANGE_ACTIVE_FILE_CONTENT_REQUEST"},A={SAVE_CHAPTER_SURVEY_DATA_REQUEST:"SAVE_CHAPTER_SURVEY_DATA_REQUEST",SAVE_CHAPTER_SURVEY_DATA_SUCCESS:"SAVE_CHAPTER_SURVEY_DATA_SUCCESS",SAVE_CHAPTER_SURVEY_DATA_FAILURE:"SAVE_CHAPTER_SURVEY_DATA_FAILURE"},R={GET_USER_LP2_EXAM_LINK_REQUEST:"USER_GET_LP2_EXAM_LINK_REQUEST",GET_USER_LP2_EXAM_LINK_SUCCESS:"USER_GET_LP2_EXAM_LINK_SUCCESS",GET_USER_LP2_EXAM_LINK_FAILURE:"USER_GET_LP2_EXAM_LINK_FAILURE",GET_USER_EXAM_HISTORY_REQUEST:"GET_USER_EXAM_HISTORY_REQUEST",GET_USER_EXAM_HISTORY_SUCCESS:"GET_USER_EXAM_HISTORY_SUCCESS",GET_USER_EXAM_HISTORY_FAILURE:"GET_USER_EXAM_HISTORY_FAILURE",GET_USER_BELTS_REQUEST:"GET_USER_BELTS_REQUEST",GET_USER_BELTS_SUCCESS:"GET_USER_BELTS_SUCCESS",GET_USER_BELTS_FAILURE:"GET_USER_BELTS_FAILURE"},y={GET_ENROLLAPP_LINK_REQUEST:"GET_ENROLLAPP_LINK_REQUEST",GET_ENROLLAPP_LINK_SUCCESS:"GET_ENROLLAPP_LINK_SUCCESS",GET_ENROLLAPP_LINK_FAILURE:"GET_ENROLLAPP_LINK_FAILURE"},w={FETCH_ADMIN_COURSE_PAGE_DATA_REQUEST:"FETCH_COURSE_PAGE_DATA_REQUEST",FETCH_ADMIN_COURSE_PAGE_DATA_SUCCESS:"FETCH_COURSE_PAGE_DATA_SUCCESS",FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE:"FETCH_COURSE_PAGE_DATA_FAILURE",ADMIN_SAVE_MODULE_REQUEST:"ADMIN_SAVE_MODULE_REQUEST",ADMIN_SAVE_MODULE_SUCCESS:"ADMIN_SAVE_MODULE_SUCCESS",ADMIN_SAVE_MODULE_FAILURE:"ADMIN_SAVE_MODULE_FAILURE",ADMIN_UPDATE_ORDER_SUCCESS:"ADMIN_UPDATE_ORDER_SUCCESS",ADMIN_REMOVE_MODULE_REQUEST:"ADMIN_REMOVE_MODULE_REQUEST",ADMIN_REMOVE_MODULE_SUCCESS:"ADMIN_REMOVE_MODULE_SUCCESS",ADMIN_REMOVE_MODULE_FAILURE:"ADMIN_REMOVE_MODULE_FAILURE",ADMIN_COPY_MODULE_REQUEST:"ADMIN_COPY_MODULE_REQUEST",ADMIN_COPY_MODULE_SUCCESS:"ADMIN_COPY_MODULE_SUCCESS",ADMIN_COPY_MODULE_FAILURE:"ADMIN_COPY_MODULE_FAILURE"},D={ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST:"ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST",ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS:"ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS",ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE:"ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE",ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST:"ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST",ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS:"ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS",ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE:"ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE",ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST:"ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST",ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS:"ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS",ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE:"ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE",ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST:"ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST",ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS:"ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS",ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE:"ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE",ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST:"ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST",ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS:"ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS",ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE:"ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE",ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:"ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST",ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:"ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS",ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:"ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE",ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST:"ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST",ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS:"ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS",ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE:"ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE",ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST:"ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST",ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS:"ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS",ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE:"ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE",ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST:"ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST",ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS:"ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS",ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE:"ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE",ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST:"ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST",ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS:"ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS",ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE:"ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE",ADMIN_UPDATE_STUDENT_REGION_REQUEST:"ADMIN_UPDATE_STUDENT_REGION_REQUEST",ADMIN_UPDATE_STUDENT_REGION_SUCCESS:"ADMIN_UPDATE_STUDENT_REGION_SUCCESS",ADMIN_UPDATE_STUDENT_REGION_FAILURE:"ADMIN_UPDATE_STUDENT_REGION_FAILURE"},U={FETCH_ASSIGNMENT_FORUM_REQUEST:"FETCH_ASSIGNMENT_FORUM_REQUEST",FETCH_ASSIGNMENT_FORUM_SUCCESS:"FETCH_ASSIGNMENT_FORUM_SUCCESS",FETCH_ASSIGNMENT_FORUM_FAILURE:"FETCH_ASSIGNMENT_FORUM_FAILURE",FETCH_ANSWER_COMMENTS_REQUEST:"FETCH_ANSWER_COMMENTS_REQUEST",FETCH_ANSWER_COMMENTS_SUCCESS:"FETCH_ANSWER_COMMENTS_SUCCESS",FETCH_ANSWER_COMMENTS_FAILURE:"FETCH_ANSWER_COMMENTS_FAILURE",SUBMIT_QUESTION_REQUEST:"SUBMIT_QUESTION_REQUEST",SUBMIT_QUESTION_SUCCESS:"SUBMIT_QUESTION_SUCCESS",SUBMIT_QUESTION_FAILURE:"SUBMIT_QUESTION_FAILURE",SUBMIT_COMMENT_REQUEST:"SUBMIT_COMMENT_REQUEST",SUBMIT_COMMENT_SUCCESS:"SUBMIT_COMMENT_SUCCESS",SUBMIT_COMMENT_FAILURE:"SUBMIT_COMMENT_FAILURE",VOTE_REQUEST:"VOTE_REQUEST",VOTE_SUCCESS:"VOTE_SUCCESS",VOTE_FAILURE:"VOTE_FAILURE",SET_COMMENT_TO_ARCHIVE_REQUEST:"SET_COMMENT_TO_ARCHIVE_REQUEST",SET_COMMENT_TO_ARCHIVE_SUCCESS:"SET_COMMENT_TO_ARCHIVE_SUCCESS",SET_COMMENT_TO_ARCHIVE_FAILURE:"SET_COMMENT_TO_ARCHIVE_FAILURE",UPDATE_COMMENT_REQUEST:"UPDATE_COMMENT_REQUEST",UPDATE_COMMENT_SUCCESS:"UPDATE_COMMENT_SUCCESS",UPDATE_COMMENT_FAILURE:"UPDATE_COMMENT_FAILURE",UPLOAD_COMMENT_IMAGE_REQUEST:"UPLOAD_COMMENT_IMAGE_REQUEST",UPLOAD_COMMENT_IMAGE_SUCCESS:"UPLOAD_COMMENT_IMAGE_SUCCESS",UPLOAD_COMMENT_IMAGE_FAILURE:"UPLOAD_COMMENT_IMAGE_FAILURE",DELETE_COMMENT_IMAGE_REQUEST:"DELETE_COMMENT_IMAGE_REQUEST",DELETE_COMMENT_IMAGE_SUCCESS:"DELETE_COMMENT_IMAGE_SUCCESS",DELETE_COMMENT_IMAGE_FAILURE:"DELETE_COMMENT_IMAGE_FAILURE",ENDORSEMENT_REQUEST:"ENDORSEMENT_REQUEST",ENDORSEMENT_SUCCESS:"ENDORSEMENT_SUCCESS",ENDORSEMENT_FAILURE:"ENDORSEMENT_FAILURE",RESET_FORUM_ANSWER_COMMENTS:"RESET_FORUM_ANSWER_COMMENTS"},I={ANSWER:1,QUESTION:2,UPVOTE:3,DOWNVOTE:4,PINNED:5,FETCH_NOTIFICATIONS_REQUEST:"FETCH_NOTIFICATIONS_REQUEST",FETCH_NOTIFICATIONS_SUCCESS:"FETCH_NOTIFICATIONS_SUCCESS",FETCH_NOTIFICATIONS_FAILURE:"FETCH_NOTIFICATIONS_FAILURE",MARK_NOTIFICATIONS_AS_READ_REQUEST:"MARK_NOTIFICATIONS_AS_READ_REQUEST",MARK_NOTIFICATIONS_AS_READ_SUCCESS:"MARK_NOTIFICATIONS_AS_READ_SUCCESS",MARK_NOTIFICATIONS_AS_READ_FAILURE:"MARK_NOTIFICATIONS_AS_READ_FAILURE",SET_NOTIFICATIONS_AS_ARCHIVED_REQUEST:"SET_NOTIFICATIONS_AS_ARCHIVED_REQUEST",SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS:"SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS",SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE:"SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE"},M={ANSWER:1,QUESTION:2,UP_VOTE:3,DOWN_VOTE:4,PINNED:5},P={STUDENT:1,FREE_SEAT:2,GRADUATE:3,ALUMNI_PASS_USER:4,CORPORATE_USER:5,CORPORATE_DEMO:6,INSTRUCTOR:7,COURSE_EDITOR:8,ADMIN_USER:9,SUPER_ADMIN_USER:10},N=[P.INSTRUCTOR,P.COURSE_EDITOR,P.ADMIN_USER,P.SUPER_ADMIN_USER],L=[P.STUDENT,P.FREE_SEAT,P.GRADUATE,P.ALUMNI_PASS_USER,P.CORPORATE_USER,P.CORPORATE_DEMO],j=1,F=0,x=5,B={LESSON_MODULE:0,QUIZ_MODULE:1,TASK_MODULE:2,ADMIN_MODULE:3,END_CHAPTER_SURVEY_MODULE:4},K={0:"lesson",1:"quiz",2:"assignment",3:"admin_lesson",4:"chapter_survey"},W="https://operations462398.typeform.com/to/",H={DAILY_SURVEY_SCHEDULE_ID:1,MID_STACK_FULL_TIME_SURVEY_SCHEDULE_ID:2,END_STACK_FULL_TIME_SURVEY_SCHEDULE_ID:3,MID_STACK_PART_TIME_SURVEY_SCHEDULE_ID:4,END_STACK_PART_TIME_SURVEY_SCHEDULE_ID:5,NEW_STUDENT_SURVEY_SCHEDULE_ID:6,CAREER_SERVICES_SURVEY_SCHEDULE_ID:7,WEB_FUN_FULL_TIME_SURVEY_SCHEDULE_ID:8,WEB_FUN_PART_TIME_SURVEY_SCHEDULE_ID:9,WEB_FUN_PART_TIME_FLEX_SURVEY_SCHEDULE_ID:10,MID_STACK_PART_TIME_FLEX_SURVEY_SCHEDULE_ID:11,END_STACK_PART_TIME_FLEX_SURVEY_SCHEDULE_ID:12,MID_STACK_PROJECT_PART_TIME_SURVEY_SCHEDULE_ID:13,END_STACK_PROJECT_PART_TIME_SURVEY_SCHEDULE_ID:14,MID_STACK_PROJECT_PART_TIME_FLEX_SURVEY_SCHEDULE_ID:15,END_STACK_PROJECT_PART_TIME_FLEX_SURVEY_SCHEDULE_ID:16,SDA_DAILY_SURVEY_SCHEDULE_ID:20,SDA_NEW_STUDENT_SURVEY_SCHEDULE_ID:21},$=[H.NEW_STUDENT_SURVEY_SCHEDULE_ID,H.CAREER_SERVICES_SURVEY_SCHEDULE_ID,H.SDA_NEW_STUDENT_SURVEY_SCHEDULE_ID],q=[H.DAILY_SURVEY_SCHEDULE_ID,H.SDA_DAILY_SURVEY_SCHEDULE_ID],G={mid_final_stack_survey_code:"QLypVTE6"},Q={SKIP_SURVEY_REQUEST:"SKIP_SURVEY_REQUEST",SKIP_SURVEY_SUCCESS:"SKIP_SURVEY_SUCCESS",SKIP_SURVEY_FAILURE:"SKIP_SURVEY_FAILURE",TAKE_SURVEY_REQUEST:"TAKE_SURVEY_REQUEST",TAKE_SURVEY_SUCCESS:"TAKE_SURVEY_SUCCESS",TAKE_SURVEY_FAILURE:"TAKE_SURVEY_FAILURE"},V={all:["stack-survey","mid-stack-survey","end-stack-survey"],default:"stack-survey",mid_stack:"mid-stack-survey",end_stack:"end-stack-survey"},z=68,Y=[1,2,3,4,5,6],J=1,X=2,Z=3,ee=4,te=99,ne={SAVE_SESSION_PAGE_REQUEST:"SAVE_SESSION_PAGE_REQUEST",SAVE_SESSION_PAGE_SUCCESS:"SAVE_SESSION_PAGE_SUCCESS",SAVE_SESSION_PAGE_FAILURE:"SAVE_SESSION_PAGE_FAILURE",UPDATE_SESSION_PAGE_REQUEST:"UPDATE_SESSION_PAGE_REQUEST",UPDATE_SESSION_PAGE_SUCCESS:"UPDATE_SESSION_PAGE_SUCCESS",UPDATE_SESSION_PAGE_FAILURE:"UPDATE_SESSION_PAGE_FAILURE",SAVE_TEMP_ACTIVITY_LOGS:"SAVE_TEMP_ACTIVITY_LOGS",SAVE_SESSION_ACTIVITY_LOGS_REQUEST:"SAVE_SESSION_ACTIVITY_LOGS_REQUEST",SAVE_SESSION_ACTIVITY_LOGS_SUCCESS:"SAVE_SESSION_ACTIVITY_LOGS_SUCCESS",SAVE_SESSION_ACTIVITY_LOGS_FAILURE:"SAVE_SESSION_ACTIVITY_LOGS_FAILURE",IGNORE_ACTIVITY_LOGS_REQUEST:"IGNORE_ACTIVITY_LOGS_REQUEST",RESET_SESSION_REQUEST:"RESET_SESSION_REQUEST",RESET_SESSION_SUCCESS:"RESET_SESSION_SUCCESS",RESET_SESSION_FAILURE:"RESET_SESSION_FAILURE"},ae=1,se=[{id:0,title:"lesson"},{id:ae,title:"quiz"},{id:2,title:"to do"},{id:3,title:"admin"}],ie=1,oe=2,re=[{id:ie,title:"onsite"},{id:oe,title:"online"}],ce=(a={1:"Photo Release",2:"Enrollment Agreement",3:"Enrollment Agreement iOS",4:"Enrollment Agreement MEAN",5:"Enrollment Agreement LAMP",6:"Enrollment Agreement Python",7:"Enrollment Agreement RoR",8:"Enrollment Agreement C#.Net",9:"Enrollment Agreement Java",10:"Resume/CV",11:"Campus Tour Attendance Certificate",12:"CSC 005",13:"CSC 010",14:"Proof of Education",15:"Enrollment Agreement Amendment",16:"Enrollment Agreement Web Fundamentals",17:"Accident Waiver",18:"Progress Report",19:"Tuition History",20:"TWC Refund Worksheet",21:"Refund Proof",22:"Government Funding",23:"Completer Follow-Up Survey",24:"Graduation Certificate",25:"Coding Dojo Catalog",26:"Signed Withdrawal Form",27:"Plagiarism Evidence",28:"Cover Letter",29:"LinkedIn URL",30:"Portfolio URL",31:"Exclude from Placement Form",32:"Unsigned Withdrawal Form",33:"Unsigned Enrollment Amendment",34:"Enrollment Agreement Project building and Algorithm ",35:"CS Opt Out",36:"CS Roadmap",37:"CS Resume"},Object(s.a)(a,"37","Withdrawal Request Form"),Object(s.a)(a,"99","Others"),a),_e=[73,174,182,215],le={accepted:3,paid_deposit:4,upcoming_student:4.1,current_student:4.2,pending:4.3,incomplete:4.4,dropped_class:4.5,alumni:4.6};var ue=m,de="fm64i99S7HiYScN82JGOWnfo",pe={GET_DISCUSSION_REQUEST:"GET_DISCUSSION_REQUEST",GET_DISCUSSION_SUCCESS:"GET_DISCUSSION_SUCCESS",GET_DISCUSSION_FAILURE:"GET_DISCUSSION_FAILURE",GET_DISCUSSION_RESPONSES_REQUEST:"GET_DISCUSSION_RESPONSES_REQUEST",GET_DISCUSSION_RESPONSES_SUCCESS:"GET_DISCUSSION_RESPONSES_SUCCESS",GET_DISCUSSION_RESPONSES_FAILURE:"GET_DISCUSSION_RESPONSES_FAILURE",SAVE_DISCUSSION_RESPONSE_REQUEST:"SAVE_DISCUSSION_RESPONSE_REQUEST",SAVE_DISCUSSION_RESPONSE_SUCCESS:"SAVE_DISCUSSION_RESPONSE_SUCCESS",SAVE_DISCUSSION_RESPONSE_FAILURE:"SAVE_DISCUSSION_RESPONSE_FAILURE",REMOVE_DISCUSSION_RESPONSE_REQUEST:"REMOVE_DISCUSSION_RESPONSE_REQUEST",REMOVE_DISCUSSION_RESPONSE_SUCCESS:"REMOVE_DISCUSSION_RESPONSE_SUCCESS",REMOVE_DISCUSSION_RESPONSE_FAILURE:"REMOVE_DISCUSSION_RESPONSE_FAILURE",VOTE_DISCUSSION_RESPONSE_REQUEST:"VOTE_DISCUSSION_RESPONSE_REQUEST",VOTE_DISCUSSION_RESPONSE_SUCCESS:"VOTE_DISCUSSION_RESPONSE_SUCCESS",VOTE_DISCUSSION_RESPONSE_FAILURE:"VOTE_DISCUSSION_RESPONSE_FAILURE",UPDATE_DISCUSSION_DETAILS_REQUEST:"UPDATE_DISCUSSION_DETAILS_REQUEST",UPDATE_DISCUSSION_DETAILS_SUCCESS:"UPDATE_DISCUSSION_DETAILS_SUCCESS",UPDATE_DISCUSSION_DETAILS_FAILURE:"UPDATE_DISCUSSION_DETAILS_FAILURE",DELETE_DISCUSSION_QUESTION_REQUEST:"DELETE_DISCUSSION_QUESTION_REQUEST",DELETE_DISCUSSION_QUESTION_SUCCESS:"DELETE_DISCUSSION_QUESTION_SUCCESS",DELETE_DISCUSSION_QUESTION_FAILURE:"DELETE_DISCUSSION_QUESTION_FAILURE"},me={FETCH_FILTER_OPTIONS_DATA_REQUEST:"FETCH_FILTER_OPTIONS_DATA_REQUEST",FETCH_FILTER_OPTIONS_DATA_SUCCESS:"FETCH_FILTER_OPTIONS_DATA_SUCCESS",FETCH_FILTER_OPTIONS_DATA_FAILURE:"FETCH_FILTER_OPTIONS_DATA_FAILURE",UPDATE_FILTER_OPTIONS_REQUEST:"UPDATE_FILTER_OPTIONS_REQUEST",UPDATE_FILTER_OPTIONS_SUCCESS:"UPDATE_FILTER_OPTIONS_SUCCESS",UPDATE_FILTER_OPTIONS_FAILURE:"UPDATE_FILTER_OPTIONS_FAILURE",FETCH_FILTERED_STUDENT_DATA_REQUEST:"FETCH_FILTERED_STUDENT_DATA_REQUEST",FETCH_FILTERED_STUDENT_DATA_SUCCESS:"FETCH_FILTERED_STUDENT_DATA_SUCCESS",FETCH_FILTERED_STUDENT_DATA_FAILURE:"FETCH_FILTERED_STUDENT_DATA_FAILURE",ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST:"ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST",ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS:"ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS",ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE:"ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE"},he={SORTABLE_COLUMNS:{time_asked:"date_posted",reply_view:"reply_count",total_question_likes:"upvote_count",total_answers_likes:"total_answers_likes",endorsed_answers:"total_endorsed_answers"},DEFAULT_VALUES:{records_per_page:15,first_page:1},ASSIGNMENT_MONITORING_FILTERS:{stack_start_date:"stack_start_date",programs:"programs",duration:"duration",stack:"stack",user:"user"},FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:"FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST",FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:"FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS",FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:"FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE",FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST:"FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST",FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS:"FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS",FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE:"FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE",UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:"UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST",UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:"UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS",UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:"UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE"},fe={0:"yellow",1:"red",2:"black",3:"orange"},Ee={down_vote:0,up_vote:1,endorsement:2,un_endorsement:3,neutral:4},ge={assignment_file:1e8,comment_img_file:2e7},be={STRING:{text:65535}},ve=1,Se=1,Oe=0,ke={7:"Instructor",8:"Course Editor",9:"Admin",10:"Super Admin"},Te={all:[1,2,3,4,5,6,7,8,9],codingdojo:1,saudi:2,palestine:3,chile:4,albania:5,ecuador:6,peru:7,costa_rica:8,philippines:9},Ce=1,Ae={all:{name:"ALL_DATES"},today:{name:"TODAY",default_value:0,default:"DAY"},yesterday:{name:"YESTERDAY",default_value:1,default:"DAY"},past_week:{name:"PAST WEEK",default_value:7,default:"DAY"},past_month:{name:"PAST_MONTH",default_value:1,default:"MONTH"},past_three_months:{name:"PAST_THREE_MONTHS",default_value:3,default:"MONTH"},past_six_months:{name:"PAST_SIX_MONTHS",default_value:6,default:"MONTH"},past_year:{name:"PAST_YEAR",default_value:1,default:"YEAR"}},Re={us_domestics:{online:{parttime:10,parttime_flex:27,parttime_2_stack:76,parttime_3_stack:78}}},ye=[Re.us_domestics.online.parttime,Re.us_domestics.online.parttime_2_stack,Re.us_domestics.online.parttime_3_stack],we={ASSIGNMENT_FORUM_AND_NOTIFICATIONS:{id:"ASSIGNMENT_FORUM_AND_NOTIFICATIONS",student:{user_level_ids:[P.STUDENT],allowed_stack_ids:[99],allowed_track_ids:[283,141,308],allowed_program_type_ids:[].concat(ye,[Re.us_domestics.online.parttime_flex]),allowed_stack_start_dates:["2022-01-10"],visible_on:"2022-01-10"}}};["staging3","development"].includes("production")&&(we.ASSIGNMENT_FORUM_AND_NOTIFICATIONS.python_v21_part_time_flex={user_level_ids:[P.STUDENT],allowed_stack_ids:[99,4],allowed_track_ids:[141],allowed_program_type_ids:[27],allowed_stack_start_dates:["2021-07-06","2021-10-25"]});var De=we,Ue={FETCH_USER_FORUM_SUMMARY_REQUEST:"FETCH_USER_FORUM_SUMMARY_REQUEST",FETCH_USER_FORUM_SUMMARY_SUCCESS:"FETCH_USER_FORUM_SUMMARY_SUCCESS",FETCH_USER_FORUM_SUMMARY_FAILURE:"FETCH_USER_FORUM_SUMMARY_FAILURE",RESET_USER_FORUM_SUMMARIES:"RESET_USER_FORUM_SUMMARIES"},Ie={YES_VALUE:1,NO_VALUE:0};t.pb=Object.assign({},{APIConstants:h},{BookmarkConstants:b},{ChapterSurveyConstants:A},{CoursePageConstants:C},{DiscussionConstants:pe},{EnrolledTrackConstants:v},{FAQConstants:S},{TrackConstants:g},{UserChecklistConstants:O},{UserConstants:E},{UserDashboardConstants:T},{UserExamConstants:R},{ALGO_APP_CONTENT_ID:z},{EnrollAppConstants:y},{UserSessionPageConstants:ne},{LESSON_MODULE:0},{QUIZ_MODULE:ae},{TODO_MODULE:2},{ADMIN_MODULE:3},{MODULE_TYPES:se},{SurveyFrequencyDays:{ONE_TIME:0,EVERYDAY:1,EVERY_TWO_DAYS:2,EVERY_THREE_DAYS:3,EVERY_WEEK:7,MONTHLY:30}},{SurveyReceipientTypes:{ALL_CURRENT_STUDENTS:1,ALL_ALUMNI:2,BY_COHORT:3,BY_STACK:4,BY_LOCATION:5}},{SurveyCodes:{1:"tGgzZC2q",2:"QLypVTE6",3:"QLypVTE6",4:"QLypVTE6",5:"QLypVTE6",6:"XfbavkkQ",7:"swuvmlQ6",8:"GXSP20UQ",9:"GXSP20UQ",10:"GXSP20UQ",11:"QLypVTE6",12:"QLypVTE6",13:"QLypVTE6",14:"QLypVTE6",15:"QLypVTE6",16:"QLypVTE6"}},{fixedSurveyScheduleIds:H},{dailySurveyScheduleIds:q},{mandatoryOneTimeSurveyScheduleIds:$},{TYPE_FORM_CODINGDOJO_LINK:W},{SurveyConstants:Q},{USERS_TO_TRACK:Y},{USER_FILE_TYPES:ce},{AdminRosterStudentMatchingConstants:me},{BELT_STACKS:{0:{label:"WebFun"},1:{label:"LAMP"},2:{label:"MEAN"},3:{label:"Python"},4:{label:"Rails"},5:{label:"iOS"},6:{label:"C#/.Net"},7:{label:"Java"},8:{label:"MERN"},9:{label:"Programming Basics"}}},{BELT_COLORS:fe},{TypeformSurveyCodes:G},{ADMIN_LEVELS:ke},{WORKSPACE_IDS:Te},{YES:Ce},{TIME_EXPRESSIONS:Ae},{BOOTCAMP_TYPES:Re},{PART_TIME_ACCELERATED_PROGRAMS:ye},{USER_PRIVILEGES:De},{UserForumSummaryConstants:Ue},{BOOLEAN_FIELD:Ie},{ModuleTypeClassName:K})},1040:function(e,t,n){},1041:function(e,t,n){},1042:function(e,t,n){},1043:function(e,t,n){},1044:function(e,t,n){},1045:function(e,t,n){},1046:function(e,t,n){},1047:function(e,t,n){},1048:function(e,t,n){},1049:function(e,t,n){},1050:function(e,t,n){},1051:function(e,t,n){},1052:function(e,t,n){},1053:function(e,t,n){},1054:function(e,t,n){},1055:function(e,t,n){},1056:function(e,t,n){},1057:function(e,t,n){},1058:function(e,t,n){},1059:function(e,t,n){},1060:function(e,t,n){},1063:function(e,t,n){},1064:function(e,t,n){},1065:function(e,t,n){},1066:function(e,t,n){},1068:function(e,t,n){},1069:function(e,t,n){},1070:function(e,t,n){},1071:function(e,t,n){},1072:function(e,t,n){},1073:function(e,t,n){},1074:function(e,t,n){},1075:function(e,t,n){},1087:function(e,t,n){},1088:function(e,t,n){},1089:function(e,t,n){},109:function(e,t,n){"use strict";var a=n(4),s=n(3),i=n(7),o=n(6),r=n(5),c=n(0),_=n.n(c),l=n(1120),u=(n(422),n(1)),d=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentWillUnmount=function(){a.props.resetUserForumSummaries()},a.state={upvotes_received:null,answers_endorsed:null,questions_answered:null},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUserForumSummary({user_id:this.props.person_details.user_id})}},{key:"render",value:function(){var e=this.props.determine_author_type,t=this.props.person_details,n=t.current_track,a=t.first_name,s=t.last_name,i=t.profile_img_url,o=t.program,r=t.type,c=this.state,d=c.questions_answered,p=c.answers_endorsed,m=c.upvotes_received;return _.a.createElement(l.a,Object.assign({},this.props,{className:"profile_popover ".concat(e(r))}),_.a.createElement("div",{className:"popover_header"},_.a.createElement("img",{src:i||"https://cd-student-files.s3.us-west-2.amazonaws.com/boomyeah2015/codingdojo/user4387/profile_pic/1625214416903-Screen%20Shot%202021-07-02%20at%2010.51.20%20AM.png",alt:"user profile picture"})),_.a.createElement("div",{className:"popover_body"},_.a.createElement("h5",{className:"name"},a," ",s),u.b.includes(r)?_.a.createElement("span",null,"Dojo Admin"):_.a.createElement(_.a.Fragment,null,_.a.createElement("span",null,o),_.a.createElement("span",null,"Learning ",n)),_.a.createElement("ul",{className:"list-unstyled assignment_forum_details"},_.a.createElement("li",null,_.a.createElement("span",null,d),_.a.createElement("span",null,"QUESTIONS ANSWERED")),_.a.createElement("li",null,_.a.createElement("span",null,m),_.a.createElement("span",null,"UPVOTES RECEIVED")),_.a.createElement("li",null,_.a.createElement("span",null,p),_.a.createElement("span",null,"ANSWERS ENDORSED")))))}}]),n}(c.Component);d.getDerivedStateFromProps=function(e){return Object(a.a)({},e.user_forum_summaries)},t.a=d},1090:function(e,t,n){},1092:function(e,t,n){},1093:function(e,t,n){},1094:function(e,t,n){},1095:function(e,t,n){},1096:function(e,t,n){},1097:function(e,t,n){},1098:function(e,t,n){},1099:function(e,t,n){},1100:function(e,t,n){},1101:function(e,t,n){},1102:function(e,t,n){},1103:function(e,t,n){},1104:function(e,t,n){},1105:function(e,t,n){},1109:function(e,t,n){},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(3),s=n(1),i=n(6),o=n(5),r=n(2),c=new(function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).fetch_user_bookmarks=function(){return this.sendRequest("".concat(s.d.URL,"/bookmarks/fetch_bookmarks"),{},!0).then(r.h).then((function(e){return e}))},e.save_new_user_bookmark=function(e,t){return this.sendRequest("".concat(s.d.URL,"/bookmarks/save_bookmark/").concat(e),t,!0).then(r.h).then((function(e){return e}))},e.remove_user_bookmark=function(e,t){return this.sendRequest("".concat(s.d.URL,"/bookmarks/remove_bookmark/").concat(e),t,!0).then(r.h).then((function(e){return e}))},e}return n}(n(26).a)),_=new function e(){Object(a.a)(this,e),this.get_user_bookmarks=function(){return function(e){e(Object(r.i)({type:s.k.GET_BOOKMARKS_REQUEST},{})),c.fetch_user_bookmarks().then((function(t){!0===t.status?e(Object(r.i)({type:s.k.GET_BOOKMARKS_SUCCESS},{user_bookmarks:t.result})):e(Object(r.i)({type:s.k.GET_BOOKMARKS_FAILURE},{error:t.message}))}),(function(t){var n=Object(r.a)(t);e(Object(r.i)({type:s.k.GET_BOOKMARKS_FAILURE},{error:n}))}))}},this.save_new_user_bookmarks=function(e,t){return function(n){n(Object(r.i)({type:s.k.SAVE_NEW_BOOKMARK_REQUEST},{})),c.save_new_user_bookmark(e,t).then((function(e){!0===e.status?n(Object(r.i)({type:s.k.SAVE_NEW_BOOKMARK_SUCCESS},{user_bookmarks:e.result})):n(Object(r.i)({type:s.k.SAVE_NEW_BOOKMARK_FAILURE},{error:e.message}))}),(function(e){var t=Object(r.a)(e);n(Object(r.i)({type:s.k.SAVE_NEW_BOOKMARK_FAILURE},{error:t}))}))}},this.remove_user_bookmark=function(e,t){return function(n){n(Object(r.i)({type:s.k.REMOVE_BOOKMARK_REQUEST},{})),c.remove_user_bookmark(e,t).then((function(e){!0===e.status?n(Object(r.i)({type:s.k.REMOVE_BOOKMARK_SUCCESS},{bookmark:e.result})):n(Object(r.i)({type:s.k.REMOVE_BOOKMARK_FAILURE},{error:e.message}))}),(function(e){var t=Object(r.a)(e);n(Object(r.i)({type:s.k.REMOVE_BOOKMARK_FAILURE},{error:t}))}))}}}},1111:function(e,t,n){},1112:function(e,t,n){},1113:function(e,t,n){},1114:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(43),o=n.n(i),r=n(1131),c=n(61),_=n(367),l=n(16),u=n(60),d=n(337),p=n(338),m=n(1),h=n(2),f={profile:{},courses:{track:{}},rostering:{filter_dropdowns:[],filtered_students:[],filtered_instructors:[],is_data_processing:!1}},E=Object(h.g)();!0===E.status&&(f.profile=E.user_details);var g=n(4),b={user_checklist:[],track_courses:[],current_track:null,assignments:[],belts:[]};var v={active_user_session_id:null,active_user_session_page_id:null,is_resetting_session:!1,is_session_page_saving:!1,is_session_page_updating:!1,is_saving_logs:!1,activity_logs:[]};var S=n(19),O=n(24),k={user_data:{track_progress_view_more:{name:"tracks_progress",is_expanded:!1,limit:10,default_limit:10},recent_exam_view_more:{name:"belt_exams",is_expanded:!1,limit:8,default_limit:8},is_show_progress:!1,is_show_track_courses_modal:!1,is_show_daily_survey_modal:!1,is_show_career_service_survey_modal:!1,tracks_progress:[],belts:[],belt_exams:[],tracks:[],pre_bootcamp_tracks:[],special_tracks:[],locked_tracks:[],is_show_installment_due_reminder_modal:!1,is_show_installment_overdue_modal:!1,is_show_withdrawal_request_form_modal:!1,is_show_withdrawal_request_modal:!1,is_show_enrollment_agreement_modal:!1,is_show_enrollment_agreement_amendment_modal:!1,is_show_survey_modal:!1,cd_survey_scheds:[],tuition_reminders_data:{pending_payment:{status:!1,message:"",is_overdue:!1}},is_show_google_rating_modal:!1,review_data:{},enc_user_id:null,enc_applicant_id:null}};var T={is_export:!1},C=Object(h.g)();!0===C.status&&(T.profile=C.user_details);var A={bookmark_list:[]};var R={},y=Object(h.g)();!0===y.status&&(R.is_logged_in=!0,R.user_details=y.user_details),R.is_password_retrieved=!1,R.is_password_reset=!1,R.reported_an_issue=!1,R.forgot_password_ongoing=!1,R.is_uploading_profile_pic=!1,R.switch_program=!1,R.user_search_result={modules_search_results:[],chapters_search_results:[],courses_search_results:[],is_loading:!1};var w=n(342),D={current_user_id:null,discussion_sidebar:[],selected_question_data:null,show_response_form:!1,discussion_responses:[],user_votes:null,discussion_breadcrumbs:[],is_instructor:!1,active_week_id:null};var U={filters:[{name:"stack",title:"Stack",options:[]},{name:"stack_start_date",title:"Stack Start Date",options:[]},{name:"programs",title:"Programs",options:[]},{name:"duration",title:"Duration",options:[{value:m.T.today,label:"Today"},{value:m.T.past_week,label:"Past Week"},{value:m.T.past_month,label:"Past Month"},{value:m.T.past_three_months,label:"Past Three Months"},{value:m.T.past_six_months,label:"Past Six Months"},{value:m.T.past_year,label:"Past Year"},{value:m.T.all,label:"All Dates"}]},{name:"user",title:"User",options:[{value:m.I,label:"Student"},{value:m.b,label:"Admin"}]}],results:[],pagination:{}};var I={};function M(e,t){return t===m.jb.up_vote?e.vote_state===m.jb.down_vote||null===e.vote_state?(e.cache_upvotes_count+=1,e.vote_state===m.jb.down_vote&&(e.cache_downvotes_count-=1),e.vote_state=m.jb.up_vote):(e.cache_upvotes_count-=1,e.vote_state=null):e.vote_state===m.jb.up_vote||null===e.vote_state?(e.cache_downvotes_count+=1,e.vote_state===m.jb.up_vote&&(e.cache_upvotes_count-=1),e.vote_state=m.jb.down_vote):(e.cache_downvotes_count-=m.y,e.vote_state=null),e}I.forum_assignment_questions=[],I.is_show_ask_forum_question_modal=!1,I.forum_assignment_answers=[],I.is_show_delete_question_modal=!1,I.uploaded_attachments=[],I.is_uploading=!1,I.uploading_error="",I.new_question_id=null;var P={notification_count:0,is_empty_notification:!0};function N(e,t){var n=0;return e.map((function(e){n=e.is_read?n:n+1;var a=new Date,s=Object(h.d)(a,new Date(e.created_at)),i=60*a.getHours()+a.getMinutes();if(e.notifier_details.constructor===String){e.description=Object(h.u)(e.description);var o=JSON.parse(e.notifier_details),r=o.forum_summary_json?JSON.parse(o.forum_summary_json):{questions_asked:0,questions_answered:0,answers_endorsed:0,upvotes_received:0,downvotes_received:0};e.notifier_details=Object(g.a)(Object(g.a)({},o),r)}s<1&&s>=0?24*s*60>i?t[1].content.push(e):t[0].content.push(e):s>=1&&s<2?t[1].content.push(e):t[2].content.push(e)})),{result:t.map((function(e){if(e.content.length>0){var t,n,a,s=[],i=[],o=[],r=[],c=[];e.content.map((function(e){e.notification_type_id===m.K.QUESTION&&null!==e.id?e.is_read?(c.push(e.id),i.push(e)):(r.push(e.id),s.push(e)):o.push(e)})),s.length>0&&(n={id:[].concat(r),person_count:s.length,notification_type_id:m.K.QUESTION,created_at:s[0].created_at,notifier_details:{user_id:s[0].notifier_details.user_id,first_name:s[0].notifier_details.first_name,last_name:s[0].notifier_details.last_name},is_read:0,questions_details:s}),i.length>0&&(t={id:[].concat(c),person_count:i.length,notification_type_id:m.K.QUESTION,created_at:i[0].created_at,notifier_details:{user_id:i[0].notifier_details.user_id,first_name:i[0].notifier_details.first_name,last_name:i[0].notifier_details.last_name},is_read:1,questions_details:i}),a=n&&t?[n,t]:n||t?n?[n]:[t]:[],e.content=[].concat(Object(S.a)(a),o)}return e})),unread_count:n}}var L={upvotes_received:null,answers_endorsed:null,questions_answered:null,downvotes_received:null,questions_asked:null};var j=Object(u.c)({admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.f.FETCH_ADMIN_COURSE_PAGE_DATA_REQUEST:return{profile:e.profile,courses:{track:{}}};case m.f.FETCH_ADMIN_COURSE_PAGE_DATA_SUCCESS:return{profile:e.profile,courses:{track:t.track}};case m.f.FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE:return{profile:e.profile,courses:{track:{}}};case m.f.ADMIN_UPDATE_ORDER_SUCCESS:return{profile:e.profile,courses:{track:t.track}};case m.f.ADMIN_SAVE_MODULE_SUCCESS:e.courses.track.active_module.last_updated_at=t.last_updated_at,e.courses.track.active_module.chapter_module_title=t.module_data.title,e.courses.track.active_module.content=t.module_data.content,e.courses.track.active_module.program_types=t.module_data.program_types;for(var n=0;n<e.courses.track.chapters.length;n++)void 0!==e.courses.track.chapters[n].chapter_modules&&(e.courses.track.chapters[n].chapter_modules=e.courses.track.chapters[n].chapter_modules.map((function(t){return t.chapter_module_id===e.courses.track.active_module.chapter_module_id&&(t=e.courses.track.active_module),t})));return{profile:e.profile,courses:{track:e.courses.track}};case m.g.FETCH_FILTER_OPTIONS_DATA_REQUEST:return{profile:e.profile,courses:{track:{}},rostering:{filter_dropdowns:[],filtered_students:[],filtered_instructors:[]}};case m.g.FETCH_FILTER_OPTIONS_DATA_SUCCESS:return{profile:e.profile,courses:{track:{}},rostering:{filter_dropdowns:t.filter_data,filtered_students:[],filtered_instructors:[]}};case m.g.FETCH_FILTER_OPTIONS_DATA_FAILURE:return{profile:e.profile,courses:{track:{}},rostering:{filter_dropdowns:[],filtered_students:[],filtered_instructors:[]}};case m.g.UPDATE_FILTER_OPTIONS_REQUEST:return{profile:e.profile,courses:{track:{}},rostering:e.rostering};case m.g.UPDATE_FILTER_OPTIONS_SUCCESS:var a=t.filter_data,s=function(t){a.map((function(n){e.rostering.filter_dropdowns[t].name==n.name&&(e.rostering.filter_dropdowns[t].options=n.options,e.rostering.filter_dropdowns[t].selected=[])}))};for(var i in e.rostering.filter_dropdowns)s(i);return{profile:e.profile,courses:{track:{}},rostering:e.rostering};case m.g.UPDATE_FILTER_OPTIONS_FAILURE:case m.g.FETCH_FILTERED_STUDENT_DATA_REQUEST:return{profile:e.profile,courses:{track:{}},rostering:e.rostering};case m.g.FETCH_FILTERED_STUDENT_DATA_SUCCESS:return{profile:e.profile,courses:{track:{}},rostering:{filter_dropdowns:e.rostering.filter_dropdowns,filtered_students:t.filtered_students,filtered_instructors:t.filtered_instructors}};case m.g.FETCH_FILTERED_STUDENT_DATA_FAILURE:return{profile:e.profile,courses:{track:{}},rostering:{filter_dropdowns:e.rostering.filter_dropdowns,filtered_students:[],filtered_instructors:[]}};case m.g.ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST:return{profile:e.profile,courses:{track:{}},rostering:{filter_dropdowns:e.rostering.filter_dropdowns,filtered_students:e.rostering.filtered_students,filtered_instructors:e.rostering.filtered_instructors,is_data_processing:!0}};case m.g.ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS:var o=e.rostering,r=o.filter_dropdowns,c=o.filtered_students,_=o.filtered_instructors,l=t.table_data,u=t.success_update_students,d=t.fail_update_students;if(u.length>0){var p=[];if(!0===l.is_from_students_table){var h,E=u.map((function(e){return c[e.student_index].is_selected=!1,p.push(c[e.student_index]),e.student_id}));c=c.filter((function(e){return!1===E.includes(e.id)})),_[l.instructor_index].is_open=!0,(h=_[l.instructor_index].students).push.apply(h,p)}else{var g,b,v=_[l.instructor_index].students,S=u.map((function(e){return v[e.student_index].is_selected=!1,p.push(v[e.student_index]),e.student_id}));_[l.instructor_index].students=v.filter((function(e){return!1===S.includes(e.id)})),"main_student_table"===l.destination_instrutor_index?(g=c).push.apply(g,p):(b=_[parseInt(l.destination_instrutor_index)-1].students).push.apply(b,p)}}if(d.length>0){var O=d.map((function(e){return!1===l.is_from_students_table&&(_[l.instructor_index].students[e.student_index].is_selected=!1),e.student_name}));alert("The following student/s failed to be assigned to the instructor. Please check if you are assigning them to the instructor with the correct Program Type and if the instructor is available in the students bootcamp locations. \n\n"+O.join("\n"))}return t.error&&alert(t.error),{profile:e.profile,courses:{track:{}},rostering:{filter_dropdowns:r,filtered_students:c,filtered_instructors:_,is_data_processing:!1}};case m.g.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE:return alert(t.error),{profile:e.profile,courses:{track:{}},rostering:e.rostering};default:return e}},analytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ib.SAVE_SESSION_PAGE_REQUEST:return{active_user_session_id:e.active_user_session_id||null,active_user_session_page_id:e.active_user_session_page_id||null,is_resetting_session:e.is_resetting_session,is_session_page_saving:!0,is_session_page_updating:e.is_session_page_updating,is_saving_logs:e.is_saving_logs,activity_logs:e.activity_logs};case m.ib.SAVE_SESSION_PAGE_SUCCESS:return{active_user_session_id:t.session_page.user_session_id,active_user_session_page_id:t.session_page.user_session_page_id,is_resetting_session:e.is_resetting_session,is_session_page_saving:!1,is_session_page_updating:e.is_session_page_updating,is_saving_logs:e.is_saving_logs,activity_logs:e.activity_logs};case m.ib.UPDATE_SESSION_PAGE_REQUEST:return{active_user_session_id:e.active_user_session_id||null,active_user_session_page_id:e.active_user_session_page_id||null,is_resetting_session:e.is_resetting_session,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:!0,is_saving_logs:e.is_saving_logs,activity_logs:e.activity_logs};case m.ib.UPDATE_SESSION_PAGE_SUCCESS:return{active_user_session_id:e.active_user_session_id,active_user_session_page_id:t.session_page.user_session_page_id,is_resetting_session:e.is_resetting_session,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:!1,is_saving_logs:e.is_saving_logs,activity_logs:e.activity_logs};case m.ib.SAVE_TEMP_ACTIVITY_LOGS:var n=e.activity_logs;return n.push(t.session_log),{active_user_session_id:e.active_user_session_id,active_user_session_page_id:e.active_user_session_page_id,is_resetting_session:e.is_resetting_session,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:e.is_session_page_updating,is_saving_logs:e.is_saving_logs,activity_logs:n};case m.ib.SAVE_SESSION_ACTIVITY_LOGS_REQUEST:return{active_user_session_id:e.active_user_session_id,active_user_session_page_id:e.active_user_session_page_id,is_resetting_session:e.is_resetting_session,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:e.is_session_page_updating,is_saving_logs:!0,activity_logs:e.activity_logs};case m.ib.SAVE_SESSION_ACTIVITY_LOGS_SUCCESS:return{active_user_session_id:e.active_user_session_id,active_user_session_page_id:e.active_user_session_page_id,is_resetting_session:e.is_resetting_session,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:e.is_session_page_updating,is_saving_logs:!1,activity_logs:[]};case m.ib.SAVE_SESSION_ACTIVITY_LOGS_FAILURE:return{active_user_session_id:e.active_user_session_id,active_user_session_page_id:e.active_user_session_page_id,is_resetting_session:e.is_resetting_session,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:e.is_session_page_updating,is_saving_logs:!1,activity_logs:e.activity_logs};case m.ib.RESET_SESSION_REQUEST:return{active_user_session_id:e.active_user_session_id,active_user_session_page_id:e.active_user_session_page_id,is_resetting_session:!0,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:e.is_session_page_updating,is_saving_logs:e.is_saving_logs,activity_logs:e.activity_logs};case m.ib.RESET_SESSION_SUCCESS:return{active_user_session_id:t.session_page.user_session_id,active_user_session_page_id:t.session_page.user_session_page_id,is_resetting_session:!1,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:e.is_session_page_updating,is_saving_logs:e.is_saving_logs,activity_logs:e.activity_logs};case m.ib.RESET_SESSION_FAILURE:return{active_user_session_id:e.active_user_session_id,active_user_session_page_id:e.active_user_session_page_id,is_resetting_session:!1,is_session_page_saving:e.is_session_page_saving,is_session_page_updating:e.is_session_page_updating,is_saving_logs:e.is_saving_logs,activity_logs:e.activity_logs};default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.db.GET_USER_DASHBOARD_SUCCESS:return{user_data:t.dashboard,active_track:void 0};case m.t.GET_ENROLLAPP_LINK_SUCCESS:return Object(g.a)({},e);case m.db.GET_DASHBOARD_TRACK_COURSES_REQUEST:return{user_data:e.user_data,active_track:void 0};case m.db.GET_DASHBOARD_TRACK_COURSES_SUCCESS:return{user_data:e.user_data,active_track:t.active_track};case m.db.GET_DASHBOARD_TRACK_PROGRESS_REQUEST:return{user_data:e.user_data,active_track:e.active_track};case m.db.GET_DASHBOARD_TRACK_PROGRESS_SUCCESS:var n=e.user_data;return n.track_progress=t.track_progress,{user_data:n,active_track:e.active_track};case m.db.GET_DASHBOARD_TRACK_PROGRESS_FAILURE:var a=e.user_data,s=a.pre_bootcamp_tracks,i=a.special_tracks,o=a.tracks,r=a.locked_tracks,c=[].concat(Object(S.a)(s),Object(S.a)(i),Object(S.a)(o),Object(S.a)(r)).filter((function(e){return!0===e.is_current})),_=Object(O.a)(c,1),l=_[0];return a.track_progress=void 0!==l?{title:l.name,courses:l.courses,current_module_link:l.current_module_link}:void 0,{user_data:a,active_track:e.active_track};case m.db.HIDE_DUE_REMINDER_REQUEST:return e.user_data[t.modal_name]=t.new_value,{user_data:e.user_data,active_track:e.active_track};case m.R.SKIP_SURVEY_SUCCESS:case m.R.TAKE_SURVEY_SUCCESS:return e.user_data.cd_survey_scheds=e.user_data.cd_survey_scheds.filter((function(e){return e.cd_survey_user_id!==t.cd_survey_user_id})),{user_data:e.user_data,active_track:t.active_track,redirect_to_enroll_app:void 0};case m.db.SUBMIT_REVIEW_REQUEST:return Object(g.a)({},e);case m.db.SUBMIT_REVIEW_SUCCESS:return e.user_data.is_show_google_rating_modal=!1,{user_data:e.user_data};case m.db.SUBMIT_REVIEW_FAILURE:return Object(g.a)({},e);default:return{user_data:e.user_data,active_track:void 0,redirect_to_enroll_app:void 0}}},checklists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.bb.GET_USER_CHECKLISTS_REQUEST:return{user_checklist:[],track_courses:[],assignments:null,current_track:null,belts:e.belts};case m.bb.GET_USER_CHECKLISTS_SUCCESS:return{user_checklist:t.checklists.user_enrolled_tracks,track_courses:[],assignments:null,current_track:t.checklists.current_track,belts:e.belts};case m.bb.GET_USER_CHECKLISTS_FAILURE:return e;case m.bb.GET_USER_CHECKLISTS_COURSE_REQUEST:return{user_checklist:e.user_checklist,current_track:e.current_track,track_courses:e.track_courses,assignments:null,belts:e.belts};case m.bb.GET_USER_CHECKLISTS_COURSE_SUCCESS:return{user_checklist:e.user_checklist,current_track:t.track_courses.track_id,track_courses:t.track_courses.courses,assignments:null,belts:e.belts};case m.bb.GET_USER_ASSIGNMENTS_REQUEST:return{user_checklist:e.user_checklist,current_track:e.current_track,track_courses:e.track_courses,assignments:null,belts:e.belts};case m.bb.GET_USER_ASSIGNMENTS_SUCCESS:return{user_checklist:e.user_checklist,current_track:e.current_track,track_courses:e.track_courses,assignments:t.assignments.chapter_module_checklists,belts:e.belts};case m.bb.GET_USER_ASSIGNMENTS_FAILURE:return{user_checklist:e.user_checklist,current_track:e.current_track,track_courses:e.track_courses,assignments:null,belts:e.belts};case m.fb.SET_FEEDBACK_AS_READ_REQUEST:case m.fb.SET_FEEDBACK_AS_READ_SUCCESS:return Object(g.a)({},e);case m.fb.SET_FEEDBACK_AS_READ_FAILURE:return e.assignments.map((function(e){e.feedback.id===t.error.id&&(e.feedback.is_read=m.v)})),Object(g.a)({},e);default:return e}},exams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lp2_exam_link:null,exam_histories:[],belts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.eb.GET_USER_LP2_EXAM_LINK_REQUEST:return{lp2_exam_link:null,exam_histories:e.exam_histories,belts:e.belts};case m.eb.GET_USER_LP2_EXAM_LINK_SUCCESS:return{lp2_exam_link:t.exam.link||null,exam_histories:e.exam_histories,belts:e.belts};case m.eb.GET_USER_EXAM_HISTORY_REQUEST:return{lp2_exam_link:e.lp2_exam_link,exam_histories:[],belts:[]};case m.eb.GET_USER_EXAM_HISTORY_SUCCESS:return{lp2_exam_link:e.lp2_exam_link,exam_histories:t.exam_histories||[],belts:[]};case m.eb.GET_USER_EXAM_HISTORY_FAILURE:case m.eb.GET_USER_BELTS_REQUEST:return{lp2_exam_link:e.lp2_exam_link,exam_histories:[],belts:[]};case m.eb.GET_USER_BELTS_SUCCESS:return{lp2_exam_link:e.lp2_exam_link,exam_histories:t.exam_histories,belts:t.user_belts};case m.eb.GET_USER_BELTS_FAILURE:return{lp2_exam_link:e.lp2_exam_link,exam_histories:[],belts:[]};default:return e}},faqs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{faq_list:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.w.GET_CHAPTER_MODULE_FAQ_REQUEST:return{faq_list:[]};case m.w.GET_CHAPTER_MODULE_FAQ_SUCCESS:return{faq_list:t.faq.faq_list||[],user_data:t.faq.user_data_array||{}};default:return e}},tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tracks:[],enrolled_tracks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.W.GET_TRACKS_PROGRESS:case m.W.GET_TRACKS_SUCCESS:case m.W.GET_TRACKS_FAILURE:return Object.assign(t,e);case m.u.GET_ENROLLED_TRACKS_SUCCESS:return{tracks:e.tracks,enrolled_tracks:t.tracks};default:return e}},rostering:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.Q.ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST:case m.Q.ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS:return T.filters=t.filters,Object(g.a)(Object(g.a)({},e),{},{filters:t.filters});case m.Q.ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE:return T.filters={status:!1,result:[],error:t.error},Object(g.a)(Object(g.a)({},e),{},{filters:T.filters});case m.Q.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST:return Object(g.a)(Object(g.a)({},e),{},{filters:T.filters});case m.Q.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS:var n=t.filters.result,a=function(e){n.map((function(t){T.filters.result[e].name==t.name&&(T.filters.result[e].options=t.options,T.filters.result[e].selected=[])}))};for(var s in T.filters.result)a(s);return Object(g.a)(Object(g.a)({},e),{},{filters:T.filters});case m.Q.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE:return T.filters={status:!1,result:[],error:t.error},Object(g.a)(Object(g.a)({},e),{},{filters:T.filters});case m.Q.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST:var i=t.is_export?{is_exporting:!0}:{is_loading:!0};return Object.assign(e,i,t);case m.Q.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{student_list:t.student_list,is_loading:!1,is_exporting:!1});case m.Q.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{student_list:{status:!1,result:[],error:t.error},is_loading:!1,is_exporting:!1});case m.Q.ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST:case m.Q.ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{next_stack_options:t.next_stack_options});case m.Q.ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{next_stack_options:{status:!1,result:[],error:t.error}});case m.Q.ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST:case m.Q.ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS:return t.is_from_student_profile&&(e.student_details.stack_schedules=void 0!==t.processed_students_next_stack&&void 0!==t.processed_students_next_stack.stack_schedules?t.processed_students_next_stack.stack_schedules:e.student_details.stack_schedules),Object(g.a)(Object(g.a)({},e),{},{processed_students_next_stack:t.processed_students_next_stack});case m.Q.ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{processed_students_next_stack:{status:!1,result:{success:{},failed:{}},error:t.error}});case m.Q.ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST:case m.Q.ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{unlock_stack_response:t.unlock_stack_response});case m.Q.ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{unlock_stack_response:{status:!1,result:{},error:t.error}});case m.Q.ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST:case m.Q.ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{update_ap_response:t.update_ap_response});case m.Q.ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{update_ap_response:{status:!1,result:{},error:t.error}});case m.Q.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST:case m.Q.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS:return e.student_details=t.student_details,Object(g.a)(Object(g.a)({},e),{},{student_details:t.student_details});case m.Q.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{student_details:{status:!1,profile_details:{},stack_schedules:[],offered_stack_schedules:[],offered_stack_schedules_with_instructors:[],error:t.error}});case m.Q.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST:case m.Q.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS:return e.student_details.stack_schedules=void 0!==t.student_details?t.student_details:e.student_details.stack_schedules,Object(g.a)({},e);case m.Q.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE:return Object(g.a)({},e);case m.Q.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST:case m.Q.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS:return e.student_details.stack_schedules=void 0!==t.student_details?t.student_details:e.student_details.stack_schedules,Object(g.a)({},e);case m.Q.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE:return Object(g.a)({},e);case m.Q.ADMIN_UPDATE_STUDENT_REGION_REQUEST:case m.Q.ADMIN_UPDATE_STUDENT_REGION_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{student_details:t.student_details});case m.Q.ADMIN_UPDATE_STUDENT_REGION_FAILURE:return Object(g.a)({},e);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.cb.LOGIN_REQUEST:return Object.assign(e,{is_logged_in:!1,redirect_url:void 0},t);case m.cb.LOGIN_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{is_logged_in:!0,user_details:t.user_details,redirect_url:void 0});case m.cb.LOGIN_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error_message:t.error||t.message,redirect_url:void 0});case m.cb.VERIFY_USER_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{is_logged_in:!0,user_details:t.user_details});case m.cb.VERIFY_USER_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error_message:t.error});case m.cb.FORGOT_PASSWORD_REQUEST:return Object.assign(e,{forgot_password_ongoing:!0},t);case m.cb.FORGOT_PASSWORD_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{is_password_retrieved:!0,forgot_password_ongoing:!1,action:t});case m.cb.FORGOT_PASSWORD_FAILURE:return{error_message:t.error||t.message,is_password_retrieved:!1,forgot_password_ongoing:!1};case m.cb.RESET_PASSWORD_REQUEST:return Object.assign(e,{is_password_reset:!1},t);case m.cb.RESET_PASSWORD_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{is_password_reset:!0,is_current_password:!0,action:t});case m.cb.RESET_PASSWORD_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{is_current_password:!1});case m.cb.REPORT_ISSUE_REQUEST:return Object.assign(e,{reported_an_issue:!1},t);case m.cb.REPORT_ISSUE_REQUEST:return Object(g.a)(Object(g.a)({},e),{},{reported_an_issue:!0,action:t});case m.cb.REPORT_ISSUE_REQUEST:return Object(g.a)({},e);case m.cb.USER_UPLOAD_PROFILE_PIC_REQUEST:return Object.assign(e,{is_uploading_profile_pic:!0},t);case m.cb.USER_UPLOAD_PROFILE_PIC_SUCCESS:return e.user_details.general.image_url=t.user_uploads.uploads[0].url,Object(g.a)(Object(g.a)({},e),{},{is_uploading_profile_pic:!1,action:t});case m.cb.USER_UPLOAD_PROFILE_PIC_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error_message:t.error||t.message,is_uploading_profile_pic:!1});case m.cb.SWITCH_PROGRAM_REQUEST:return Object.assign(e,{switch_program:!1},t);case m.cb.SWITCH_PROGRAM_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{switch_program:!0,action:t});case m.cb.SWITCH_PROGRAM_FAILURE:return Object(g.a)({},e);case m.W.USER_SEARCH_LEARNING_CONTENT_REQUEST:return Object(g.a)(Object(g.a)({},e),{},{user_search_result:{modules_search_results:[],chapters_search_results:[],courses_search_results:[],is_loading:!0},action:t});case m.W.USER_SEARCH_LEARNING_CONTENT_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{user_search_result:{modules_search_results:t.user_search_result.modules_search_results||[],chapters_search_results:t.user_search_result.chapters_search_results||[],courses_search_results:t.user_search_result.courses_search_results||[],is_loading:!1},action:t});case m.W.USER_SEARCH_LEARNING_CONTENT_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error_message:t.error||t.message});case m.cb.LOGOUT:return Object(g.a)(Object(g.a)({},e),{},{is_logged_in:!1});default:return e}},user_bookmarks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.k.GET_BOOKMARKS_REQUEST:return{bookmark_list:[]};case m.k.GET_BOOKMARKS_SUCCESS:return{bookmark_list:t.user_bookmarks};case m.k.SAVE_NEW_BOOKMARK_SUCCESS:for(var n=[],a=0;a<e.bookmark_list.length;a++){var s=e.bookmark_list[a];parseInt(s.chapter_module_id)===parseInt(t.user_bookmarks.chapter_module_id)&&(s.user_bookmark_id=t.user_bookmarks.user_bookmark_id,s.deleted=void 0),n.push(s)}return{bookmark_list:n,new_bookmark_id:t.user_bookmarks.user_bookmark_id};case m.k.REMOVE_BOOKMARK_REQUEST:return{bookmark_list:e.bookmark_list||[]};case m.k.REMOVE_BOOKMARK_SUCCESS:var i=[];if(void 0!==e.bookmark_list&&e.bookmark_list.length>0)for(var o=0;o<e.bookmark_list.length;o++){var r=e.bookmark_list[o];r.user_bookmark_id===t.bookmark.removed_bookmark_id&&(r.deleted=!0),i.push(r)}return{bookmark_list:i,removed_bookmark_id:t.bookmark.removed_bookmark_id};case m.k.SAVE_NEW_BOOKMARK_FAILURE:return{bookmark_list:e.bookmark_list||[],error_message:t.error||t.message};default:return e}},courses:w.a,discussions:function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case m.r.GET_DISCUSSION_REQUEST:return{current_user_id:null,discussion_sidebar:[],selected_question_data:null,show_response_form:!1,discussion_responses:[],user_votes:null,discussion_breadcrumbs:[],is_instructor:!1,active_week_id:null};case m.r.GET_DISCUSSION_SUCCESS:return{current_user_id:s.discussion.current_user_id,discussion_sidebar:s.discussion.discussion_sidebar,selected_question_data:s.discussion.selected_question_data,show_response_form:s.discussion.show_response_form,discussion_responses:s.discussion.discussion_responses,user_votes:s.discussion.user_votes,discussion_breadcrumbs:s.discussion.discussion_breadcrumbs,is_instructor:s.discussion.is_instructor,active_week_id:s.discussion.active_week_id};case m.r.GET_DISCUSSION_RESPONSES_SUCCESS:return{current_user_id:a.current_user_id,discussion_sidebar:a.discussion_sidebar,selected_question_data:Object(g.a)(Object(g.a)({},a.selected_question_data),{},{current_page:s.discussion.current_page}),show_response_form:a.show_response_form,discussion_responses:[].concat(Object(S.a)(a.discussion_responses),Object(S.a)(s.discussion.discussion_responses)),user_votes:a.user_votes,discussion_breadcrumbs:a.discussion_breadcrumbs,is_instructor:a.is_instructor,active_week_id:a.active_week_id};case m.r.SAVE_DISCUSSION_RESPONSE_SUCCESS:if((e=a.discussion_responses).unshift(s.new_response.user_answer_data),(t=a.discussion_sidebar).length>0)for(var i=0;i<t.length;i++)if(!0===t[i].selected_week&&t[i].discussion_lists.length>0)for(var o=0;o<t[i].discussion_lists.length;o++)!0===t[i].discussion_lists[o].selected_discussion&&(t[i].discussion_lists[o].total_respond=a.selected_question_data.total_response?a.selected_question_data.total_response+1:1);return{current_user_id:a.current_user_id,discussion_sidebar:t,selected_question_data:Object(g.a)(Object(g.a)({},a.selected_question_data),{},{total_response:a.selected_question_data.total_response?a.selected_question_data.total_response+1:1}),show_response_form:a.show_response_form,discussion_responses:e,user_votes:a.user_votes,discussion_breadcrumbs:a.discussion_breadcrumbs,is_instructor:a.is_instructor,active_week_id:a.active_week_id};case m.r.REMOVE_DISCUSSION_RESPONSE_SUCCESS:if((e=a.discussion_responses)[s.response_index].id===s.deleted_response.user_answer_id&&e.splice(s.response_index,1),(t=a.discussion_sidebar).length>0)for(var r=0;r<t.length;r++)if(!0===t[r].selected_week&&t[r].discussion_lists.length>0)for(var c=0;c<t[r].discussion_lists.length;c++)!0===t[r].discussion_lists[c].selected_discussion&&(t[r].discussion_lists[c].total_respond=a.selected_question_data.total_response-1);return{current_user_id:a.current_user_id,discussion_sidebar:t,selected_question_data:Object(g.a)(Object(g.a)({},a.selected_question_data),{},{total_response:a.selected_question_data.total_response-1}),show_response_form:a.show_response_form,discussion_responses:e,user_votes:a.user_votes,discussion_breadcrumbs:a.discussion_breadcrumbs,is_instructor:a.is_instructor,active_week_id:a.active_week_id};case m.r.VOTE_DISCUSSION_RESPONSE_SUCCESS:return(n=a.user_votes)[parseInt(s.voted_response.user_answer_id)]=s.voted_response.vote_data,(e=a.discussion_responses)[s.response_index].id===s.voted_response.user_answer_id&&(e[s.response_index].cache_downvote_count=s.voted_response.cache_votes.cache_downvote_count,e[s.response_index].cache_upvote_count=s.voted_response.cache_votes.cache_upvote_count),{current_user_id:a.current_user_id,discussion_sidebar:a.discussion_sidebar,selected_question_data:a.selected_question_data,show_response_form:a.show_response_form,discussion_responses:e,user_votes:n,discussion_breadcrumbs:a.discussion_breadcrumbs,is_instructor:a.is_instructor,active_week_id:a.active_week_id};case m.r.UPDATE_DISCUSSION_DETAILS_SUCCESS:var _=a.selected_question_data;_.title=s.response.new_discussion_title,_.content=s.response.new_discussion_description,_.response_due_date=s.response.response_due_date;var l=a.discussion_breadcrumbs;if(l[2]=s.response.new_discussion_title,(t=a.discussion_sidebar).length>0)for(var u=0;u<t.length;u++)if(!0===t[u].selected_week&&t[u].discussion_lists.length>0)for(var d=0;d<t[u].discussion_lists.length;d++)!0===t[u].discussion_lists[d].selected_discussion&&(t[u].discussion_lists[d].title=s.response.new_discussion_title);return{current_user_id:a.current_user_id,discussion_sidebar:t,selected_question_data:_,show_response_form:a.show_response_form,discussion_responses:a.discussion_responses,user_votes:a.user_votes,discussion_breadcrumbs:a.discussion_breadcrumbs,is_instructor:a.is_instructor,active_week_id:a.active_week_id};default:return a}},assignment_monitoring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=e.filters;switch(t.type){case m.h.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:return n.map((function(e){t.filters.map((function(t){e.title===t.name&&(e.options=t.options)}))})),Object(g.a)({},e);case m.h.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:case m.h.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:return Object(g.a)({},e);case m.h.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS:var a=t.updated_filters;return n.map((function(e){a.map((function(t){e.title===t.name&&(e.options=t.options)}))})),Object(g.a)({},e);case m.h.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST:case m.h.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE:return Object(g.a)({},e);case m.h.FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS:var s=t.assignment_monitoring_data_list,i=s.filtered_data,o=s.pagination;if(o){var r=o.records_per_page,c=o.total_records;i.map((function(e){e.last_replier_details=JSON.parse(e.last_replier_details),e.question_title=JSON.parse(e.question_title)})),o.total_pages=Math.ceil(c/r)}return Object(g.a)(Object(g.a)({},e),{},{results:i,is_loading:!1,pagination:o});case m.h.FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST:case m.h.FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE:return Object(g.a)({},e);default:return e}},forum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=e.forum_assignment_questions,a=e.forum_assignment_answers,s=e.uploaded_attachments,i={};switch(e.new_question_id=null,t.type){case m.x.SUBMIT_COMMENT_REQUEST:return Object.assign(e,{submit_comment:!1},t);case m.x.SUBMIT_COMMENT_SUCCESS:return t.new_comment.is_question?(n=[t.new_comment].concat(Object(S.a)(e.forum_assignment_questions)),e.new_question_id=t.new_comment.comment_id):(a=[t.new_comment].concat(Object(S.a)(e.forum_assignment_answers)),n.map((function(t){t.comment_id===e.question.comment_id&&(t.total_replies+=1)}))),Object(g.a)(Object(g.a)({},e),{},{is_show_ask_forum_question_modal:!1,forum_assignment_questions:n,forum_assignment_answers:a,uploaded_attachments:[]});case m.x.SUBMIT_COMMENT_FAILURE:return Object(g.a)({},e);case m.x.FETCH_ASSIGNMENT_FORUM_REQUEST:return Object(g.a)(Object(g.a)({},e),{},{forum_assignment_questions:[],action:t});case m.x.FETCH_ASSIGNMENT_FORUM_SUCCESS:return t.assignment_forum_questions.map((function(e){var t;(null===(t=e.author_details)||void 0===t?void 0:t.user_forum_summaries)&&(e.author_details=Object(g.a)(Object(g.a)({},e.author_details),JSON.parse(e.author_details.user_forum_summaries)))})),Object(g.a)(Object(g.a)({},e),{},{forum_assignment_questions:t.assignment_forum_questions});case m.x.FETCH_ASSIGNMENT_FORUM_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{forum_assignment_questions:[]});case m.x.VOTE_REQUEST:return Object.assign(e,t);case m.x.VOTE_SUCCESS:i=t.comment_details.is_answer?a:n;var o=[],r=["cache_upvotes_count"];return i.map((function(e){e.comment_id===t.comment_details.id&&(e=M(e,t.comment_details.vote_type)),!e.answer_ids&&e.is_answer_endorsed&&(o.push(e.comment_id),r=["is_answer_endorsed"].concat([r]))})),i.length>1&&(i=Object(h.t)(i,r,{comment_id:o},"date_posted")),i=t.comment_details.is_answer?{forum_assignment_answers:a}:{forum_assignment_questions:n},Object(g.a)(Object(g.a)({},e),{},{updated_comments:i});case m.x.VOTE_FAILURE:return Object(g.a)({},e);case m.x.ENDORSEMENT_REQUEST:return Object.assign(e,t);case m.x.ENDORSEMENT_SUCCESS:return n.map((function(e){e.comment_id===t.comment_details.parent_comment_id&&(e.total_endorsed_answers=e.total_endorsed_answers+(t.comment_details.is_pinned?-1:1))})),Object(g.a)({},e);case m.x.ENDORSEMENT_FAILURE:return Object(g.a)({},e);case m.x.FETCH_ANSWER_COMMENTS_REQUEST:return Object.assign(e,t);case m.x.FETCH_ANSWER_COMMENTS_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{forum_assignment_answers:t.forum_assignment_answers||[]});case m.x.FETCH_ANSWER_COMMENTS_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{forum_assignment_answers:[]});case m.x.UPDATE_COMMENT_REQUEST:return Object.assign(e,t);case m.x.UPDATE_COMMENT_SUCCESS:return(i=t.updated_comment.is_answer?a:n).map((function(t){t.comment_id===e.comment_id&&(t.comment_id=e.comment_id,t.title=e.title,t.description=e.description,t.post_type=e.post_type,t.is_edited=!0,t.date_posted=e.date_posted,t.author_details={email_address:e.user_details.email_address,first_name:e.user_details.first_name,last_name:e.user_details.last_name.charAt(0),profile_img_url:e.user_details.image_url,type:e.user_details.user_level_id,user_id:e.user_details.id},t.is_show_editor=!1)})),i=t.updated_comment.is_answer?{forum_assignment_answers:a}:{forum_assignment_questions:n},Object(g.a)(Object(g.a)({},e),{},{updated_comments:i,selected_question:void 0,uploaded_attachments:[]});case m.x.UPDATE_COMMENT_FAILURE:return Object(g.a)({},e);case m.x.SET_COMMENT_TO_ARCHIVE_REQUEST:return Object.assign(e,t);case m.x.SET_COMMENT_TO_ARCHIVE_SUCCESS:var c=t.set_comment_to_archive_response,_=c.comment_id,l=c.comment_details;return l.is_answer&&n.map((function(e){e.comment_id===l.parent_comment_id&&(e.total_replies-=1)})),a=e.forum_assignment_answers.filter((function(e){return e.comment_id!==_})),n=e.forum_assignment_questions.filter((function(e){return e.comment_id!==_})),Object(g.a)(Object(g.a)({},e),{},{forum_assignment_questions:n,forum_assignment_answers:a});case m.x.SET_COMMENT_TO_ARCHIVE_FAILURE:return Object(g.a)({},e);case m.x.UPLOAD_COMMENT_IMAGE_REQUEST:return Object(g.a)(Object(g.a)({},e),{},{is_uploading:!0});case m.x.UPLOAD_COMMENT_IMAGE_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{uploaded_attachments:[].concat(Object(S.a)(e.uploaded_attachments),[t.file_url]),is_uploading:!1});case m.x.UPLOAD_COMMENT_IMAGE_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{is_uploading:!1,uploading_error:""});case m.x.DELETE_COMMENT_IMAGE_REQUEST:return Object(g.a)({},e);case m.x.DELETE_COMMENT_IMAGE_SUCCESS:return s.map((function(e){t.delete_details.deleted_files.includes(e)&&(e=s[s.length-1],s.pop())})),Object(g.a)({},e);case m.x.DELETE_COMMENT_IMAGE_FAILURE:return Object(g.a)({},e);case m.x.RESET_FORUM_ANSWER_COMMENTS:return Object(g.a)(Object(g.a)({},e),{},{forum_assignment_answers:[],question_id:null});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,n=[{id:1,title:"Today",content:[]},{id:2,title:"Yesterday",content:[]},{id:3,title:"Older Notifications",content:[]}],a=e.notifications;switch(t.type){case m.J.FETCH_NOTIFICATIONS_REQUEST:return Object(g.a)(Object(g.a)({},e),{},{action:t});case m.J.FETCH_NOTIFICATIONS_SUCCESS:var s=t.notifications,i=s.data,o=s.datetime_requested;if(i&&i.length>0){var r=N(i,n);return Object(g.a)(Object(g.a)({},e),{},{notification_count:r.unread_count,notifications:i,grouped_notifications:r.result,is_empty_notification:!1,datetime_requested:o})}return Object(g.a)(Object(g.a)({},e),{},{notifications:n});case m.J.FETCH_NOTIFICATIONS_FAILURE:return Object(g.a)({},e);case m.J.MARK_NOTIFICATIONS_AS_READ_REQUEST:return Object.assign(e,t);case m.J.MARK_NOTIFICATIONS_AS_READ_SUCCESS:var c=t.mark_notifications_response.updated_notification_ids;a.map((function(e){c.includes(e.id)&&(e.is_read=1)}));var _=N(a,n);return Object(g.a)(Object(g.a)({},e),{},{grouped_notifications:_.result,notification_count:_.unread_count});case m.J.MARK_NOTIFICATIONS_AS_READ_FAILURE:return Object(g.a)({},e);case m.J.SET_NOTIFICATIONS_AS_ARCHIVED_REQUEST:return Object.assign(e,t);case m.J.SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS:var l=t.set_notifications_to_archived_response,u=l.updated_notification_ids,d=l.is_all_notifications,p=[],h={result:{},unread_count:0,is_empty_notification:!0};return d||(p=a.filter((function(e){return!1===u.includes(e.id)})))&&p.length>0&&((h=N(p,n)).is_empty_notification=!1),Object(g.a)(Object(g.a)({},e),{},{notifications:p,grouped_notifications:h.result,notification_count:h.unread_count,is_empty_notification:h.is_empty_notification});case m.J.SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE:return Object(g.a)({},e);default:return e}},user_forum_summaries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.gb.FETCH_USER_FORUM_SUMMARY_REQUEST:return Object(g.a)({},e);case m.gb.FETCH_USER_FORUM_SUMMARY_SUCCESS:return Object(g.a)(Object(g.a)({},e),JSON.parse(t.forum_summary_details.forum_summary_json));case m.gb.FETCH_USER_FORUM_SUMMARY_REQUEST:return Object(g.a)({},e);case m.gb.RESET_USER_FORUM_SUMMARIES:return Object(g.a)(Object(g.a)({},e),L);default:return e}}}),F=Object(p.createLogger)({predicate:function(e,t){return!1}}),x=Object(u.e)((function(e,t){if(m.pb.BookmarkConstants.hasOwnProperty(t.type)&&-1!==t.type.indexOf("_SUCCESS")){var n=e.user.user_search_result.modules_search_results;if(t.type===m.pb.BookmarkConstants.SAVE_NEW_BOOKMARK_SUCCESS&&(parseInt(e.courses.track.chapter_module_id)===parseInt(t.user_bookmarks.chapter_module_id)&&(e.courses.track.active_module.bookmark_id=t.user_bookmarks.user_bookmark_id),void 0!==n&&n.length>0))for(var a=0;a<n.length;a++)parseInt(n[a].module_id)===parseInt(t.user_bookmarks.chapter_module_id)&&(n[a].bookmark_id=t.user_bookmarks.user_bookmark_id);if(t.type===m.pb.BookmarkConstants.REMOVE_BOOKMARK_SUCCESS&&(parseInt(e.courses.track.chapter_module_id)===parseInt(t.bookmark.chapter_module_id)&&(e.courses.track.active_module.bookmark_id=null,e.courses.track.active_module.is_bookmarked=!1),void 0!==n&&n.length>0))for(var s=0;s<n.length;s++)parseInt(n[s].module_id)===parseInt(t.bookmark.chapter_module_id)&&(n[s].bookmark_id=null)}return m.pb.DiscussionConstants.hasOwnProperty(t.type)&&t.type===m.pb.DiscussionConstants.GET_DISCUSSION_REQUEST&&(e.courses.track={chapters:[]}),j(e,t)}),Object(u.a)(d.a,F));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(105),K=n(363),W=n(364),H=n(3),$=n(7),q=n(6),G=n(5),Q=n(22),V=n(48),z=n(368),Y=n(65),J=n(26),X=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).save_user_session_page=function(e){return this.sendRequest("".concat(m.d.URL,"/ua_session/create_new_session_page"),e,!0).then(h.h).then((function(e){return!0===e.status&&e.user_token&&localStorage.setItem("__BarioOtsoOtso__",e.user_token),e}))},e.update_user_session_page=function(e){return this.sendRequest("".concat(m.d.URL,"/ua_session/update_user_session_page"),e,!0).then(h.h).then((function(e){return e}))},e.save_user_session_activity_logs=function(e){return this.sendRequest("".concat(m.d.URL,"/ua_session/create_activity_logs"),e,!0).then(h.h).then((function(e){return e}))},e.reset_analytics_session=function(e){return this.sendRequest("".concat(m.d.URL,"/ua_session/reset_user_session"),e,!0).then(h.h).then((function(e){return!0===e.status&&e.user_token&&localStorage.setItem("__BarioOtsoOtso__",e.user_token),e}))},e}return n}(J.a)),Z=new function e(){Object(H.a)(this,e),this.saveUserSessionPage=function(e){var t=this;return function(n){null===localStorage.getItem("is_platform_demo")?t.createUserSession(e):n(Object(h.i)({type:m.ib.IGNORE_ACTIVITY_LOGS_REQUEST},{}))}},this.createUserSession=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;return function(a){a(Object(h.i)({type:m.ib.SAVE_SESSION_PAGE_REQUEST},{})),X.save_user_session_page(e).then((function(e){!0===e.status?a(Object(h.i)({type:m.ib.SAVE_SESSION_PAGE_SUCCESS},{session_page:e.result})):a(Object(h.i)({type:m.ib.SAVE_SESSION_PAGE_FAILURE},{error:e.message}))}),(function(s){var i=Object(h.a)(s,!0,!0,t>3);t<=3?setTimeout((function(){n.createUserSession(e,a,t+1)}),1500):a(Object(h.i)({type:m.ib.SAVE_SESSION_PAGE_FAILURE},{error:i}))}))}},this.updateUserSessionPage=function(e){return function(t){var n=localStorage.getItem("is_platform_demo"),a=null===n?m.ib.UPDATE_SESSION_PAGE_REQUEST:m.ib.IGNORE_ACTIVITY_LOGS_REQUEST;t(Object(h.i)({type:a},{})),null===n&&X.update_user_session_page(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.ib.UPDATE_SESSION_PAGE_SUCCESS},{session_page:e.result})):t(Object(h.i)({type:m.ib.UPDATE_SESSION_PAGE_FAILURE},{error:e.message}))}),(function(e){t(Object(h.i)({type:m.ib.UPDATE_SESSION_PAGE_FAILURE},{error:e}))}))}},this.storeActivitylog=function(e){return function(t){t(null===localStorage.getItem("is_platform_demo")?Object(h.i)({type:m.ib.SAVE_TEMP_ACTIVITY_LOGS},{session_log:e}):Object(h.i)({type:m.ib.IGNORE_ACTIVITY_LOGS_REQUEST},{}))}},this.saveSessionActivitylog=function(e){return function(t){var n=localStorage.getItem("is_platform_demo"),a=null===n?m.ib.SAVE_SESSION_ACTIVITY_LOGS_REQUEST:m.ib.IGNORE_ACTIVITY_LOGS_REQUEST;t(Object(h.i)({type:a},{})),null===n&&X.save_user_session_activity_logs(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.ib.SAVE_SESSION_ACTIVITY_LOGS_SUCCESS},{session_page:e.result})):t(Object(h.i)({type:m.ib.SAVE_SESSION_ACTIVITY_LOGS_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.ib.UPDATE_SESSION_PAGE_FAILURE},{error:n}))}))}},this.resetAnalyticsSession=function(e){return function(t){var n=localStorage.getItem("is_platform_demo"),a=null===n?m.ib.RESET_SESSION_REQUEST:m.ib.IGNORE_ACTIVITY_LOGS_REQUEST;t(Object(h.i)({type:a},{})),null===n&&X.reset_analytics_session(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.ib.RESET_SESSION_SUCCESS},{session_page:e.result})):t(Object(h.i)({type:m.ib.RESET_SESSION_FAILURE},{error:e.message}))}),(function(e){t(Object(h.i)({type:m.ib.RESET_SESSION_FAILURE},{error:e}))}))}}},ee=n(111),te=n(50),ne=n(90),ae=n(69),se=n(91),ie=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this.props.belt;return s.a.createElement("li",null,s.a.createElement(ae.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(se.a,{className:"belt_tooltip"},e.name," BELT")},s.a.createElement("span",{className:"belt_icon ".concat(e.class),"data-belt-id":e.id})))}}]),n}(a.Component),oe=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this.props.belt_history,t=e.title,n=e.belt_earned,a=e.formatted_date_unlocked,i=e.duration,o=e.score;return t&&s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("a",{href:""},t.replace("BELT EXAM (undefined)","BELT EXAM"))," "),s.a.createElement("td",null,n),s.a.createElement("td",null,a),s.a.createElement("td",null,i),s.a.createElement("td",null,s.a.createElement("span",{className:"badge ".concat(null!==n||o>=8?"":"".concat(null!==o&&"-"!==o?"failed":"pending"))},null!==n||o>=8?"PASS":"".concat(null!==o&&"-"!==o?"FAILED":"PENDING"))),s.a.createElement("td",null,o))}}]),n}(a.Component),re=n(29),ce=n(162),_e=n(1119),le=n(369),ue=n(12),de=n(44),pe=n(186),me=n(137),he=new function e(){Object(H.a)(this,e),this.get_user_enrolled_tracks=function(){return function(e){e(Object(h.i)({type:m.u.GET_ENROLLED_TRACKS_REQUEST},{})),me.a.fetch_user_enrolled_tracks().then((function(t){if(!0===t.status){var n=[];t.result.length>0&&((n=t.result.map((function(e){return e.is_open=!1,e})))[0].is_open=!0),e(Object(h.i)({type:m.u.GET_ENROLLED_TRACKS_SUCCESS},{tracks:n}))}else e(Object(h.i)({type:m.u.GET_ENROLLED_TRACKS_FAILURE},{error:t.message}))}),(function(t){var n=Object(h.a)(t);e(Object(h.i)({type:m.u.GET_ENROLLED_TRACKS_FAILURE},{error:n}))}))}},this.searchLearningContent=function(e){return function(t){t(Object(h.i)({type:m.W.USER_SEARCH_LEARNING_CONTENT_REQUEST},e)),me.a.searchLearningContent(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.W.USER_SEARCH_LEARNING_CONTENT_SUCCESS},{user_search_result:e.result})):t(Object(h.i)({type:m.W.USER_SEARCH_LEARNING_CONTENT_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.W.USER_SEARCH_LEARNING_CONTENT_FAILURE},{error:n}))}))}},this.isToggleShowTrack=function(e){return function(t){t(Object(h.i)({type:m.u.GET_ENROLLED_TRACKS_SUCCESS},{tracks:e}))}}},fe=n(9),Ee=n(1132),ge=n(1127),be=(n(415),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).renderModuleClassIcon=function(e){return{0:"lesson",1:"quiz",2:"todo",3:"chapter_survey"}[e]},a.handleSearchSubmitForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!==e&&e.preventDefault();var t=a.state.search;""!==t&&(a.props.search_learning_content({search_keyword:a.state.search,content_type:a.state.active_tab}),a.props.onAddActivityLog("3.1.18"))},a.onTabChange=function(e){a.setState({active_tab:e},(function(){a.handleSearchSubmitForm()}))},a.handleModuleBookmark=function(e,t,n){void 0!==e&&e.preventDefault(),null!==t?a.props.onRemoveBookmark(e,n.chapter_module_id,t):a.props.onAddBookmark(e,n),a.props.onAddActivityLog(null!==t?"3.20.20":"3.20.19")},a.state={search:"",active_tab:"modules",is_loading:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.user.user_search_result,n=t.is_loading,a=t.modules_search_results,i=t.chapters_search_results,o=t.courses_search_results,r=this.state.search;return s.a.createElement(fe.a,{show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)},id:"search_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("form",{ref:"form",action:"",onSubmit:function(t){return e.handleSearchSubmitForm(t)}},s.a.createElement("input",{onChange:function(t){return Object(h.k)(t,e)},name:"search",value:r,type:"text",className:"form-control",placeholder:"Search Keyword Here"})),s.a.createElement(Ee.a,{defaultActiveKey:"modules",onSelect:function(t){return e.onTabChange(t)}},s.a.createElement(ge.a,{eventKey:"modules",title:"Modules"},a.length>0&&!1===n&&s.a.createElement("ul",{className:"list-unstyled",id:"modules_list"},a.map((function(t,n){return s.a.createElement("li",{key:n},s.a.createElement("form",{action:"",onSubmit:function(n){return e.handleModuleBookmark(n,t.bookmark_id,{track_id:t.track_id,track_course_id:t.track_course_id,chapter_module_id:t.module_id,chapter_id:t.chapter_id,title:t.module_title})}},s.a.createElement("button",{id:"bookmark_module_btn",className:"".concat(null!==t.bookmark_id&&"bookmarked_module_fill"),type:"submit"})),s.a.createElement("a",{onClick:function(t){return e.props.toggleShowModal(!1)},href:"/m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.module_id)},s.a.createElement("div",{className:"left_container"},s.a.createElement("h5",null,t.module_title),s.a.createElement("div",{className:"icons_container"},s.a.createElement("span",{className:"".concat(e.renderModuleClassIcon(t.module_type))},s.a.createElement("i",{className:"icon"})),s.a.createElement("img",{src:null!==t.course_icon_src?t.course_icon_src:"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/default.png",alt:"Course Icon"}))),s.a.createElement("div",{className:"right_container"},s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,t.track_title),s.a.createElement("li",null,t.chapter_title),s.a.createElement("li",null,t.module_title)),s.a.createElement("p",null,t.module_description.replace(/(<([^>]+)>)/gi,"")))))}))),0===a.length&&!1===n&&s.a.createElement("p",null,"No result(s) found")),s.a.createElement(ge.a,{eventKey:"chapters",title:"Chapters"},i.length>0&&!1===n&&s.a.createElement("ul",{className:"list-unstyled",id:"chapters_list"},i.map((function(t,n){return s.a.createElement("li",{key:n},s.a.createElement("a",{onClick:function(t){return e.props.toggleShowModal(!1)},href:"/m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.module_id)},s.a.createElement("img",{src:null!==t.course_icon_src?t.course_icon_src:"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/default.png",alt:"Course Icon"}),s.a.createElement("span",null,t.chapter_title)))}))),0===i.length&&!1===n&&s.a.createElement("p",null,"No result(s) found")),s.a.createElement(ge.a,{eventKey:"courses",title:"Courses"},o.length>0&&!1===n&&s.a.createElement("ul",{className:"list-unstyled",id:"courses_list"},o.map((function(t,n){return s.a.createElement("li",{key:n},s.a.createElement("a",{onClick:function(t){return e.props.toggleShowModal(!1)},href:"/m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.module_id)},s.a.createElement("img",{src:null!==t.course_icon_src?t.course_icon_src:"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/default.png",alt:"Course Icon"}),s.a.createElement("span",null,t.course_title)))}))),0===o.length&&!1===n&&s.a.createElement("p",null,"No result(s) found"))),n&&s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"Loading Icon",className:"loading_icon"})))}}]),n}(a.Component)),ve=Object(h.p)("user",{search_learning_content:he.searchLearningContent}),Se=ve.mapStateToProps,Oe=ve.mapDispatchToProps,ke=Object(l.b)(Se,Oe)(be),Te=(n(418),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).openSearchModal=function(){a.props.onAddActivityLog("3.1.12"),Object(h.v)(Object(re.a)(a),"is_show_search_modal",!0)},a.hasClickLink=function(e){"home"===e?a.props.onAddActivityLog("3.0.0"):"learn"===e?a.props.onAddActivityLog("3.14.0"):"contact"===e&&a.props.onAddActivityLog("3.19.0"),a.props.onUpdateUserSessionPage()},a.switchProgram=function(e,t){if(e!==t){var n=(a.props.location&&a.props.location.state||{from:{pathname:"/switch_program"}}).from;a.props.switchProgram(e,t,n)}},a.state={links:[{name:"home",to:"dashboard"},{name:"learn",to:"tracks"},{name:"contact",to:"contact"}]},a}return Object($.a)(n,[{key:"render",value:function(){var e,t,n,a=this,i=this.props,o=i.user_info,r=i.report_issue,c="tracks";void 0!==this.props.location&&(c=this.props.location.replace("/",""));var _,l,u=null,d=[];(void 0===r&&(r=!1),o&&(null===o||void 0===o||null===(e=o.workspace_custom_data)||void 0===e||null===(t=e.bootcamp_info)||void 0===t?void 0:t.active_programs))&&(u=null===o||void 0===o||null===(_=o.workspace_custom_data.bootcamp_info)||void 0===_?void 0:_.program_type,d=null===o||void 0===o||null===(l=o.workspace_custom_data.bootcamp_info)||void 0===l?void 0:l.active_programs);return s.a.createElement(ce.a,{className:"navbar-expand"},s.a.createElement("div",{className:"container"},s.a.createElement(Q.b,{className:"navbar-brand",to:"/dashboard",onClick:function(e){return a.props.onUpdateUserSessionPage()}},"Coding Dojo ",s.a.createElement("span",{className:"beta_label"},"BETA")),!1===r&&o&&(null===o||void 0===o||null===(n=o.workspace_custom_data)||void 0===n?void 0:n.bootcamp_info)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ue.a,{icon:["fas","caret-right"]}),s.a.createElement(_e.a,{title:"".concat(u," Tracks"),id:"basic-nav-dropdown"},d.map((function(e){return s.a.createElement("button",{type:"button",key:e.id,className:"nav-link ".concat(u===e.program_type?"active":""),onClick:function(t){return a.switchProgram(e.user_bootcamp_id,o.workspace_custom_data.bootcamp_info.user_bootcamp_id)}},e.program_type," Tracks")})))),s.a.createElement(ce.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(ce.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(le.a,{className:"mr-auto"},!1===r&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{id:"show_search_modal",onClick:function(e){return a.openSearchModal()},type:"button"}),s.a.createElement("div",{className:"main_links_container"},this.state.links.map((function(e){return s.a.createElement(Q.b,{className:"nav-link ".concat(c===e.to?"active":""),key:e.to,to:"/".concat(e.to),onClick:function(t){return a.hasClickLink(e.name)}},e.name)})))),s.a.createElement(pe.a,{onAddActivityLog:this.props.onAddActivityLog,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onAddBookmark:this.props.onAddBookmark})))),s.a.createElement(ke,{show:this.state.is_show_search_modal,toggleShowModal:function(e){return Object(h.v)(a,"is_show_search_modal",!1)},onAddActivityLog:this.props.onAddActivityLog,onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark}))}}]),n}(a.Component)),Ce=Object(h.p)(void 0,{switchProgram:de.a.switchProgram}),Ae=Ce.mapStateToProps,Re=Ce.mapDispatchToProps,ye=Object(l.b)(Ae,Re)(Te),we=n(1130),De=n(1128),Ue=n(32),Ie=n.n(Ue),Me=(n(259),n(260),n(188)),Pe=n(210),Ne=n(127),Le=(n(420),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).state={release_notes:[{name:"Take your learning anywhere! The Learn Platform is now mobile ready.",notes:[{id:0,description:"<p>You can now log in to <a href='https://login.codingdojo.com' target='_blank'>https://login.codingdojo.com</a> on your mobile browser. </p>",image_link:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/user/dashboard/release_notes/release_010622/rwd_2.png"},{id:1,description:"<p>Access your dashboard, read lessons, or even submit assignments on the fly!</p>",image_link:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/user/dashboard/release_notes/release_010622/rwd_3.png"}]}]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"release_notes_modal",className:"".concat(this.props.is_admin_release_note?"admin_notes_modal":"")},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Product Updates (LP3 ",localStorage.getItem("release_note_version"),")"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(fe.a.Body,null,this.state.release_notes.map((function(e){return e.notes.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",null,e.name),s.a.createElement("img",{src:"https://codingdojo_assets.s3.us-east-1.amazonaws.com/learn_platform/user/dashboard/release_notes/release_010622/rwd_1.png",alt:"RWD banner"}),s.a.createElement("ul",null,e.notes.map((function(e){return s.a.createElement("li",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}),e.image_link&&s.a.createElement("img",{src:e.image_link,alt:e.image_link}))}))))}))))}}]),n}(a.Component)),je=(n(421),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){localStorage.setItem("release_note_version","3.5.7.2"),a.toggleShowReleaseNotes(!0)},a.toggleShowReleaseNotes=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=localStorage.getItem("current_version"),s=localStorage.getItem("release_note_version");n&&n===s||(a.setState({is_show_release_notes_banner:e}),t&&(localStorage.setItem("current_version",s),window.location.href="dashboard?startForumTour=true"))},a.state={is_show_release_notes_banner:!1,is_show_release_notes_modal:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.is_show_release_notes_banner&&s.a.createElement("div",{id:"release_notes_banner",className:"".concat(this.props.is_contact_us_banner&&"true"===this.props.is_contact_us_banner?"contact_us_banner":"")},s.a.createElement("p",null,s.a.createElement(ue.a,{icon:["fas","info-circle"]}),s.a.createElement("b",null,"Feature Update:")," The new Assignment Forum and Notification Center feature is live to chosen groups of students!"),s.a.createElement("button",{type:"button",onClick:function(){return e.toggleShowReleaseNotes(!1,!0)}},"Watch Demo")),s.a.createElement(Le,{is_admin_release_note:this.props.is_admin_release_note,show:this.state.is_show_release_notes_modal,toggleShowModal:function(){return Object(h.v)(e,"is_show_release_notes_modal",!1)}}))}}]),n}(a.Component)),Fe=n(1120),xe=n(371),Be=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).fetchNotifications=function(){return this.sendRequest("".concat(m.d.URL,"/notifications/unarchived_notifications"),{},!0).then(h.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.markNotificationsAsRead=function(e){return this.sendRequest("".concat(m.d.URL,"/notifications/mark_as_read"),e,!0).then(h.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.setNotificationsToArchive=function(e){return this.sendRequest("".concat(m.d.URL,"/notifications/send_to_archive"),e,!0).then(h.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.CurrentUser=new xe.a(null),e.VerifyUser=new xe.a(null),e}return n}(J.a)),Ke=new function e(){Object(H.a)(this,e),this.fetchNotifications=function(){return function(e){e(Object(h.i)({type:m.J.FETCH_NOTIFICATIONS_REQUEST},{})),Be.fetchNotifications().then((function(t){!0===t.status?e(Object(h.i)({type:m.J.FETCH_NOTIFICATIONS_SUCCESS},{notifications:t.result})):e(Object(h.i)({type:m.J.FETCH_NOTIFICATIONS_FAILURE},{error:t.message}))}),(function(t){var n=Object(h.a)(t);e(Object(h.i)({type:m.J.FETCH_NOTIFICATIONS_FAILURE},{error:n}))}))}},this.markNotificationsAsRead=function(e){return function(t){t(Object(h.i)({type:m.J.MARK_NOTIFICATIONS_AS_READ_REQUEST},e)),Be.markNotificationsAsRead(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.J.MARK_NOTIFICATIONS_AS_READ_SUCCESS},{mark_notifications_response:e.result})):t(Object(h.i)({type:m.J.MARK_NOTIFICATIONS_AS_READ_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.J.MARK_NOTIFICATIONS_AS_READ_FAILURE},{error:n}))}))}},this.setNotificationsToArchive=function(e){return function(t){Be.setNotificationsToArchive(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.J.SET_NOTIFICATIONS_AS_ARCHIVED_SUCCESS},{set_notifications_to_archived_response:e.result})):t(Object(h.i)({type:m.J.SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.J.SET_NOTIFICATIONS_AS_ARCHIVED_FAILURE},{error:n}))}))}}},We=n(138),He=n(109),$e=n(31),qe=n(35),Ge=n.n(qe),Qe=(n(423),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).markAllAsRead=function(e){e.preventDefault(),0!==a.props.notification_count&&(a.props.markNotificationsAsRead({is_all_notifications:!0,mark_on_before_datetime:a.props.notification_requested_datetime}),a.setState({is_show_notification_options:!1}))},a.markAsRead=function(e){e.is_read===m.v&&(typeof e.id!==typeof[]&&(e.id=[e.id]),a.props.markNotificationsAsRead({notification_id:e.id,is_all_notifications:!1}))},a.deleteNotification=function(e,t){return e.preventDefault(),typeof t!==typeof[]&&(t=[t]),a.props.setNotificationsToArchive({notification_id:t,is_all_notifications:!1}),!1},a.determine_author_type=function(e){return m.b.includes(e)?"instructor":"student"},a.notificationTemplate=function(e){var t=e.person_count,n=e.notifier_details,i=e.questions_details,o=e.track_id,r=e.chapter_id,c=e.chapter_module_id,_=e.comment_id,l=e.created_at,u=e.description,d=e.chapter_module_title,p=e.parent_comment_id,m=n.user_id?n.first_name+" "+n.last_name.charAt(0)+".":"Someone";return n=t>1?t+" people have":m+" has ",{1:s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.b,{to:"/m/".concat(o,"/").concat(r,"/").concat(c,"/forum_question/").concat(p),onClick:function(){return a.markAsRead(e)}},n," answered your question ",s.a.createElement("span",{className:"cd_blue"},u)),s.a.createElement("span",{className:"date_text"},Ge()(l).fromNow())),2:s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"question_text"},n," new question",t>1?"s":""," for you in ","\n",void 0!==i&&i.map((function(e,t){return s.a.createElement(Q.b,{to:"/m/".concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.chapter_module_id,"/forum_question/").concat(e.parent_comment_id),onClick:function(){return a.markAsRead(e)}},e.chapter_module_title,t<i.length-1&&", ")}))),s.a.createElement("span",{className:"date_text"},Ge()(l).fromNow())),3:s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.b,{to:"/m/".concat(o,"/").concat(r,"/").concat(c,"/forum_question/").concat(p),onClick:function(){return a.markAsRead(e)}},n," up voted your ",_!==p?"answer":"question"," in ",s.a.createElement("span",{className:"cd_blue"},_!==p?u:d)),s.a.createElement("span",{className:"date_text"},Ge()(l).fromNow())),4:null,5:s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.b,{to:"/m/".concat(o,"/").concat(r,"/").concat(c,"/forum_question/").concat(p),onClick:function(){return a.markAsRead(e)}},void 0!==n&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{trigger:["hover","hover"],placement:"auto",overlay:s.a.createElement(He.a,{person_details:e.notifier_details,determine_author_type:a.determine_author_type,user_forum_summaries:a.props.user_forum_summaries,resetUserForumSummaries:a.props.resetUserForumSummaries,fetchUserForumSummary:a.props.fetchUserForumSummary})},s.a.createElement("span",{className:"cd_blue name"},m," ")),"has endorsed your answer to ",s.a.createElement("span",{className:"cd_blue"},u))),s.a.createElement("span",{className:"date_text"},Ge()(l).fromNow()))}[e.notification_type_id]},a.state={is_show_options:!1,is_show_notification_options:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.is_show_options,a=t.is_show_notification_options,i=this.props,o=i.grouped_notifications,r=i.is_empty_notification;return s.a.createElement("div",{id:"notification_content"},s.a.createElement("div",{id:"notification_header"},s.a.createElement("h2",null,"Notifications"),!this.props.is_empty_notification&&s.a.createElement($e.a,{show:a,onClick:function(){e.setState({is_show_notification_options:!a})}},s.a.createElement($e.a.Toggle,{id:"notification_dropdown"},s.a.createElement(ue.a,{icon:["fas","ellipsis-h"]})),!n&&s.a.createElement($e.a.Menu,null,s.a.createElement("button",{type:"button",disabled:0==this.props.notification_count,onClick:function(t){return e.markAllAsRead(t)}},"Mark all as read"),s.a.createElement("button",{type:"button",onClick:function(){return e.props.setNotificationsToArchive({is_all_notifications:!0})}},"Delete all")))),r&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"empty_box_icon"}),s.a.createElement("p",null,"No new notifications")),!r&&s.a.createElement(s.a.Fragment,null,o.map((function(t){if(0!=t.content.length)return s.a.createElement("div",{key:t.id,className:"block"},s.a.createElement("h2",null,t.title),s.a.createElement("ul",null,t.content.map((function(t){return s.a.createElement("li",{key:t.id,className:0===t.is_read&&"unread_notification"},e.notificationTemplate(t),s.a.createElement("form",{onSubmit:function(n){return e.deleteNotification(n,t.id)},className:"delete_notification_form",action:""},s.a.createElement("button",{type:"submit"},s.a.createElement(ue.a,{icon:["fas","times"]}))))}))))}))))}}]),n}(a.Component)),Ve=(n(424),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.get_lp2_exam_link(),a.state.is_show_assignment_forum_and_notifications&&a.props.fetchNotifications()},a.componentDidUpdate=function(e){var t=a.props.notification,n=Object(S.a)(a.state.links),s=n[4];a.props.exams.lp2_exam_link&&"exams"===s.to&&(s.to=a.props.exams.lp2_exam_link,a.setState({links:n})),a.props.setStateFromChild&&e!==a.props&&a.props.setStateFromChild(t.notification_count,t.notifications,a.props.markNotificationsAsRead)},a.openReportIssueModal=function(){a.props.history.push("/contact")},a.openBookmarksModal=function(){a.props.onAddActivityLog("3.12.12"),Object(h.v)(Object(re.a)(a),"is_show_bookmarks_modal",!0)},a.openDailyTipModal=function(){a.props.onAddActivityLog("3.13.12"),Object(h.v)(Object(re.a)(a),"is_show_daily_tip_modal",!0)},a.clickSubNavigationLink=function(e){var t="1.1.3";"tracks"===e?t="1.14.3":"progress"===e?t="1.16.3":"belt_exam_history"===e?t="1.17.3":"exams"===e&&(t="1.18.3"),a.props.onAddActivityLog(t)},a.clickSwitchBackToLearn=function(){a.props.onAddActivityLog("2.0.3")},a.NotificationPopoverTemplate=function(){return s.a.createElement(Fe.a,{id:"notification_popover"},s.a.createElement(Qe,{is_empty_notification:a.props.notification.is_empty_notification,notification_count:a.props.notification.notification_count,grouped_notifications:a.props.notification.grouped_notifications,setNotificationsToArchive:a.props.setNotificationsToArchive,markNotificationsAsRead:a.props.markNotificationsAsRead,notification_requested_datetime:a.props.notification.datetime_requested,fetchUserForumSummary:a.props.fetchUserForumSummary,user_forum_summaries:a.props.user_forum_summaries,resetUserForumSummaries:a.props.resetUserForumSummaries}))},a.state={is_show_notification_modal:!1,is_show_bookmarks_modal:!1,is_show_daily_tip_modal:!1,is_show_report_issue_modal:!1,is_empty_notification:!1,is_show_assignment_forum_and_notifications:!0,links:[{name:"Tracks",to:"/tracks"},{name:"Course",to:"/tracks"},{name:"Assignment Checklist",to:"/progress"},{name:"Belt Exam History",to:"/belt_exam_history"},{name:"Take Exams",to:"exams"}]};var i=Object(h.g)();if(!0===i.status){var o=i.user_details.workspace_custom_data.bootcamp_info,r=a.state.links[1].to;if(-1===(r=o&&null!==o.last_visited_url?o.last_visited_url:"/tracks").indexOf("http")&&"/"===r.substring(0,1))r="".concat(m.d.LP3_FRONTEND_URL).concat(r);else{var c=r.split("/m");r="".concat(m.d.LP3_FRONTEND_URL,"m").concat(c[1])}a.state.links[1].to=r}return a.state.is_show_assignment_forum_and_notifications=Object(h.o)(i.user_details,m.ab.ASSIGNMENT_FORUM_AND_NOTIFICATIONS.id),a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=([m.hb.INSTRUCTOR,m.hb.COURSE_EDITOR,m.hb.ADMIN_USER,m.hb.SUPER_ADMIN_USER].includes(this.props.user_level_id),this.props.location.replace("/","")),n=this.props,a=n.is_show_links,i=n.notification;return t.includes("m/")&&(this.state.links[1].to=t,t="Course"),this.props.exams.lp2_exam_link?s.a.createElement("div",{id:"sub_navigation_container"},!1!==a?s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement(we.a,{breakpoints:{320:{slidesPerView:3,spaceBetween:19}}},this.state.links.map((function(n){return s.a.createElement(De.a,{key:n.name,className:"".concat(t===n.to.substring(1)||t===n.name?"active":"")},s.a.createElement("a",{href:n.to,target:"Take Exams"===n.name?"_blank":"",onClick:function(){return e.clickSubNavigationLink(n.to)}}," ",n.name," "))})))),s.a.createElement(Ie.a,{minWidth:769},s.a.createElement("ul",{className:"list-unstyled"},this.state.links.map((function(n){return s.a.createElement("li",{key:n.name,className:"".concat(t===n.to.substring(1)||t===n.name?"active":"")},s.a.createElement("a",{href:n.to,target:"Take Exams"===n.name?"_blank":"",onClick:function(){return e.clickSubNavigationLink(n.to)}}," ",n.name," "))}))))):s.a.createElement("a",{href:m.d.LEARNV2_URL,onClick:function(){return e.clickSwitchBackToLearn()},id:"switch_back_to_classic_learn"},s.a.createElement("span",{className:"icon"})," Switch back to Classic Learn"),s.a.createElement(Ie.a,{minWidth:769},s.a.createElement("div",null,s.a.createElement("button",{type:"button",id:"bookmarks_btn",onClick:function(){return e.openBookmarksModal()}}),s.a.createElement("button",{type:"button",id:"daily_news_btn",onClick:function(){return e.openDailyTipModal()}}),s.a.createElement("button",{type:"button",id:"report_mistake_btn",onClick:function(){return e.openReportIssueModal()}}),this.state.is_show_assignment_forum_and_notifications&&s.a.createElement(ae.a,{rootClose:!0,trigger:"click",placement:"bottom",overlay:this.NotificationPopoverTemplate()},s.a.createElement("button",{type:"button",id:"notification_btn"},i.notification_count>0&&s.a.createElement("span",null,i.notification_count>9?"9+":i.notification_count))),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"checkbox",id:"switch_dark_mode_input",defaultChecked:this.props.is_dark_mode,onChange:function(t){return e.props.handleOnChangeDarkMode(t)}}),s.a.createElement("label",{htmlFor:"switch_dark_mode_input"})))),s.a.createElement(Me.a,{onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage,user_bookmarks:this.props.user_bookmarks,show:this.state.is_show_bookmarks_modal,toggleShowModal:function(t){return Object(h.v)(e,"is_show_bookmarks_modal",!1)}}),s.a.createElement(Pe.a,{show:this.state.is_show_daily_tip_modal,toggleShowModal:function(t){return Object(h.v)(e,"is_show_daily_tip_modal",!1)}}),s.a.createElement(Ne.a,{show:this.state.is_show_report_issue_modal,toggleShowModal:function(t){return Object(h.v)(e,"is_show_report_issue_modal",!1)},modal_status:this.state.is_show_report_issue_modal,onAddActivityLog:this.props.onAddActivityLog})):null}}]),n}(a.Component)),ze=We.a.fetchUserForumSummary,Ye=We.a.resetUserForumSummaries,Je=Ke.fetchNotifications,Xe=Ke.markNotificationsAsRead,Ze=Ke.setNotificationsToArchive,et=Object(h.p)(["notification","exams","user_forum_summaries"],{fetchNotifications:Je,markNotificationsAsRead:Xe,setNotificationsToArchive:Ze,get_lp2_exam_link:ne.a.get_lp2_exam_link,fetchUserForumSummary:ze,resetUserForumSummaries:Ye}),tt=et.mapStateToProps,nt=et.mapDispatchToProps,at=Object(l.b)(tt,nt)(Ve),st=(n(425),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).state={exams:[]};var s=Object(h.g)();return!0===s.status&&(a.state=Object(g.a)(Object(g.a)({},a.state),{},{profile:s.user_details})),a}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.props.get_user_belts(),this.props.onSaveUserSessionPage({page_type_id:m.N,track_id:0,course_id:0,chapter_id:0,chapter_module_id:0})}},{key:"render",value:function(){var e=this.props,t=e.onRemoveBookmark,n=e.location,a=e.bookmarks,i=e.exams,o=this.state.profile,r=o.general,c=r.image_url,_=r.first_name,l=r.last_name,u=o.workspace_custom_data.bootcamp_info,d=i.belts;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{user_info:this.state.profile,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:t,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{id:"belt_history_container",className:"container"},s.a.createElement(at,{history:this.props.history,onRemoveBookmark:t,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_dark_mode:this.props.is_dark_mode,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,location:n.pathname,bookmarks:a}),s.a.createElement("div",{id:"student_progress_header"},s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:null!==c?c:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"user icon"}),s.a.createElement("h6",null,_+" "+l),u&&s.a.createElement("p",null,"Joined Coding Dojo since ",new Date(u.start_date.toString()).toLocaleDateString([],{year:"numeric",month:"long",day:"numeric"}))),s.a.createElement("ul",{className:"list-unstyled"},d.map((function(e){return s.a.createElement(ie,{belt:e,key:e.id})})))),s.a.createElement("div",{id:"belt_exam_history_container"},s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Qualifying Exam"),s.a.createElement("th",null,"Belt Earned"),s.a.createElement("th",null,"Date Unlocked"),s.a.createElement("th",null,"Duration"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Score"))),s.a.createElement("tbody",null,i.exam_histories.map((function(e){return s.a.createElement(oe,{belt_history:e,key:e.id})}))))),s.a.createElement("p",null,"Please allow 24 hours for your scores to be updated"))))}}]),n}(a.Component)),it=Object(h.p)("exams",{get_exam_histories:ne.a.get_exam_histories,get_user_belts:ne.a.get_user_belts}),ot=it.mapStateToProps,rt=it.mapDispatchToProps,ct=Object(l.b)(ot,rt)(st),_t=(n(426),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.onSaveUserSessionPage({page_type_id:m.N,track_id:0,course_id:0,chapter_id:0,chapter_module_id:0})},a.clickToShowReportIssueModal=function(){Object(h.v)(Object(re.a)(a),"is_show_report_issue_modal",!0),a.props.onAddActivityLog("3.9.12")},a.state={is_show_report_issue_modal:!1,contact_us_details:{1:[{question:"Having a technical Issue?",answer:"Report it here.",is_show_report:!0},{question:"Having questions regarding admissions, tuition, or funding?",call:"(844) 446-3656",link:"admissions@codingdojo.com",answer:"admissions@codingdojo.com"},{question:"Having questions regarding instruction or curriculum?",link:"support@codingdojo.com",answer:"support@codingdojo.com"}],2:[{question:"Having a Learn Platform technical issue?",answer:"Report it here.",is_show_report:!0},{question:"Have a question about class or the curriculum",answer:"Contact your instructor or TA"},{question:"Have question regarding admissions or your standing in the program?",answer:"Contact your SDA Project Manager"},{question:"Have a question about Discord or another tool or not sure who to contact",link:"sda-product-ops@codingdojo.com",answer:"sda-product-ops@codingdojo.com"}],4:[{question:"\xbfTienes un problema t\xe9cnico?",answer:"Rep\xf3rtalo aqu\xed",is_show_report:!0},{question:"\xbfTienes preguntas sobre admisiones, matr\xedcula o financiaci\xf3n?",link:"contacto@codingdojo.com",answer:"contacto@codingdojo.com"},{question:"\xbfTienes preguntas sobre la instrucci\xf3n o el plan de estudios?",link:"support@codingdojo.com",answer:"support@codingdojo.com"}]}};var s=Object(h.g)();return!0===s.status&&(a.state=Object(g.a)(Object(g.a)({},a.state),{},{profile:s.user_details})),a}return Object($.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props.workspace_id,a=null!==(e=this.state.contact_us_details[n])&&void 0!==e?e:this.state.contact_us_details[m.kb.codingdojo];return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{location:this.props.location.pathname,user_info:this.state.profile,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement(je,{is_contact_us_banner:"true"}),s.a.createElement("div",{className:"container",id:"contact_us_container"},a.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"bold"},e.question),e.is_show_report&&s.a.createElement("p",null,s.a.createElement("button",{onClick:function(){return t.clickToShowReportIssueModal()}},"Report it here.")),e.call&&s.a.createElement("p",null,"Call: ",s.a.createElement("a",{href:"#"},e.call)),e.link&&s.a.createElement("p",null,s.a.createElement("a",{href:"mailto: ".concat(e.link)},e.answer)),e.answer&&!e.link&&!e.is_show_report&&s.a.createElement("p",null,e.answer))}))),s.a.createElement(Ne.a,{show:this.state.is_show_report_issue_modal,toggleShowModal:function(e){return Object(h.v)(t,"is_show_report_issue_modal",!1)},modal_status:this.state.is_show_report_issue_modal,onAddActivityLog:this.props.onAddActivityLog}))}}]),n}(a.Component)),lt=n(64),ut=n(197),dt=n(160),pt=n(82),mt=new function e(){Object(H.a)(this,e),this.fetchCoursePageData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(Object(h.i)({type:m.p.FETCH_COURSE_PAGE_DATA_REQUEST},{})),pt.a.fetchCoursePageData(e,t).then((function(e){if(!0===e.status){var t=void 0,a=void 0,s=e.result,i=s.track_id,o=s.chapter_module_id,r=s.active_module,c=s.active_chapter.cache_chapter_modules_count,_=r.content,l=r.module_type;if(null!==_){var u,d=_;2===l&&(d=JSON.parse(_)||{}),void 0!==(null===(u=d)||void 0===u?void 0:u.description)&&(d.description=d.description.replace(/http:\/\/learn\.codingdojo\.com/g,"http://login.codingdojo.com"),r.content=2===l?JSON.stringify(d):d,_=r.content)}if(1===l){var p=e.result.user_module||[],f=Object(O.a)(p,1)[0];if(e.result.active_module.content=_||{},void 0!==f&&null!==f.started_at&&null!==f.completed_at){var E=JSON.parse(f.user_module_content)||{};if(void 0!==E.questions){(t={track_id:i,chapter_module_id:o,questions:E.questions}).started_at=f.started_at,t.ended_at=f.completed_at;for(var g=0;g<t.questions.length;g++){var b=t.questions[g];void 0===b.is_correct&&void 0!==b.choices&&b.choices.length>0&&(t.questions[g].is_correct=b.choices.filter((function(e){return!0===e.is_answer&&!0===e.selected_answer})).length>0)}}}}else if(2===l){var v=(JSON.parse(e.result.active_module.content)||{}).data||{},S=v.tasks,k=v.tasks_order;if(void 0!==k&&void 0!=S){var T=e.result.user_module||[],C=Object(O.a)(T,1)[0],A=[];a=[],void 0!==C&&(A=JSON.parse(C.user_module_content)||[]);for(var R=function(e){var t=k[e],n=S.filter((function(e){return e.id==t}))[0];if(void 0!==n){var s=A.filter((function(e){return void 0!==e[t]}))[0];a.push({status:void 0!==s?parseInt(s[t]):1,title:n.task,id:t})}},y=0;y<k.length;y++)R(y)}}if(void 0!==e.result.completed_chapter_module_ids&&e.result.completed_chapter_module_ids.length>0)for(var w=0;w<e.result.completed_chapter_module_ids.length;w++)e.result.completed_chapter_module_ids[w]="survey"!==e.result.completed_chapter_module_ids[w]?parseInt(e.result.completed_chapter_module_ids[w]):e.result.completed_chapter_module_ids[w];if(!0===e.result.is_admin_user||parseFloat(e.result.chapters[e.result.chapter_index].chapter_progress_percent)>=80||parseInt(c)>=5&&parseFloat(e.result.chapters[e.result.chapter_index].chapter_progress_percent)>=80||parseInt(c)<5&&(void 0!==e.result.completed_chapter_module_ids&&e.result.completed_chapter_module_ids.length)>=2||1===parseInt(c)){e.result.chapters[e.result.chapter_index].chapter_modules.push({chapter_id:e.result.chapter_id,chapter_module_id:"survey",chapter_module_title:"Chapter Survey",content:null,is_completed:0,module_type:4,track_id:e.result.track_id});var D=e.result.active_chapter.chapter_module_ids_order.length;e.result.active_chapter.chapter_module_ids_order[D-1]==e.result.chapter_module_id&&(e.result.next_link="/m/".concat(e.result.track_id,"/").concat(e.result.chapter_id,"/survey"))}if(e.result.is_show_survey_modal=!1,e.result.cd_survey_scheds&&e.result.cd_survey_scheds.length>0){var U,I=[],M=Object(h.g)(),P=Object(lt.a)(e.result.cd_survey_scheds);try{for(P.s();!(U=P.n()).done;){var N=U.value;!M.user_details||M.user_details.workspace_custom_data.surveys.skipped.includes(N.cd_survey_user_id)||M.user_details.workspace_custom_data.surveys.taken.includes(N.cd_survey_schedule_id)||m.ob.includes(N.cd_survey_schedule_id)&&I.push(N)}}catch(L){P.e(L)}finally{P.f()}e.result.is_show_survey_modal=I.length>0,e.result.cd_survey_scheds=I}n(Object(h.i)({type:m.p.FETCH_COURSE_PAGE_DATA_SUCCESS},{track:e.result,quiz_module:t,assignment_tasks:a}))}else n(Object(h.i)({type:m.p.FETCH_COURSE_PAGE_DATA_FAILURE},{error:e.message})),window.location.href="/tracks"}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.p.FETCH_COURSE_PAGE_DATA_FAILURE},{error:t}))}))}},this.completeLessonModule=function(e){return function(t){t(Object(h.i)({type:m.p.COMPLETE_LESSON_MODULE_DATA_REQUEST},{})),pt.a.completeLessonModule(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.p.COMPLETE_LESSON_MODULE_DATA_SUCCESS},{lesson_module:e.result})):t(Object(h.i)({type:m.p.COMPLETE_LESSON_MODULE_DATA_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.p.COMPLETE_LESSON_MODULE_DATA_FAILURE},{error:n}))}))}},this.submitAssignmentTask=function(e){return function(t){t(Object(h.i)({type:m.p.SUBMIT_ASSIGNMENT_TASK_REQUEST},{}));var n=e.id,a=e.track_id,s=e.chapter_module_id,i=e.stack_schedule_id,o=e.cc_stack_schedule_id,r=e.module_data.map((function(e){var t={};return t[e.id]=e.status,t}));pt.a.submitAssignmentTask({id:n,track_id:a,chapter_module_id:s,stack_schedule_id:i,cc_stack_schedule_id:o,module_data:r}).then((function(n){!0===n.status?t(Object(h.i)({type:m.p.SUBMIT_ASSIGNMENT_TASK_SUCCESS},{assignment_tasks:e.module_data,assignment_remaining_time:n.result.assignment_remaining_time})):t(Object(h.i)({type:m.p.SUBMIT_ASSIGNMENT_TASK_FAILURE},{error:n.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.p.SUBMIT_ASSIGNMENT_TASK_FAILURE},{error:n}))}))}},this.changePropsValue=function(e,t){return function(n){n(Object(h.i)({type:m.p.CHANGE_PROPS_VALUE_REQUEST},{modal_name:e,new_value:t}))}},this.startQuiz=function(e){return function(t){t(Object(h.i)({type:m.p.START_QUIZ_REQUEST},{})),pt.a.startQuiz(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.p.START_QUIZ_SUCCESS},{quiz_details:e.result})):t(Object(h.i)({type:m.p.START_QUIZ_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.p.START_QUIZ_FAILURE},{error:n}))}))}},this.navigateQuiz=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){!0===t?pt.a.submitQuiz(e).then((function(e){!0===e.status?n(Object(h.i)({type:m.p.NAVIGATE_QUIZ_SUCCESS},{quiz_details:e.result})):n(Object(h.i)({type:m.p.NAVIGATE_QUIZ_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.p.NAVIGATE_QUIZ_FAILURE},{error:t}))})):n(Object(h.i)({type:m.p.NAVIGATE_QUIZ_SUCCESS},{quiz_details:e.quiz_details}))}},this.submitCurriculumMistakeReport=function(e){return pt.a.submitCurriculumMistakeReport(e)}},ht=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).fetch_online_discussion=function(e){return this.sendRequest("".concat(m.d.URL,"/discussions/fetch_online_discussion"),e,!0).then(h.h).then((function(e){return e}))},e.fetch_discussion_responses=function(e){return this.sendRequest("".concat(m.d.URL,"/discussions/fetch_discussion_responses"),e,!0).then(h.h).then((function(e){return e}))},e.save_new_discussion_response=function(e){return this.sendRequest("".concat(m.d.URL,"/discussions/save_new_discussion_response"),e,!0).then(h.h).then((function(e){return e}))},e.delete_discussion_response=function(e){return this.sendRequest("".concat(m.d.URL,"/discussions/delete_discussion_response"),e,!0).then(h.h).then((function(e){return e}))},e.vote_discussion_response=function(e){return this.sendRequest("".concat(m.d.URL,"/discussions/vote_discussion_response"),e,!0).then(h.h).then((function(e){return e}))},e.update_discussion_details=function(e){return this.sendRequest("".concat(m.d.URL,"/discussions/update_discussion_board"),e,!0).then(h.h).then((function(e){return e}))},e.delete_discussion_question=function(e){return this.sendRequest("".concat(m.d.URL,"/discussions/delete_discussion_board"),e,!0).then(h.h).then((function(e){return e}))},e}return n}(J.a)),ft=new function e(){Object(H.a)(this,e),this.fetchOnlineDiscussion=function(e){return function(t){t(Object(h.i)({type:m.r.GET_DISCUSSION_REQUEST},{})),ht.fetch_online_discussion(e).then((function(e){!0===e.status?!0===e.result.allowed_discussion_access?t(Object(h.i)({type:m.r.GET_DISCUSSION_SUCCESS},{discussion:e.result})):void 0!==e.result.redirect_to?window.location.href=e.result.redirect_to:window.location.href="/dashboard":t(Object(h.i)({type:m.r.GET_DISCUSSION_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.r.GET_DISCUSSION_FAILURE},{error:n}))}))}},this.fetchDiscussionResponses=function(e){return function(t){t(Object(h.i)({type:m.r.GET_DISCUSSION_RESPONSES_REQUEST},{})),ht.fetch_discussion_responses(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.r.GET_DISCUSSION_RESPONSES_SUCCESS},{discussion:e.result})):t(Object(h.i)({type:m.r.GET_DISCUSSION_RESPONSES_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.r.GET_DISCUSSION_FAILURE},{error:n}))}))}},this.saveDiscussionResponse=function(e){return function(t){t(Object(h.i)({type:m.r.SAVE_DISCUSSION_RESPONSE_REQUEST},{})),ht.save_new_discussion_response(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.r.SAVE_DISCUSSION_RESPONSE_SUCCESS},{new_response:e.result})):t(Object(h.i)({type:m.r.SAVE_DISCUSSION_RESPONSE_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.r.SAVE_DISCUSSION_RESPONSE_FAILURE},{error:n}))}))}},this.deleteDiscussionResponse=function(e,t){return function(n){n(Object(h.i)({type:m.r.REMOVE_DISCUSSION_RESPONSE_REQUEST},{})),ht.delete_discussion_response(e).then((function(e){!0===e.status?n(Object(h.i)({type:m.r.REMOVE_DISCUSSION_RESPONSE_SUCCESS},{deleted_response:e.result,response_index:t})):n(Object(h.i)({type:m.r.REMOVE_DISCUSSION_RESPONSE_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.r.REMOVE_DISCUSSION_RESPONSE_FAILURE},{error:t}))}))}},this.voteDiscussionResponse=function(e,t){return function(n){n(Object(h.i)({type:m.r.VOTE_DISCUSSION_RESPONSE_REQUEST},{})),ht.vote_discussion_response(e).then((function(e){!0===e.status?n(Object(h.i)({type:m.r.VOTE_DISCUSSION_RESPONSE_SUCCESS},{voted_response:e.result,response_index:t})):n(Object(h.i)({type:m.r.VOTE_DISCUSSION_RESPONSE_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.r.VOTE_DISCUSSION_RESPONSE_FAILURE},{error:t}))}))}},this.updateDiscussionDetails=function(e){return function(t){t(Object(h.i)({type:m.r.UPDATE_DISCUSSION_DETAILS_REQUEST},{})),ht.update_discussion_details(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.r.UPDATE_DISCUSSION_DETAILS_SUCCESS},{response:e.result})):t(Object(h.i)({type:m.r.UPDATE_DISCUSSION_DETAILS_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.r.UPDATE_DISCUSSION_DETAILS_FAILURE},{error:n}))}))}},this.deleteDiscussionQuestion=function(e){return function(t){t(Object(h.i)({type:m.r.DELETE_DISCUSSION_QUESTION_REQUEST},{})),ht.delete_discussion_question(e).then((function(e){!0===e.status?void 0!==e.result.discussion_link&&(window.location.href=e.result.discussion_link):t(Object(h.i)({type:m.r.DELETE_DISCUSSION_QUESTION_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.r.DELETE_DISCUSSION_QUESTION_FAILURE},{error:n}))}))}}},Et=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).uploadToDoFile=function(e){return this.sendRequest("".concat(m.d.URL,"/todo/upload_s3"),e,!0,!0).then(h.h).then((function(e){return e.token&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},e.uploadToDoGithubLink=function(e){return this.sendRequest("".concat(m.d.URL,"/todo/upload_github"),e,!0).then(h.h).then((function(e){return e.token&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},e.deleteAssignmentFile=function(e){return this.sendRequest("".concat(m.d.URL,"/todo/delete/").concat(e.file_id),{chapter_module_id:e.chapter_module_id},!0).then(h.h).then((function(e){return e}))},e.startToDoTask=function(e,t){return this.sendRequest("".concat(m.d.URL,"/todo/start_task/").concat(e),t,!0).then(h.h).then((function(e){return e}))},e.getToDoSolution=function(e,t){return this.sendRequest("".concat(m.d.URL,"/todo/solution/data/").concat(e),t,!0).then(h.h).then((function(e){return e}))},e.getToDoSolutionFileContent=function(e,t){return this.sendRequest("".concat(m.d.URL,"/todo/solution/content/").concat(e),t,!0).then(h.h).then((function(e){return e}))},e.CurrentUser=new xe.a(null),e}return n}(J.a)),gt=new function e(){Object(H.a)(this,e),this.uploadToDoFile=function(e){return function(t){t(Object(h.i)({type:m.p.UPLOAD_TODO_FILE_REQUEST},{})),Et.uploadToDoFile(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.p.UPLOAD_TODO_FILE_SUCCESS},{todo:e.result})):t(Object(h.i)({type:m.p.UPLOAD_TODO_FILE_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.p.UPLOAD_TODO_FILE_FAILURE},{error:n}))}))}},this.uploadToDoGithubLink=function(e){return function(t){t(Object(h.i)({type:m.p.UPLOAD_TODO_GITHUB_REQUEST},{})),Et.uploadToDoGithubLink(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.p.UPLOAD_TODO_GITHUB_SUCCESS},{todo:e.result})):t(Object(h.i)({type:m.p.UPLOAD_TODO_GITHUB_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.p.UPLOAD_TODO_GITHUB_FAILURE},{error:n}))}))}},this.deleteAssignmentFile=function(e){return function(t){t(Object(h.i)({type:m.p.DELETE_USER_TODO_FILE_REQUEST},{})),Et.deleteAssignmentFile(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.p.DELETE_USER_TODO_FILE_SUCCESS},{todo:e.result})):t(Object(h.i)({type:m.p.DELETE_USER_TODO_FILE_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.p.DELETE_USER_TODO_FILE_FAILURE},{error:n}))}))}},this.startToDoTask=function(e,t){return function(n){n(Object(h.i)({type:m.p.START_TASK_REQUEST},{})),Et.startToDoTask(e,t).then((function(e){!0===e.status?n(Object(h.i)({type:m.p.START_TASK_SUCCESS},{start_todo:e.result})):n(Object(h.i)({type:m.p.START_TASK_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.p.START_TASK_FAILURE},{error:t}))}))}},this.getToDoSolution=function(e,t){return function(n){n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_REQUEST},{post_data:t})),Et.getToDoSolution(e,t).then((function(e){!0===e.status?n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_SUCCESS},{todo_solution_content:e.result})):n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_FAILURE},{error:t}))}))}},this.getToDoSolutionFileContent=function(e,t){return function(n){n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_FILE_REQUEST},{})),Et.getToDoSolutionFileContent(e,t).then((function(e){!0===e.status?n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_FILE_SUCCESS},{todo_solution_content:e.result})):n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_FILE_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.p.FETCH_USER_TODO_SOLUTION_FILE_FAILURE},{error:t}))}))}},this.changeActiveFileContent=function(e){return function(t){t(Object(h.i)({type:m.p.CHANGE_ACTIVE_FILE_CONTENT_REQUEST},{active_file_data:e}))}},this.changeActiveTabContent=function(e){return function(t){t(Object(h.i)({type:m.p.CHANGE_ACTIVE_TAB_CONTENT_REQUEST},{todo_solution_content:e.children,id:e.id}))}}},bt=n(40),vt=(n(427),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentWillReceiveProps=function(e,t){var n=e.active_module,s=e.user_bookmarks;void 0!==s&&parseInt(s.new_bookmark_id)>0&&!1===n.is_bookmarked?(a.props.active_module.is_bookmarked=!0,a.setState({bookmark_name:"",input_error:""}),a.props.toggleShowModal(!1)):void 0!==s.error_message&&a.setState({input_error:s.error_message})},a.submitBookmarkForm=function(e){e.preventDefault(),""!==a.state.bookmark_name&&(a.props.save_new_user_bookmarks(a.props.active_module.chapter_module_id,{title:a.state.bookmark_name,track_course_id:a.props.track_course_id,chapter_module_url:"m/".concat(a.props.track_details.id,"/").concat(a.props.chapter_details.id,"/").concat(a.props.active_module.chapter_module_id)}),a.props.active_module.is_bookmarked=!1,a.props.onAddActivityLog("1.12.19"))},a.handleInputChange=function(e){var t=e.target.value,n=t.replace(/^\s+/,"").replace(/\s+$/,"");a.setState(Object(bt.a)({},e.target.name,""===n?"":t))},a.state={bookmark_name:"",input_error:""},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.state.input_error;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"add_bookmark_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Add Bookmark"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("form",{onSubmit:function(t){return e.submitBookmarkForm(t)},autoComplete:"off"},void 0!==t&&""!==t&&s.a.createElement("span",{className:"input_error"},t),s.a.createElement("input",{className:"".concat(void 0!==t&&""!==t?"border_red":""),type:"text",name:"bookmark_name",placeholder:"Name here...",value:this.state.bookmark_name,onChange:function(t){return e.handleInputChange(t)}}),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{type:"button",onClick:function(t){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit",className:""!==this.state.bookmark_name?"btn btn-primary":"btn btn-primary disabled"},"Done")))))}}]),n}(a.Component)),St=Object(h.p)("user_bookmarks",{save_new_user_bookmarks:ee.a.save_new_user_bookmarks}),Ot=St.mapStateToProps,kt=St.mapDispatchToProps,Tt=Object(l.b)(Ot,kt)(vt),Ct=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).saveChapterSurveyAnswer=function(e,t,n){return this.sendRequest("".concat(m.d.URL,"/tracks/submit_chapter_survey/").concat(e,"/").concat(t),n,!0).then(h.h).then((function(e){return e}))},e}return n}(J.a)),At=new function e(){Object(H.a)(this,e),this.saveChapterSurveyAnswer=function(e,t,n){return function(a){a(Object(h.i)({type:m.o.SAVE_CHAPTER_SURVEY_DATA_REQUEST},{})),Ct.saveChapterSurveyAnswer(e,t,n).then((function(e){!0===e.status?a(Object(h.i)({type:m.o.SAVE_CHAPTER_SURVEY_DATA_SUCCESS},{chapter_survey:{status:!0,message:"Successfully saved!."}})):a(Object(h.i)({type:m.o.SAVE_CHAPTER_SURVEY_DATA_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);a(Object(h.i)({type:m.o.SAVE_CHAPTER_SURVEY_DATA_FAILURE},{error:t}))}))}}},Rt=(n(428),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this.props,t=e.ratings,n=e.onHandleInputRatingChange;return s.a.createElement("div",{className:"slide_ratings_list"},t.map((function(e){return s.a.createElement("label",{key:e.id,htmlFor:"".concat(e.input_name,"_").concat(e.id)},s.a.createElement("input",{checked:e.is_checked,onChange:function(){return n(e.id)},type:"radio",name:e.input_name,value:e.value,id:"".concat(e.input_name,"_").concat(e.id)}),s.a.createElement("span",null,e.name))})))}}]),n}(a.Component)),yt=(n(429),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidUpdate=function(){var e=a.props.courses,t=e.track,n=e.end_chapter_survey_response_status;void 0!==n&&null!==n&&!0===n.status&&console.log("Chapter survey answer successfully saved!."),!0===t.is_chapter_survey_form_submitted&&!0!==t.proceed_to_next_link&&a.submitChapterSurvey()},a.handleInputChange=function(e){a.setState(Object(bt.a)({},e.target.name,e.target.value))},a.handleInputRatingChange=function(e){var t=a.state,n=t.effectivity_rating,s=t.ratings;s.map((function(t){t.is_checked=t.id===e,t.id===e&&(n=t.value)})),a.setState({ratings:s,effectivity_rating:n})},a.submitChapterSurvey=function(){var e=a.state,t=e.effectivity_rating,n=e.how_effective_textarea,s=e.smiley_survey_radio,i=e.how_satisfied_textarea;if(""!==t&&null!==s){var o={data:[{question_id:"1",question_answer:parseInt(s),comment:i},{question_id:"2",question_answer:parseInt(t),comment:n}]};a.props.saveChapterSurveyAnswer(a.props.track_id,a.props.chapter_id,o)}else null===s&&(a.props.changePropsValue("proceed_to_next_link",!0),a.props.changePropsValue("is_chapter_survey_form_submitted",!1))},a.state={how_satisfied_textarea:"",how_effective_textarea:"",smiley_survey_radio:null,effectivity_rating:"3",ratings:[{id:0,input_name:"effectivity_rating",name:"Too Difficult",value:1,is_checked:!1},{id:1,input_name:"effectivity_rating",name:"Somewhat Difficult",value:2,is_checked:!1},{id:2,input_name:"effectivity_rating",name:"Average",value:3,is_checked:!0},{id:3,input_name:"effectivity_rating",name:"Somewhat Easy",value:4,is_checked:!1},{id:4,input_name:"effectivity_rating",name:"Too Easy",value:5,is_checked:!1}]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{id:"chapter_survey_form"},s.a.createElement("p",null,"This survey refers to your learning experience during the Introduction to Programming Fundamentals Course."),s.a.createElement("ul",{className:"list-unstyled",id:"chapter_survey_questions"},s.a.createElement("li",null,s.a.createElement("p",null,"1. Overall, how satisfied are you with this chapter?"),s.a.createElement("div",{id:"smiley_face_survey_container"},s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},type:"radio",className:"smiley_face_radio",name:"smiley_survey_radio",id:"",value:"1"}),s.a.createElement("span",{id:"unsatisfied_smiley_icon"})),s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},type:"radio",className:"smiley_face_radio",name:"smiley_survey_radio",id:"",value:"2"}),s.a.createElement("span",{id:"neutral_smiley_icon"})),s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},type:"radio",className:"smiley_face_radio",name:"smiley_survey_radio",id:"",value:"3"}),s.a.createElement("span",{id:"satisfied_smiley_icon"}))),s.a.createElement("textarea",{onChange:function(t){return e.handleInputChange(t)},name:"how_satisfied_textarea",id:"",className:"form-control",placeholder:"Elaborate your choice (optional)",spellCheck:"false"})),s.a.createElement("li",null,s.a.createElement("p",null,"2. How effective was this chapter in helping you understand the key concepts?"),s.a.createElement(Rt,{onHandleInputRatingChange:this.handleInputRatingChange,ratings:this.state.ratings}),s.a.createElement("textarea",{onChange:function(t){return e.handleInputChange(t)},name:"how_effective_textarea",id:"",className:"form-control",placeholder:"Elaborate your choice (optional)",spellCheck:"false"}))))}}]),n}(a.Component)),wt=Object(h.p)("courses",{saveChapterSurveyAnswer:At.saveChapterSurveyAnswer,changePropsValue:mt.changePropsValue}),Dt=wt.mapStateToProps,Ut=wt.mapDispatchToProps,It=Object(l.b)(Dt,Ut)(yt),Mt=(n(261),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).removeDiscussion=function(e){e.preventDefault();var t=a.props.discussions.selected_question_data,n={discussion_id:t.discussion_id,user_question_id:t.id};return a.props.deleteDiscussionQuestion(n),a.props.toggleShowModal(!1),!1},a.state={},a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"delete_discussion_module_modal"},s.a.createElement(fe.a.Body,null,s.a.createElement(ue.a,{icon:["fas","trash"]}),s.a.createElement("h6",null,"Delete Confirmation"),s.a.createElement("p",null,"Are you sure you want to permanently remove this discussion module?")),s.a.createElement("form",{onSubmit:this.removeDiscussion},s.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.props.toggleShowModal(!1)}},"No, Keep It"),s.a.createElement("button",{type:"submit",id:"delete_discussion_module_btn",className:"btn"},"Yes, Delete it")))}}]),n}(a.Component)),Pt=ft.deleteDiscussionQuestion,Nt=Object(h.p)(["discussions"],{deleteDiscussionQuestion:Pt}),Lt=Nt.mapStateToProps,jt=Nt.mapDispatchToProps,Ft=Object(l.b)(Lt,jt)(Mt),xt=n(347),Bt=n.n(xt),Kt=(n(430),n(431),Object(a.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ue.a,{icon:["fas","calendar-alt"]}),s.a.createElement("input",{type:"text",value:n,onClick:a,ref:t}))}))),Wt=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).submitDiscussionForm=function(e){e.preventDefault();var t=a.props.discussions.selected_question_data,n=null!==a.state.response_due_date?a.state.response_due_date:t.response_due_date,s={track_id:parseInt(t.track_id),question_id:parseInt(t.id),week_id:parseInt(t.discussion_id),discussion_title:null!==a.state.title?a.state.title:t.title,discussion_description:null!==a.state.description?a.state.description:t.content,discussion_response_due_date:Ge()(new Date(n)).format("MM/DD/YYYY")};return a.setState({is_form_submitted:!0}),a.props.updateDiscussionDetails(s),a.props.toggleShowModal(!1),!1},a.state={title:null,description:null,response_due_date:null,is_form_submitted:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.discussions.selected_question_data,n=null!==t&&void 0!==t.title?t.title:"",a=null!==t&&void 0!==t.content?t.content:"",i=null!==t&&void 0!==t.response_due_date?t.response_due_date:null;if(this.state.is_form_submitted&&(null!==this.state.title||null!==this.state.description||null!==this.state.response_due_date)){var o={is_form_submitted:!1};null!==this.state.title&&(o.title=null),null!==this.state.description&&(o.description=null),null!==this.state.response_due_date&&(o.response_due_date=null),Object.keys(o).length>0&&this.setState(o)}return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"edit_discussion_board_modal"},s.a.createElement(fe.a.Header,null,"Edit Discussion Board"),s.a.createElement(fe.a.Body,null,s.a.createElement("form",{onSubmit:this.submitDiscussionForm},s.a.createElement("label",{htmlFor:"discussion_title_input"},"Discussion Title"),s.a.createElement("input",{id:"discussion_title_input",value:null!==this.state.title?this.state.title:n,onChange:function(t){return e.setState({title:t.target.value})},placeholder:"Discussion title here...",type:"text"}),s.a.createElement("label",{htmlFor:"discussion_description_input"},"Discussion Description"),s.a.createElement("textarea",{id:"discussion_description_input",onChange:function(t){return e.setState({description:t.target.value})},placeholder:"Discussion description here..."},null!==this.state.description?this.state.description:a),s.a.createElement("label",{htmlFor:"discussion_due_date_input"},"Due Date"),s.a.createElement(Bt.a,{dateFormat:"MMM d, yyyy",selected:new Date(null!==this.state.response_due_date?this.state.response_due_date:i),customInput:s.a.createElement(Kt,null),onChange:function(t){return e.setState({response_due_date:t})}}),s.a.createElement("div",{className:"blk"},s.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save")))))}}]),n}(a.Component),Ht=ft.updateDiscussionDetails,$t=Object(h.p)(["discussions"],{updateDiscussionDetails:Ht}),qt=$t.mapStateToProps,Gt=$t.mapDispatchToProps,Qt=Object(l.b)(qt,Gt)(Wt),Vt=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).fetch_chapter_module_faq=function(e){return this.sendRequest("".concat(m.d.URL,"/faq/fetch_faq/").concat(e),{},!0).then(h.h).then((function(e){return e}))},e}return n}(J.a)),zt=new function e(){Object(H.a)(this,e),this.get_chapter_module_faq=function(e){return function(t){t(Object(h.i)({type:m.w.GET_CHAPTER_MODULE_FAQ_REQUEST},{})),Vt.fetch_chapter_module_faq(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.w.GET_CHAPTER_MODULE_FAQ_SUCCESS},{faq:e.result})):t(Object(h.i)({type:m.w.GET_CHAPTER_MODULE_FAQ_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.w.GET_CHAPTER_MODULE_FAQ_FAILURE},{error:n}))}))}}},Yt=(n(491),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={is_liked:null},e.submitLikeDislikeContent=function(e){e.preventDefault()},e.handleLikeDislikeValue=function(t){e.setState({is_liked:"like"===t.target.value}),e.props.faq.is_liked="like"===t.target.value},e}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.faq,n=this.props.is_liked,a=t.answer_json_array?t.answer_json_array.answers[0].answer:"";return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"faq_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{id:"faq_question_container"},s.a.createElement("div",{className:"question_head"},s.a.createElement("span",{className:"question_title"},t.title),s.a.createElement("div",{className:"creator_container"},s.a.createElement("img",{src:t.image_url,alt:"Default Profile"}),s.a.createElement("div",{className:"details"},s.a.createElement("span",{className:"name"},t.first_name),s.a.createElement("span",{className:"position"},t.user_level_name)))),s.a.createElement("p",null,t.description)),s.a.createElement("div",{id:"faq_answer_container"},s.a.createElement("h5",null,"Answer"),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),s.a.createElement("form",{id:"like_dislike_form",onSubmit:function(t){return e.submitLikeDislikeContent(t)}},s.a.createElement("p",null,"Did you find this Q&A helpful?"),s.a.createElement("button",{type:"submit",id:"dislike_btn"},s.a.createElement("input",{type:"radio",id:"like_faq",checked:void 0!==t.is_liked&&!1===t.is_liked||!1===n,name:"like_dislike_faq",value:"dislike",onChange:function(n){return e.props.onHandleLikeDislikeValue(n,t)}}),s.a.createElement("label",{htmlFor:"like_faq"})),s.a.createElement("button",{type:"submit",id:"like_btn"},s.a.createElement("input",{type:"radio",id:"dislike_faq",checked:void 0!==t.is_liked&&!0===t.is_liked||!0===n,name:"like_dislike_faq",value:"like",onChange:function(n){return e.props.onHandleLikeDislikeValue(n,t)}}),s.a.createElement("label",{htmlFor:"dislike_faq"})))))}}]),n}(a.Component)),Jt=(n(492),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).toggleShowFaq=function(){if(a.setState({is_faq_visible:!a.state.is_faq_visible}),!a.state.is_faq_visible){var e=a.props.active_module.chapter_module_id;a.props.get_chapter_module_faq(e),a.props.onAddActivityLog("1.7.3")}},a.handleLikeDislikeValue=function(e,t){},a.clickFAQDisplayModal=function(){a.props.onAddActivityLog("3.7.3")},a.state={is_show_faq_modal:!1,is_faq_visible:!1,active_faq:void 0,faqs:[{id:0,name:"How do I install MySQL Server on a Mac?",description:"How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac?",creator_details:{name:"C.J.",position:"Bootcamp Leader"},answer:'<p>Take a peek at the snippet of code below. Here, we added something called a conditional: if the light is already on, turn it off; or else turn the light on.        </p><pre data-v-21c573a6="" element-loading-text="Grabbing content from GitHub..." class="language-js code-toolbar" style="" data-language="javascript"><code data-v-21c573a6="" class=" language-js"><span class="token comment" spellcheck="true">// print odds</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span>\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                    \n                    <span class="token comment" spellcheck="true">// num and sum</span>\n                    <span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        sum<span class="token operator">+</span><span class="token operator">=</span>i\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'num:\'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">\'sum:\'</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span>\n                    <span class="token punctuation">}</span></code><div class="toolbar"></div><div class="el-loading-mask" style="display: none;"><div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg><p class="el-loading-text">Grabbing content from GitHub...</p></div></div></pre>'},{id:1,name:"How do I install MySQL Server on a Mac?",description:"How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac? I have a Mac and I don\u2019t know how to install it. How do I install MySQL Server on a Mac?",creator_details:{name:"C.J.",position:"Bootcamp Leader"},answer:'<p>Take a peek at the snippet of code below. Here, we added something called a conditional: if the light is already on, turn it off; or else turn the light on.        </p><pre data-v-21c573a6="" element-loading-text="Grabbing content from GitHub..." class="language-js code-toolbar" style="" data-language="javascript"><code data-v-21c573a6="" class=" language-js"><span class="token comment" spellcheck="true">// print odds</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span>\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                    \n                    <span class="token comment" spellcheck="true">// num and sum</span>\n                    <span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>\n                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                        sum<span class="token operator">+</span><span class="token operator">=</span>i\n                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'num:\'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">\'sum:\'</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span>\n                    <span class="token punctuation">}</span></code><div class="toolbar"></div><div class="el-loading-mask" style="display: none;"><div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg><p class="el-loading-text">Grabbing content from GitHub...</p></div></div></pre>'}]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.is_faq_visible,a=(t.faqs,t.active_faq),i=t.is_show_faq_modal,o=this.props.faqs,r=o.faq_list,c=o.user_data;return s.a.createElement("div",{id:"faq_container"},s.a.createElement("h5",{onClick:function(){return e.toggleShowFaq()}},"Frequently Asked Question"),s.a.createElement("button",{className:"".concat(n?"rotate":""," "),id:"toggle_show_faq_btn",onClick:function(){return e.toggleShowFaq()}},s.a.createElement(ue.a,{icon:["fas","angle-down"]})),s.a.createElement("ul",{className:"list-unstyled ".concat(n?"":"hide"," ")},r.map((function(t){return s.a.createElement("li",{key:t.id,onClick:function(){Object(h.v)(e,"is_show_faq_modal",!0),e.clickFAQDisplayModal(),e.setState({active_faq:t})}},s.a.createElement("div",{className:"question_head"},s.a.createElement("span",{className:"question_title"},t.title),s.a.createElement("div",{className:"creator_container"},s.a.createElement("img",{src:t.image_url,alt:"Default Profile"}),s.a.createElement("div",{className:"details"},s.a.createElement("span",{className:"name"},t.first_name),s.a.createElement("span",{className:"position"},t.user_level_name)))),s.a.createElement("p",null,t.description))}))),void 0!==a&&s.a.createElement(Yt,{faq:a,user_data:c,onHandleLikeDislikeValue:this.handleLikeDislikeValue,show:i,toggleShowModal:function(t){return Object(h.v)(e,"is_show_faq_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}))}}]),n}(a.Component)),Xt=Object(h.p)("faqs",{get_chapter_module_faq:zt.get_chapter_module_faq}),Zt=Xt.mapStateToProps,en=Xt.mapDispatchToProps,tn=Object(l.b)(Zt,en)(Jt),nn=(n(493),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).onUserClickedAnElement=function(e){a.props.onUserClickedAnElement(e,"lesson"),a.props.onCopyToClipboard(e)},a.state={is_liked:null},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.module,a=(0,t.onConvertPrismtoRainbowCodeSnippet)(JSON.parse(n.content));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"lesson_content",dangerouslySetInnerHTML:{__html:a.description},onClick:function(t){return e.onUserClickedAnElement(t)},onMouseUp:function(){return e.props.onGetTextSelection("mouseup")},onMouseDown:function(){return e.props.onGetTextSelection("mousedown")}}))}}]),n}(a.Component)),an=Object(h.p)(["courses","analytics"],{fetchCoursePageData:mt.fetchCoursePageData,completeLessonModule:mt.completeLessonModule,changePropsValue:mt.changePropsValue}),sn=an.mapStateToProps,on=an.mapDispatchToProps,rn=Object(l.b)(sn,on)(nn),cn=(n(494),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).submitDiscussionAnswer=function(e){e.preventDefault();var t=a.state.discussion_value;""!=t&&void 0!=t&&(a.props.onSubmitDiscussionAnswer(t),a.props.onAddActivityLog("1.6.18")),a.setState({discussion_value:" "})},a.state={discussion_value:void 0},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.online_discussion,n=t.selected_question_data,i=t.show_response_form;return s.a.createElement(a.Fragment,null,s.a.createElement("div",{id:"discussion_container"},s.a.createElement("div",{className:"blk"},s.a.createElement("p",null,null!==n?n.content:"")),!0===i&&s.a.createElement("form",{action:"#",onSubmit:function(t){return e.submitDiscussionAnswer(t)}},s.a.createElement("textarea",{name:"discussion_answer",className:""===this.state.discussion_value?"border_red":"",onChange:function(t){return e.setState({discussion_value:t.target.value})},placeholder:"Respond here....",value:this.state.discussion_value}),s.a.createElement("p",null,"*Response due by Midnight (PST)"),s.a.createElement("button",{type:"submit"},"Submit")),!1===i&&s.a.createElement("p",null,"This Discussion Board Has Not Been Activated by the Instructor Yet.")))}}]),n}(a.Component)),_n=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){return Object(H.a)(this,n),t.call(this,e)}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"delete_discussion_modal"},s.a.createElement(fe.a.Body,null,s.a.createElement(ue.a,{icon:["fas","trash"]}),s.a.createElement("h6",null,"Delete Confirmation"),s.a.createElement("p",null,"Delete a post will permanently remove it from the discussion.")),s.a.createElement("form",{onSubmit:function(t){return e.props.handleOnSubmitDeleteDiscussion(t,e.props.active_discussion,e.props.active_response_index)}},s.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.props.toggleShowModal(!1)}},"No, Keep It"),s.a.createElement("button",{type:"submit",id:"delete_discussion_btn",className:"btn"},"Yes, Delete it")))}}]),n}(a.Component),ln=(n(495),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleLikeDislikeDiscussion=function(e,t,n){a.props.voteDiscussionResponse({user_response_id:t.id,user_question_id:t.user_question_id,vote_type:"is_liked"===e.target.value?1:-1},n),a.props.onAddActivityLog("is_liked"===e.target.value?"1.6.21":"1.6.22")},a.deleteDiscussionModal=function(e,t){a.props.handleDeleteDiscussionModal(),a.setState({active_discussion_data:e,active_response_index:t})},a.showMoreOnlineDiscussion=function(){null!==a.props.online_discussion.selected_question_data&&a.props.fetchDiscussionResponses({track_id:a.props.online_discussion.selected_question_data.track_id,week_id:a.props.online_discussion.selected_question_data.discussion_id,question_id:a.props.online_discussion.selected_question_data.id,page_number:a.props.online_discussion.selected_question_data.current_page+1})},a.state={active_discussion_data:{},active_response_index:-1,is_show_delete_discussion_modal:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=null!==this.props.online_discussion.selected_question_data?this.props.online_discussion.selected_question_data.total_response:0,n=this.props.online_discussion,a=n.discussion_responses,i=n.user_votes,o=n.is_instructor;return s.a.createElement("div",{id:"discussion_answer_container",className:this.props.mobile_show_module?"show_module":"hide_module"},s.a.createElement("h2",null,"Discussion ",s.a.createElement("span",null,t)),s.a.createElement("ul",null,a.length>0&&a.map((function(t,n){var a=void 0!==i[parseInt(t.id)]&&1===i[parseInt(t.id)].vote,r=void 0!==i[parseInt(t.id)]&&-1===i[parseInt(t.id)].vote;return s.a.createElement("li",{key:t.id},s.a.createElement("p",null,t.content),(e.props.online_discussion.current_user_id===t.user_id||o)&&s.a.createElement("button",{type:"button",discussion_data:t,onClick:function(a){return e.deleteDiscussionModal(t,n)}},s.a.createElement(ue.a,{icon:["fas","times-circle"]})),s.a.createElement("div",{className:"blk"},s.a.createElement("form",{action:""},s.a.createElement("label",{htmlFor:"like_input_"+t.id},s.a.createElement("input",Object(bt.a)({id:"like_input_"+t.id,name:"like_dislike_discussion",value:"like",readOnly:!0,onClick:function(a){return e.handleLikeDislikeDiscussion(a,t,n)},type:"radio",checked:a},"value","is_liked")),s.a.createElement("span",{className:"like_icon"}),s.a.createElement("span",null,t.cache_upvote_count)),s.a.createElement("label",{htmlFor:"dislike_input_"+t.id},s.a.createElement("input",Object(bt.a)({id:"dislike_input_"+t.id,name:"like_dislike_discussion",value:"dislike",readOnly:!0,onClick:function(a){return e.handleLikeDislikeDiscussion(a,t,n)},type:"radio",checked:r},"value","is_disliked")),s.a.createElement("span",{className:"dislike_icon"}),s.a.createElement("span",null,t.cache_downvote_count))),s.a.createElement("h6",null,t.first_name," ",t.last_name," ",s.a.createElement("span",null,Ge()(t.created_at).format("MMM D, YYYY")))))}))),a.length<t&&s.a.createElement("button",{onClick:this.showMoreOnlineDiscussion,type:"button"},"Show 50 More Discussions ",s.a.createElement(ue.a,{icon:["fas","angle-down"]})),s.a.createElement(_n,{active_discussion:this.state.active_discussion_data,active_response_index:this.state.active_response_index,handleOnSubmitDeleteDiscussion:this.props.handleOnSubmitDeleteDiscussion,discussion_data:this.props.online_discussion,toggleShowModal:function(){return e.props.toggleShowModal(e,"is_show_delete_discussion_modal",!1)},show:this.props.is_show_delete_discussion_modal}))}}]),n}(a.Component)),un=ft.voteDiscussionResponse,dn=ft.fetchDiscussionResponses,pn=Object(h.p)(["discussions"],{voteDiscussionResponse:un,fetchDiscussionResponses:dn}),mn=pn.mapStateToProps,hn=pn.mapDispatchToProps,fn=Object(l.b)(mn,hn)(ln),En=(n(496),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){return Object(H.a)(this,n),t.call(this,e)}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"privacy_policy_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"Thank you for taking the time to learn about our legal policies."),s.a.createElement("p",null,"Your privacy is important to us."),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"http://www.codingdojo.com/files/Privacy_Policy.pdf"},"Privacy Policy")),s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"http://www.codingdojo.com/files/Acceptable_Use_Policy.pdf"},"Acceptable Use")),s.a.createElement("li",null,s.a.createElement("a",{target:"_blank",href:"http://www.codingdojo.com/files/Site_Terms.pdf"},"Site Terms")))))}}]),n}(a.Component)),gn=n(155),bn=n.n(gn),vn=n(114),Sn=(n(269),n(270),n(271),n(350)),On=n.n(Sn),kn=new xe.a(null),Tn=new function e(){var t=this;Object(H.a)(this,e),this.socket=On()("".concat(m.d.GATEWAY_URL),{transports:["websocket"],reconnect:!0,forceNew:!0}),this.questionResult=function(){return kn.asObservable()},this.initializeGateway=function(e,n,a,s){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t;if(void 0===a.room_id){var r=a.dc_editor_link.indexOf('" frameborder=')>-1,c="lpv3".concat(e).concat(n.chapter_module_id,"q").concat(s,"88").concat((new Date).getTime()),_=!0===r?a.dc_editor_link.split('" frameborder='):a.dc_editor_link.split("' frameborder="),l=_[0].split("/");l.pop(),a.dc_editor_link="".concat(l.join("/"),"/").concat(c+(!0===r?'"':"'"),' frameborder="0"></iframe>'),a.room_id=c}return o.socket.emit("joinRoom",a.room_id),o.socket.off("lpGetResult").on("lpGetResult",(function(e){kn.next({socketio_response:e,question_idx:s})})),null!==i&&setTimeout((function(){var e=document.getElementById("dc_iframe_container");null!==e&&e.querySelector(".preview_snippet_iframe").addEventListener("load",(function(){setTimeout((function(){o.socket.emit("lpSendPreviousAnswer",{previous_answer:i,room_id:a.room_id})}),3e3)}),!0)}),1e3),a}},Cn=(n(522),function(e,t){return Object(vn.highlight)(e,t).split("\n").map((function(e,t){return"<span class='editorLineNumber'>".concat(t+1,"</span>").concat(e)})).join("\n")}),An=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=Object(re.a)(a);a.socketio_observable_result=Tn.questionResult().subscribe((function(t){if(void 0!==e.props.quiz_details&&null!==t){var n=t.socketio_response,a=!1;if(void 0!==n&&void 0!==n.result){var s=n.result.data,i=0;s.length>0&&s.map((function(e){i+=!0===e.answer_status?1:0})),a=i===s.length}e.props.quiz_details.questions[t.question_idx].is_correct=a,e.props.quiz_details.questions[t.question_idx].dc_response={question_input:n.question_input,question_id:n.question_id,result:n.result}}}))},a.componentDidUpdate=function(){var e=a.props,t=e.quiz_details,n=e.module,s=e.track_id;if(void 0!==t&&0===t.current_index){var i=null;void 0!==t.questions[0].dc_response&&(i=t.questions[0].dc_response.question_input),2===t.questions[0].type&&void 0===t.questions[0].room_id&&(t.questions[0]=Tn.initializeGateway(s,n,t.questions[0],0,i))}},a.componentWillUnmount=function(){null!==a.socketio_observable_result&&a.socketio_observable_result.unsubscribe()},a.startQuiz=function(){var e=a.props,t=e.module;(0,e.startQuiz)({track_id:e.track_id,chapter_module_id:t.chapter_module_id}),a.props.onAddActivityLog("1.5.5")},a.submitQuiz=function(e){e.preventDefault();var t=a.props,n=t.quiz_details,s=t.navigateQuiz,i=t.chapter_id,o=t.course_id,r=t.next_link;s({quiz_details:n,chapter_id:i,course_id:o,stack_schedule_id:t.stack_schedule_id,cc_stack_schedule_id:t.cc_stack_schedule_id,next_link:r},!0)},a.selectQuizOption=function(e,t){var n=a.props,s=n.quiz_details,i=n.navigateQuiz;void 0!==s.questions[e]&&s.questions[e].choices.map((function(n,a){n.is_selected="q_"+e+"o_"+a===t})),i({quiz_details:s})},a.toggleShowNextPrevQuestion=function(e){var t=a.props,n=t.quiz_details,s=t.module,i=t.navigateQuiz,o=t.track_id,r=(t.user_id,Object(S.a)(n.questions)),c=(n.current_index+(!0===e?1:-1))%r.length;r.map((function(e,t){if(e.is_active=c===t,!0===e.is_active&&2===e.type){var n=null;void 0!==e.dc_response&&(n=e.dc_response.question_input),e=Tn.initializeGateway(o,s,e,t,n)}})),n.current_index=c,i({quiz_details:n})},a.onUserClickedAnElement=function(e){a.props.onUserClickedAnElement(e,"quiz"),a.props.onCopyToClipboard(e)},a.socketio_observable_result=null,a.state={is_start_quiz:!1,is_show_quiz_result:!1,is_show_modal:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e,t,n=this,a=this.props,i=a.module,o=a.quiz_details,r=a.onConvertPrismtoRainbowCodeSnippet,c=void 0!==o&&void 0!==o.questions?o.questions:[],_=(void 0!==o&&void 0!==o.current_index?o.current_index:0)+1,l=(null===i||void 0===i||null===(e=i.content)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.questions)||[];if(i.content&&"string"===typeof i.content){var u,d=JSON.parse(null===i||void 0===i?void 0:i.content);l=(null===d||void 0===d||null===(u=d.data)||void 0===u?void 0:u.questions)||[]}return s.a.createElement("div",{id:"quiz_module_container"},s.a.createElement("div",{id:"quiz_description",dangerouslySetInnerHTML:{__html:r(i.content).description},onClick:function(e){return n.onUserClickedAnElement(e)},onMouseUp:function(){return n.props.onGetTextSelection("mouseup")},onMouseDown:function(){return n.props.onGetTextSelection("mousedown")}}),!o&&l.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return n.startQuiz()}},"Take Quiz")),void 0!==o&&void 0!==o.ended_at&&s.a.createElement("div",{id:"quiz_results_container"},s.a.createElement("ol",{className:"list-unstyled"},c.map((function(e,t){return s.a.createElement("li",{key:"q_"+t},s.a.createElement("div",{className:"question_header"},s.a.createElement("p",null,t+1,". ",s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.question}})),s.a.createElement("img",{src:!0===e.is_correct?"https://assets.codingdojo.com/learn_platform/global/check_circle.png":"https://assets.codingdojo.com/learn_platform/global/close_circle.png",alt:"Icon"})),1===e.type&&s.a.createElement("div",{className:"code_editor_container"},s.a.createElement(bn.a,{value:e.code,highlight:function(e){return Cn(e,vn.languages.js)},padding:10,className:"editor",style:{outline:0,fontFamily:'"Poppins", sans-serif',fontSize:16}})),0!==e.choices.length&&s.a.createElement("div",{className:"".concat(!0===e.is_correct?"correct":"wrong"," question_choice"),dangerouslySetInnerHTML:{__html:e.choices.filter((function(e){return e.selected||e.selected_answer}))[0]&&e.choices.filter((function(e){return e.selected||e.selected_answer}))[0].content||""}}))}))),s.a.createElement("button",{onClick:function(){return n.startQuiz(!0)}},"Retake")),o&&!o.ended_at&&s.a.createElement(s.a.Fragment,null,c&&0===c.length?s.a.createElement("span",{id:"quiz_loading_icon"}):s.a.createElement("div",{id:"quiz_questions_container"},s.a.createElement("ol",{className:"list-unstyled"},c.map((function(e,t){return e.is_active&&s.a.createElement("li",{key:"q_"+t},s.a.createElement("p",null,t+1,". ",s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.question}})),0!==e.type&&s.a.createElement("div",{className:"code_editor_container"},1===e.type&&s.a.createElement(bn.a,{value:e.code,highlight:function(e){return Cn(e,vn.languages.js)},padding:10,className:"editor",style:{outline:0,fontFamily:'"Poppins", sans-serif',fontSize:16}}),2===e.type&&s.a.createElement("div",{className:"dc_iframe",id:"dc_iframe_container",dangerouslySetInnerHTML:{__html:e.dc_editor_link}})),1===e.type&&s.a.createElement("h5",null,"Choose the correct answer:"),2!==e.type&&s.a.createElement("ul",{className:"list-unstyled"},e.choices.map((function(e,a){return s.a.createElement("li",{key:e.content},s.a.createElement("input",{onChange:function(){return n.selectQuizOption(t,"q_"+t+"o_"+a)},type:"radio",value:"q_"+t+"o_"+a,id:"q_"+t+"o_"+a,name:"choices[".concat("q_"+t,"][selected_answer]"),checked:void 0!==e.is_selected&&!0===e.is_selected}),s.a.createElement("label",{htmlFor:"q_"+t+"o_"+a,dangerouslySetInnerHTML:{__html:e.content}}))}))))}))),s.a.createElement("div",{className:"btns_container"},s.a.createElement("button",{className:"".concat(_>1?"":"visibility_hidden"),id:"previous_question_btn",type:"button",onClick:function(){return n.toggleShowNextPrevQuestion(!1)}},"Back"),s.a.createElement("span",null,_===c.length?"Quiz Finished":"".concat(_,"/").concat(c.length)),_===c.length?s.a.createElement("form",{onSubmit:function(e){return n.submitQuiz(e)}},s.a.createElement("button",{id:"show_quiz_results_btn",type:"submit"},"See Results")):s.a.createElement("button",{id:"next_question_btn",type:"button",onClick:function(){return n.toggleShowNextPrevQuestion(!0)}},"Next Question")))))}}]),n}(a.Component);n(523);var Rn=function(e){var t=e.is_show,n=e.dimension,i=e.track,o=e.onHideReportCurriculumMistake,r=Object(a.useState)(!1),c=Object(O.a)(r,2),_=c[0],l=c[1],u=Object(a.useState)(""),d=Object(O.a)(u,2),p=d[0],m=d[1],h=Object(a.useState)({text:"Submit",is_disabled:!1}),f=Object(O.a)(h,2),E=f[0],g=f[1],b=Object(a.useState)({top:0,left:0}),v=Object(O.a)(b,2),S=v[0],k=v[1];Object(a.useEffect)((function(){!1===t&&0!==S.top&&(k({top:0,left:0}),l(!1)),t&&0===S.top&&k({top:(window.pageYOffset||document.documentElement.scrollTop)+n.top-46,left:n.width/2+n.left-106})}));var T=s.a.createElement("div",{id:"popover_container"},s.a.createElement(Fe.a,{id:"report_curriculum_popover",style:S,placement:"top"},s.a.createElement(Fe.a.Content,null,_?s.a.createElement("form",{action:"",onSubmit:function(e){return function(e){e.preventDefault(),g({text:"Submitting",is_disabled:!0}),setTimeout((function(){mt.submitCurriculumMistakeReport({track_id:i.track_id,course_id:i.course_id,chapter_id:i.chapter_id,chapter_module_id:i.chapter_module_id,mistake:n.mistake,user_notes:p}).then((function(e){setTimeout((function(){!0===e.status?g({text:"Submitted",is_disabled:!0}):g({text:"Submission Failed",is_disabled:!0}),setTimeout((function(){m(""),g({text:"Submit",is_disabled:!1}),k({top:0,left:0}),l(!1),o()}),200)}),500)}),(function(e){g({text:"Submission Failed",is_disabled:!0}),setTimeout((function(){m(""),g({text:"Submit",is_disabled:!1}),k({top:0,left:0}),l(!1),o()}),200)}))}),300)}(e)}},s.a.createElement("span",null,"Address the issue here"),s.a.createElement("textarea",{value:p,onChange:function(e){return m(e.target.value)}}),s.a.createElement("button",{disabled:E.is_disabled,type:"submit"},E.text)):s.a.createElement("button",{type:"button",onClick:function(){return l(!0),void k({top:S.top-158,left:S.left-111})}},s.a.createElement(ue.a,{icon:["fas","flag"]}),"Report a content mistake"))));return s.a.createElement(ae.a,{trigger:"click",placement:"top",show:t,overlay:T,rootClose:!0},s.a.createElement("span",null))},yn=n(159),wn=n(254),Dn=(n(524),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={is_collapse_accordion:!0,is_collapse_sidebar:!1,sidebar_style:{position:"sticky",top:20}},e.componentDidUpdate=function(){window.addEventListener("scroll",e.sidebarStickyOnScroll)},e.toggleCollapseSidebar=function(){e.setState({is_collapse_sidebar:!e.state.is_collapse_sidebar},(function(){e.sidebarStickyOnScroll()}))},e.generateChapterProgress=function(e){var t=e.filter((function(e){return"completed"===e.status})).length;return Math.round(t/e.length*100)},e.renderModuleStatus=function(t,n,a,i){var o,r,c=e.props.track,_={};(_.icon=s.a.createElement("i",{className:"module_icon"}),_.class=m.G[t.is_admin_module===m.j.YES_VALUE&&t.module_type===m.H.LESSON_MODULE?m.H.ADMIN_MODULE:t.module_type],c)&&((null===(o=c.practice_assignments)||void 0===o?void 0:o.includes(t.chapter_module_id))?_.class="assignment_practice":(null===(r=c.optional_assignments)||void 0===r?void 0:r.includes(t.chapter_module_id))&&(_.class="assignment_optional"));return(a===t.chapter_module_id||"survey"===e.props.pathParams.module_id&&"survey"===t.chapter_module_id)&&(_.class+=" active"),!0!==i&&(void 0===n||!0!==n.within_stack_sched.includes(t.chapter_module_id)&&!0!==n.outside_stack_sched.includes(t.chapter_module_id))||(_.class+=" completed"),_},e.clickChapterLink=function(){e.props.onAddActivityLog("1.3.9"),e.setState({is_collapse_accordion:!e.state.is_collapse_accordion})},e.sidebarStickyOnScroll=function(){if(window.innerWidth>768){var t=document.getElementsByClassName("left_container"),n={window:document.body.scrollTop||document.documentElement.scrollTop,client_height:document.documentElement.clientHeight,sidebar:0===t.length?0:t[0].offsetHeight,sidebar_top_padding:20,main_content:document.getElementsByClassName("right_container")[0].getBoundingClientRect().height,header:230};n.window+n.client_height-n.sidebar_top_padding>n.main_content+n.header?e.setState({sidebar_style:{position:"relative",top:n.main_content-n.sidebar}}):n.window+n.client_height-n.sidebar_top_padding<n.main_content+n.header&&e.setState({sidebar_style:{position:"sticky",top:n.sidebar_top_padding}}),0===n.window&&e.setState({sidebar_style:{position:"sticky",top:n.sidebar_top_padding}})}},e}return Object($.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.track,a=t.pathParams,i=t.user_level_id,o=[m.hb.INSTRUCTOR,m.hb.COURSE_EDITOR,m.hb.ADMIN_USER,m.hb.SUPER_ADMIN_USER].includes(i),r=this.state.sidebar_style,c=r.position,_=r.top;return s.a.createElement("aside",{className:"left_container ".concat(this.state.is_collapse_sidebar?"collapse_sidebar":""),style:{maxHeight:window.innerHeight-40,position:c,top:_}},s.a.createElement("h2",null,n.track_title),s.a.createElement("button",{id:"toggle_collapse_sidebar_btn",onClick:function(){return e.toggleCollapseSidebar()}},s.a.createElement(ue.a,{icon:["fas","caret-left"]})),s.a.createElement("div",{id:"course_navigation_container"},s.a.createElement(ae.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(se.a,null,n.previous_track_course_title)},s.a.createElement(Q.b,{className:"".concat((void 0===n.previous_track_course_link||n.previous_track_course_link.includes("algorithm")||"AlgoApp"===n.previous_track_course_title)&&"visibility_hidden"),to:n.previous_track_course_link},s.a.createElement(ue.a,{icon:["fas","chevron-left"]}))),void 0!==n.track_course_icon_src&&s.a.createElement("div",null,s.a.createElement("img",{src:n.track_course_icon_src.includes("/assets/tracks")?"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/workshop.png":n.track_course_icon_src,alt:"Course Icon"}),s.a.createElement("span",null,n.track_course_alias)),s.a.createElement(ae.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(se.a,null,n.next_track_course_title)},s.a.createElement(Q.b,{className:"".concat((void 0===n.next_track_course_link||n.next_track_course_link.includes("algorithm")||"AlgoApp"===n.next_track_course_title)&&"visibility_hidden"),to:n.next_track_course_link},s.a.createElement(ue.a,{icon:["fas","chevron-right"]})))),void 0!==n.chapter_id&&s.a.createElement(yn.a,{defaultActiveKey:a.chapter_id},void 0!==n.chapters&&n.chapters.map((function(t){return s.a.createElement(wn.a,{key:t.chapter_id},s.a.createElement(yn.a.Toggle,{as:wn.a.Header,eventKey:t.chapter_id.toString()},s.a.createElement(Q.b,{className:"chapter_name",to:"/m/".concat(n.track_id,"/").concat(t.chapter_id,"/").concat(t.chapter_id===n.chapter_id?t.chapter_module_ids_order[0]:t.chapter_module_ids_order.split(",")[0]),onClick:function(t){return e.clickChapterLink()}},s.a.createElement(ae.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(se.a,null,t.chapter_title)},s.a.createElement("span",null,t.chapter_title)),s.a.createElement(ue.a,{icon:["fas",e.state.is_collapse_accordion&&t.chapter_id===n.chapter_id?"caret-up":"caret-down"]})),s.a.createElement("span",{className:"chapter_percent"},Math.round(o?100:null!==t.chapter_progress_percent?parseFloat(t.chapter_progress_percent):0),"%")),s.a.createElement(yn.a.Collapse,{eventKey:t.chapter_id.toString()},s.a.createElement(wn.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},void 0!==t.chapter_modules&&t.chapter_modules.map((function(a,i){return s.a.createElement("li",{key:a.chapter_module_id,className:e.renderModuleStatus(a,n.completed_chapter_module_ids,n.active_module.chapter_module_id,o).class},s.a.createElement(Q.b,{onClick:function(){return e.props.mobileShowModule()},to:"/m/".concat(n.track_id,"/").concat(t.chapter_id,"/").concat(a.chapter_module_id)},s.a.createElement("span",{className:"icon_container"},e.renderModuleStatus(a,n.completed_chapter_module_ids,n.active_module.chapter_module_id,o).icon),s.a.createElement("span",{className:"module_name"},a.chapter_module_title),s.a.createElement("span",{className:"completed_icon"})))}))))))}))))}}]),n}(a.Component)),Un=(n(525),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={is_collapse_sidebar:!1,sidebar_style:{position:"sticky",top:20}},e.componentDidUpdate=function(){window.addEventListener("scroll",e.sidebarStickyOnScroll)},e.toggleCollapseSidebar=function(){e.setState({is_collapse_sidebar:!e.state.is_collapse_sidebar},(function(){e.sidebarStickyOnScroll()}))},e.renderModuleStatus=function(e,t){var n={};return n.icon=s.a.createElement("i",{className:"module_icon"}),n.class="online_discussion",t&&(n.class+=" active"),e||(n.class+=" completed"),n},e.clickChapterLink=function(){e.props.onAddActivityLog("1.3.9")},e.sidebarStickyOnScroll=function(){if(window.innerWidth>768){var t={window:document.body.scrollTop||document.documentElement.scrollTop,client_height:document.documentElement.clientHeight,sidebar:document.getElementsByClassName("left_container")[0].offsetHeight,sidebar_top_padding:20,main_content:document.getElementsByClassName("right_container")[0].getBoundingClientRect().height,header:230};t.window+t.client_height-t.sidebar_top_padding>t.main_content+t.header?e.setState({sidebar_style:{position:"relative",top:t.main_content-t.sidebar}}):t.window+t.client_height-t.sidebar_top_padding<t.main_content+t.header&&e.setState({sidebar_style:{position:"sticky",top:t.sidebar_top_padding}}),0===t.window&&e.setState({sidebar_style:{position:"sticky",top:t.sidebar_top_padding}})}},e}return Object($.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.sidebarStickyOnScroll)}},{key:"render",value:function(){var e=this,t=this.props.online_discussion,n=t.discussion_sidebar,a=t.discussion_breadcrumbs,i=t.active_week_id,o=this.state.sidebar_style,r=o.position,c=o.top;return s.a.createElement("aside",{className:"left_container online_discussion_sidebar ".concat(this.state.is_collapse_sidebar?"collapse_sidebar":""),style:{maxHeight:window.innerHeight-40,position:r,top:c}},s.a.createElement("h2",null,a[0]),s.a.createElement("button",{id:"toggle_collapse_sidebar_btn",onClick:function(){return e.toggleCollapseSidebar()}},s.a.createElement(ue.a,{icon:["fas","caret-left"]})),void 0!==n&&null!==i&&s.a.createElement(yn.a,{defaultActiveKey:i.toString()},void 0!==n&&n.map((function(t){return s.a.createElement(wn.a,{key:t.week_id},s.a.createElement(yn.a.Toggle,{as:wn.a.Header,eventKey:t.week_id.toString()},s.a.createElement(Q.b,{className:"chapter_name",to:t.week_link,onClick:function(t){return e.clickChapterLink()}},s.a.createElement(ae.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(se.a,null,t.week_title)},s.a.createElement("span",null,t.week_title)),s.a.createElement(ue.a,{icon:["fas","caret-down"]})),s.a.createElement("span",{className:"chapter_percent"},t.user_done_percentage,"%")),s.a.createElement(yn.a.Collapse,{eventKey:t.week_id.toString()},s.a.createElement(wn.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},void 0!==t.discussion_lists&&t.discussion_lists.map((function(t,n){return s.a.createElement("li",{key:n,className:e.renderModuleStatus(t.no_response,t.selected_discussion).class},s.a.createElement(Q.b,{to:t.discussion_link,onClick:function(){return e.props.mobileShowModule()},className:t.total_respond>0?"has_discussion":""},s.a.createElement("span",{className:"icon_container"},e.renderModuleStatus(t.no_response,t.selected_discussion).icon),s.a.createElement("span",{className:"module_name"},t.title),s.a.createElement("span",{className:"completed_icon"})))}))))))}))))}}]),n}(a.Component)),In=(n(526),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.assignment_tasks,a=t.is_show_todo_submit;return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{action:"/tracks/submit_todo",method:"post",id:"todo_task_items"},a&&n.map((function(t,n){return s.a.createElement("li",{key:n},s.a.createElement("input",{type:"checkbox",id:"todo_item_<%= index %>",readOnly:!0,checked:0===t.status,className:"todo_check"}),s.a.createElement("label",{htmlFor:"todo_item_".concat(n),onClick:function(){return e.props.completedSelectedTaskItem(n)}},s.a.createElement("div",{className:"item_checkbox ".concat(0===t.status?"checked":"")},s.a.createElement(ue.a,{icon:["fas","check"]})),s.a.createElement("p",{dangerouslySetInnerHTML:{__html:void 0!==t.title?t.title:"Complete assignment requirements"}})))}))))}}]),n}(a.Component)),Mn=(n(527),["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]),Pn=["Select Level","Basic","Intermediate","Advanced","Hacker"],Nn=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={},e.onUserClickedAnElement=function(t){e.props.onUserClickedAnElement(t,"todo"),e.props.onCopyToClipboard(t)},e}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.module,a=t.assignment_tasks,i=t.onConvertPrismtoRainbowCodeSnippet,o=t.is_show_todo_submit,r=i(JSON.parse(n.content));return s.a.createElement(s.a.Fragment,null,void 0!==n.checklist&&s.a.createElement("ul",{id:"todo_info_list",className:"list-unstyled"},void 0!==n.checklist.is_optional&&1===n.checklist.is_optional?s.a.createElement("li",null,"Optional"):void 0!==n.checklist.is_practice&&1===n.checklist.is_practice?s.a.createElement("li",null,"Practice"):s.a.createElement("li",null,"Core"),s.a.createElement("li",null,"Deadline: ",Mn[parseInt(n.checklist.day)]," of Week ",n.checklist.week),s.a.createElement("li",null,"Difficulty Level: ",Pn[n.checklist.difficulty_level]," "),s.a.createElement("li",null,"Est. Time: ",n.checklist.estimated_time," ")),s.a.createElement("div",{id:"todo_description",dangerouslySetInnerHTML:{__html:null!==r.description?r.description:"<p>Tasks related to this assignment can be viewed once you started working on this assignment.</p>"},onClick:function(t){return e.onUserClickedAnElement(t)},onMouseUp:function(){return e.props.onGetTextSelection("mouseup")},onMouseDown:function(){return e.props.onGetTextSelection("mousedown")}}),void 0!=a&&a.length>0&&s.a.createElement(In,{assignment_tasks:a,is_show_todo_submit:o,active_module:this.props.module,completedSelectedTaskItem:this.props.completedSelectedTaskItem}))}}]),n}(a.Component),Ln=(n(528),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).changeModalDisplayProps=function(){a.props.changePropsValue("is_show_todo_modal",!1),a.props.toggleShowModal(!1)},a.cancelDiscontinuePrevAssignment=function(e){h.l.push(e.pending_task_link),window.location.reload(),a.changeModalDisplayProps(),a.props.changePropsValue("is_show_todo_submit",!1)},a.startWorkingOnAssignment=function(){var e=a.props.courses.track,t=void 0!==e.ongoing_assignment_data?e.ongoing_assignment_data.pending_task_chapter_module_id:void 0;a.props.startToDoTask(e.chapter_module_id,{track_id:e.track_id,stack_schedule_id:e.stack_schedule_id,cc_stack_schedule_id:e.cc_stack_schedule_id,previous_chapter_module_id:t}),a.props.onAddActivityLog("1.4.5")},a.state={is_show_confirmation:!0},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.courses.track;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"todo_modal",className:"".concat(t.has_ongoing_assignment?"todo_confirmation_modal":"")},t.has_ongoing_assignment?s.a.createElement(s.a.Fragment,null,s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Confirmation needed")),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"You can only unlock one assignment at a time. Do you want to discontinue your previous assignment (",s.a.createElement(Q.b,{to:t.ongoing_assignment_data.pending_task_link},t.ongoing_assignment_data.module_title),") and start this new one?"),s.a.createElement("p",null,"Click Proceed to start working on this new assignment. Clicking Cancel will take you back to the last module you were at.")),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return e.cancelDiscontinuePrevAssignment(t.ongoing_assignment_data)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.startWorkingOnAssignment()}},"Proceed"))):s.a.createElement(s.a.Fragment,null,s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Assignment: ",this.props.todo_title),s.a.createElement("button",{onClick:function(t){return e.changeModalDisplayProps()}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/document_blue_icon.png",alt:"Document Icon"}),s.a.createElement("p",null,"Click the button below to start working on the assignment")),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.startWorkingOnAssignment()}},"Let's Go!"))))}}]),n}(a.Component)),jn=Object(h.p)("courses",{changePropsValue:mt.changePropsValue,startToDoTask:gt.startToDoTask}),Fn=jn.mapStateToProps,xn=jn.mapDispatchToProps,Bn=Object(l.b)(Fn,xn)(Ln),Kn=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).showChildrenSolutionFile=function(e){"dir"===e.type&&(void 0===e.children||void 0!==e.children&&0===e.children.length)&&a.props.getSolutionsFromGithub(e.path,e.id),a.setState({is_open_file:!a.state.is_open_file})},a.handleSetActiveFile=function(e){a.props.handleSetEditorValue(e)},a.state={is_open_file:!1,is_sub_folder_content:[]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=null!==this.state.is_sub_folder_content&&void 0!==this.state.is_sub_folder_content?this.state.is_sub_folder_content:[];return t=void 0!==this.props.data_files.children&&this.props.data_files.children.length>0?this.props.data_files.children:t,s.a.createElement("li",null,s.a.createElement("button",{onClick:function(){return e.showChildrenSolutionFile(e.props.data_files)}}," ",this.props.data_files.name,this.state.is_open_file&&0===t.length?"":s.a.createElement(ue.a,{icon:["fas",this.state.is_open_file?"caret-down":"caret-left"]}),this.state.is_open_file&&0===t.length?s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}):""),this.state.is_open_file&&t.length>0&&s.a.createElement("ul",null,t.map((function(t){return"dir"===t.type?s.a.createElement(n,{key:t.id,data_files:t,handleSetEditorValue:e.handleSetActiveFile,getSolutionsFromGithub:e.props.getSolutionsFromGithub}):s.a.createElement("li",{key:t.id}," ",s.a.createElement("button",{className:t.is_active?"active":"",onClick:function(n){return e.handleSetActiveFile(t)}},t.name))}))))}}]),n}(a.Component),Wn=(n(529),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).showVideoSolution=function(){a.setState({is_show_video_solution:!0,show_iframe_loading:!0}),a.props.onAddActivityLog("3.4.5")},a.resetModalOnHide=function(){a.setState({is_show_video_solution:!1}),a.props.toggleShowModal(!1)},a.checkIframes=function(){if(a.setState({show_iframe_loading:!1}),void 0!==a.props.todo_solution&&null!==a.props.todo_solution.video_url){var e=document.getElementById("solution_video");a.vimeoPlayers.player_solution_=new ut.a(e),a.vimeoPlayers.player_solution_.on("play",(function(){a.userPlayPauseVideoSolution(!0)})),a.vimeoPlayers.player_solution_.on("pause",(function(){a.userPlayPauseVideoSolution(!1)}))}},a.userPlayPauseVideoSolution=function(e){a.props.onAddActivityLog(e?"3.4.1":"3.4.2")},a.setActiveFile=function(e){var t=a.props.todo_solution.active_file_content;if(void 0===t||void 0!==t&&t.content_key_id!==e.id){a.props.changeActiveFileContent({content:""})}void 0===e.content?(void 0===t||void 0!==t&&t.content_key_id!==e.id)&&a.props.getToDoSolutionFileContent(a.props.chapter_module_id,{file_path:e.path,content_file_key:e.id.toString()}):a.props.changeActiveFileContent(e),a.state.last_active.is_active=!1,e.is_active=!0,a.setState({last_active:e,show_editor:!0})},a.hideViewSolutionVideo=function(){a.setState({is_show_video_solution:!1})},a.renderSyntaxHighlighter=function(e){if(void 0!==e&&void 0!==e.name){var t,n={py:"python",rb:"ruby",cs:"csharp",cproj:"html",txt:"generic"};t=void 0!==n[e.name.split(".").pop()]?n[e.name.split(".").pop()]:e.name.split(".").pop();var a=document.createElement("pre");a.setAttribute("data-language",t),a.textContent=e.content;var s=document.createElement("div");s.innerHTML=a.outerHTML,window.Rainbow.color(s,(function(){var e=document.getElementById("solution_code_container");null!==e&&(e.innerHTML=s.innerHTML)}))}},a.setActiveTabViewSolution=function(e){"dir"===e.type&&(void 0===e.children||void 0!==e.children&&0===e.children.length?a.props.getSolutionsFromGithub(e.path,e.id):a.props.changeActiveTabContent(e))},a.state={is_show_video_solution:!1,is_open_file:!1,show_iframe_loading:!1,last_active:[],show_editor:!1},a.vimeoPlayers=[],a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.state.is_show_video_solution,n=this.props.todo_solution,i=n.title,o=n.video_url,r=n.solution_content,c=n.active_tab_index,_=n.active_solution_content,l=n.active_file_content,u=n.is_loading_file_content,d="";return void 0!==l&&void 0!==l.content&&(d=l.content),void 0!==this.props.active_module&&(i=this.props.active_module.chapter_module_title),void 0!==r&&(null!==r[c].video_url&&""===r[c].video_url?o=null:null!==r[c].video_url&&r[c].video_url.includes("https://vimeo.com/")?o=r[c].video_url.split("https://vimeo.com/")[1]:null===r[c].video_url&&""!==this.props.todo_solution.video_url&&null!==this.props.todo_solution.video_url&&(o=this.props.todo_solution.video_url.split("https://vimeo.com/")[1])),void 0===r&&(t=!0,o=null),s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"todo_solution_modal"},s.a.createElement(fe.a.Header,{className:this.state.show_editor?"show_editor":""},s.a.createElement(fe.a.Title,null,i),s.a.createElement("button",{onClick:function(t){return e.resetModalOnHide()}},s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})),s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon_white.png",alt:"Close Icon"})),s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("div",{id:"mobile_header"},s.a.createElement("button",{type:"button",onClick:function(){return e.setState({show_editor:!1})}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})),s.a.createElement(fe.a.Title,null,this.state.last_active.name)))),s.a.createElement(fe.a.Body,{className:this.state.show_editor?"show_editor":""},void 0===r&&null==o?s.a.createElement("img",{id:"loading_solution",src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}):"",!t&&s.a.createElement(a.Fragment,null,s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement(we.a,{breakpoints:{320:{slidesPerView:3,spaceBetween:19}}},r.map((function(t,n){return s.a.createElement(De.a,{key:n},s.a.createElement("button",{onClick:function(){return e.setActiveTabViewSolution(t)},className:n===c?"active":"",type:"button"},t.name))})))),s.a.createElement(Ie.a,{minWidth:769},s.a.createElement("ul",{id:"solution_tab_list"},r.map((function(t,n){return s.a.createElement("li",{key:n},s.a.createElement("button",{onClick:function(){return e.setActiveTabViewSolution(t)},className:n===c?"active":"",type:"button"},t.name))})))),s.a.createElement("div",null,s.a.createElement("ul",null,void 0!==_&&_.map((function(t){return"dir"===t.type?s.a.createElement(Kn,{data_files:t,handleSetEditorValue:e.setActiveFile,key:t.id,getSolutionsFromGithub:e.props.getSolutionsFromGithub}):s.a.createElement("li",{key:t.id},s.a.createElement("button",{className:t.is_active?"active":"",onClick:function(){return e.setActiveFile(t)}},t.name))}))),null==o?"":s.a.createElement("button",{className:"cd_blue_btn",onClick:this.showVideoSolution},"Video Walkthrough")),!0===u&&s.a.createElement("div",{className:"loading_bar"}),(void 0===l||void 0!==l&&void 0===l.is_image)&&s.a.createElement("div",{id:"solution_code_container"},this.renderSyntaxHighlighter(l)),void 0!==l&&!0===l.is_image&&s.a.createElement("img",{id:"solution_image",src:d,alt:""})),t&&null!=o&&s.a.createElement("div",{id:"watch_video_container"},void 0===r?"":s.a.createElement("button",{onClick:this.hideViewSolutionVideo},s.a.createElement(ue.a,{icon:["fas","caret-left"]})," Back to files"),this.state.show_iframe_loading?s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}):"",s.a.createElement("iframe",{className:this.state.show_iframe_loading?"hidden":"",id:"solution_video",src:"https://player.vimeo.com/video/".concat(o),allowFullScreen:!0,frameBorder:"0",onLoad:this.checkIframes}))))}}]),n}(a.Component)),Hn=n(156),$n=n.n(Hn),qn=n(351),Gn=n(150),Qn=n.n(Gn),Vn=(n(937),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"late_assignment_submission_modal",backdrop:"static"},s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"This is a late submission! "),s.a.createElement("p",null,"Your submission may be marked as late since the track has ended. Any late submission may not count toward official assignment completion."),s.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Confirm")))}}]),n}(a.Component)),zn=(n(938),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).hideModal=function(){a.setState({is_enable_delete_button:!1}),a.props.toggleShowModal(!1)},a.submitDeleteFile=function(e){a.setState({is_enable_delete_button:!1}),a.props.onSubmitDeleteFile(e)},a.state={is_enable_delete_button:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.hideModal()},centered:!0,id:"delete_assignment_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Delete Your Assignment?")),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"Deleting the assignment will erase the progress you\u2019ve made. Resubmissions out of your track schedule will be marked as \u201clate\u201d."),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{onChange:function(t){return Object(h.j)(t,e)},name:"is_enable_delete_button",type:"checkbox",id:"confirm_delete_checkbox"}),s.a.createElement("label",{htmlFor:"confirm_delete_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(ue.a,{icon:["fas","check"]})),s.a.createElement("span",null,"I\u2019m sure I want to delete this assignment.")))),s.a.createElement(fe.a.Footer,null,s.a.createElement("form",{onSubmit:function(t){return e.submitDeleteFile(t)}},s.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn ".concat(this.state.is_enable_delete_button?"":"disabled")},"Delete"))))}}]),n}(a.Component));n(939);B.b.add(qn.a);var Yn=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidUpdate=function(e,t){if(null===a.props.courses.todo_upload_error&&!1!==a.state.is_uploading_assignment?a.setState({is_uploading_assignment:!1,is_show_assignment_submission_modal:a.props.courses.is_late_assignment,is_form_processing:!1,is_deleting_file:!1}):a.props.courses.todo_upload_error&&!a.state.todo_error&&a.setState({todo_error:a.props.courses.todo_upload_error,is_uploading_assignment:!1,is_form_processing:!1}),a.props.courses.user_details){var n=a.props.courses.user_details.id;t.user_id!==n&&a.setState({user_id:n})}a.state.is_show_delete_assignment_modal?document.body.classList.add("is_show_delete_assignment_modal"):document.body.classList.remove("is_show_delete_assignment_modal")},a.handleSubmitAssignment=function(e,t){a.setState({todo_error:"",is_form_processing:!0,progress_bar_percentage:0}),void 0!==t&&t.preventDefault();var n={course_id:a.props.courses.track.course_id,chapter_id:a.props.courses.track.chapter_id,chapter_module_id:a.props.courses.track.chapter_module_id,stack_schedule_id:a.props.courses.track.stack_schedule_id,cc_stack_schedule_id:a.props.courses.track.cc_stack_schedule_id,track_id:a.props.courses.track.track_id,next_link:a.props.courses.track.next_link};if("file_url"===e||"drag_and_drop_file_url"===e){var s=new FormData,i="file_url"===e?t.target.files[0]:t.dataTransfer.files[0];if(i&&i.size&&i.size<1e8)if("exe"!==i.name.split(".").pop())if(a.setState({is_uploading_assignment:!0}),a.state.user_id){var o=Object(h.s)(i,a.state.user_id,a.props.courses.track.chapter_module_id);if(o){var r=m.e.s3,c=r.accessKeyId,_=r.secretAccessKey,l=r.region;new Qn.a.S3({accessKeyId:c,secretAccessKey:_,region:l}).upload(o,(function(e,t){e?a.setState({todo_error:"Failed to upload file.",is_form_processing:!1}):(null===t||void 0===t?void 0:t.Location)?(s.append("file_raw_name",i.name),s.append("course_id",a.props.courses.track.course_id),s.append("chapter_id",a.props.courses.track.chapter_id),s.append("chapter_module_id",a.props.courses.track.chapter_module_id),s.append("stack_schedule_id",a.props.courses.track.stack_schedule_id),s.append("cc_stack_schedule_id",a.props.courses.track.cc_stack_schedule_id),s.append("track_id",a.props.courses.track.track_id),s.append("next_link",a.props.courses.track.next_link),s.append("file_size",i.size),s.append("s3_file_location",t.Location),a.props.uploadToDoFile(s)):a.setState({todo_error:"File location not found!",is_form_processing:!1})})).on("httpUploadProgress",(function(e){var t=e.loaded/e.total*100;a.setState({progress_bar_percentage:t.toFixed(2)})})),a.props.onAddActivityLog("1.4.14")}else a.setState({todo_error:"Failed to upload file. Please contact administrator."})}else a.setState({todo_error:"Failed to upload file. User data required. Please contact administrator.",is_form_processing:!1});else a.setState({todo_error:"Executable file is not allowed.",is_form_processing:!1});else 0===i.size?a.setState({todo_error:"File size must be greater than 0.",is_form_processing:!1}):a.setState({todo_error:"File upload limit is 100MB.",is_form_processing:!1})}else a.setState({todo_error:""},(function(){""!==a.state.github_url&&"github_url"===e&&(a.state.github_url.indexOf("github")>-1?(n.github_url=a.state.github_url,a.props.uploadToDoGithubLink(n)):a.setState({is_invalid_github_url:!0,is_form_processing:!1})),""!==a.state.other_link_url&&"other_link_url"===e&&(a.state.other_link_url.indexOf("github.com")>-1?n.github_url=a.state.other_link_url:n.other_link_url=a.state.other_link_url,a.props.uploadToDoGithubLink(n))}));a.setState({is_deleting_file:!1})},a.onSubmitAssignmentInMobile=function(){a.state.github_url&&!a.state.is_invalid_github_url?a.handleSubmitAssignment("github_url",void 0):a.state.other_link_url&&!a.state.is_invalid_other_link_url&&a.handleSubmitAssignment("other_link_url",void 0)},a.handleInputChange=function(e){var t=Object(re.a)(a),n=e.target.value.replace(/^.*\\/,""),s=e.target.name;"file_url"===s?(t.handleSubmitAssignment("file_url",e),t.setState({browse_and_drop_file_name:n})):t.setState(Object(bt.a)({},s,n))},a.submitDeleteFile=function(e){e.preventDefault();var t=a.props.courses.track.chapter_module_id,n=a.state.file;n&&(a.setState({is_deleting_file:!0,github_url:"",other_link_url:"",is_invalid_other_link_url:!1,is_invalid_github_url:!1,is_show_delete_assignment_modal:!1,is_active_drag:!1,todo_error:"",is_form_processing:!1}),a.props.deleteAssignmentFile({file_id:n.id,chapter_module_id:t}),a.props.onAddActivityLog("1.4.15"))},a.handleDragAndDropEvent=function(e,t){e.preventDefault(),a.setState({is_active_drag:t})},a.handleDrop=function(e){var t,n;e.preventDefault(),a.handleSubmitAssignment("drag_and_drop_file_url",e),(null===e||void 0===e||null===(t=e.dataTransfer)||void 0===t||null===(n=t.files[0])||void 0===n?void 0:n.name)?a.setState({browse_and_drop_file_name:e.dataTransfer.files[0].name}):a.setState({todo_error:"Failed to drop file. Please try to refresh the page and try again."})},a.uploadingFilePercentageSimulation=function(){var e=setInterval((function(){a.state.progress_bar_percentage<100?a.setState({progress_bar_percentage:a.state.progress_bar_percentage+2}):(clearInterval(e),a.setState({progress_bar_percentage:0}))}),100)},a.checkValidURL=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},a.toggleShowMobileTab=function(e){var t=Object(S.a)(a.state.mobile_todo_submit_tab);t.map((function(e){e.is_active=!1})),t[e].is_active=!0,a.setState({mobile_todo_submit_tab:t})},a.state={is_show_todo_solution_modal:!1,is_deleting_file:!1,github_url:"",is_invalid_github_url:!1,other_link_url:"",is_invalid_other_link_url:!1,file_url:"",is_uploading_assignment:!1,todo_error:"",is_late_assignment:!1,is_show_assignment_submission_modal:!1,is_active_drag:!1,progress_bar_percentage:0,browse_and_drop_file_name:"",is_form_processing:!1,signedUrl:null,uploadInput:null,is_show_delete_assignment_modal:!1,file:void 0,user_id:null,mobile_todo_submit_tab:[{id:1,title:"Website URL",is_active:!0},{id:2,title:"File Upload",is_active:!1}],hide_upload_assignment:!0},a}return Object($.a)(n,[{key:"componentDidMount",value:function(){if(this.props.courses.user_details){var e=this.props.courses.user_details.id;this.setState({user_id:e})}}},{key:"render",value:function(){var e=this,t=this.props.courses.track,n=t.user_files,a=t.chapter_module_id,i=t.completed_chapter_module_ids,o=this.props.courses.todo_upload_status;return o&&(this.state.todo_upload_status=o),void 0!==i&&!0===i.outside_stack_sched.includes(a)&&"survey"!==a&&(this.props.courses.is_late_assignment=!0),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"todo_submit_container",className:this.state.mobile_todo_submit_tab[1].is_active?"":"hide_upload"},s.a.createElement("h5",{onClick:function(){return e.setState({is_uploading_assignment:!1})}},"Submit"),void 0!==n&&n.map((function(t,n){var a=t.file_url;if(null!==a){if(a.includes("/boomyeah2015/codingdojo/")){var i=a.split("/");a=decodeURI(i[i.length-1])}return s.a.createElement(s.a.Fragment,{key:n},s.a.createElement("div",{id:"uploaded_file_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/".concat(e.props.is_dark_mode?"dark_mode_uploaded_file_icon.png":"uploaded_file_icon.png"),alt:"upload-icon"}),s.a.createElement("form",{className:"delete_file_form",onSubmit:function(n){return e.submitDeleteFile(n,t)}},s.a.createElement("a",{href:t.file_url,target:"_blank"},a),s.a.createElement("button",{title:"Delete assignment",type:"button",className:"".concat(e.state.is_deleting_file?"disabled":""),onClick:function(){return e.setState({is_show_delete_assignment_modal:!0,file:t})}},s.a.createElement(ue.a,{icon:["fas","trash"]}))),s.a.createElement("p",{id:"successfully_submitted_indicator"},"Successfully submitted on ",s.a.createElement($n.a,{format:"MMMM DD, YYYY"},t.created_at)," ",e.props.courses.is_late_assignment?s.a.createElement("span",null,"Out-of-schedule"):""," ")))}})),n.length<1&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("div",{id:"mobile_tab_container"},this.state.mobile_todo_submit_tab.map((function(t,n){return s.a.createElement("button",{onClick:function(){return e.toggleShowMobileTab(n)},className:t.is_active?"active":"",type:"button"},t.title)})))),!this.state.is_uploading_assignment&&!this.state.todo_error&&s.a.createElement("form",{id:"upload_solution_form",className:"".concat(this.state.is_active_drag?"is_active_drag":""," ").concat(this.state.is_form_processing?"disable_form":""),onDrop:function(t){return e.handleDrop(t)},onDragOver:function(t){return e.handleDragAndDropEvent(t,!0)},onDragEnter:function(t){return e.handleDragAndDropEvent(t,!0)},onDragLeave:function(t){return e.handleDragAndDropEvent(t,!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/".concat(this.props.is_dark_mode?"dark_mode_upload_icon.png":"upload_icon.png"),alt:"upload-icon"}),s.a.createElement("p",null,"Drag & drop your files"),s.a.createElement("input",{id:"upload_file_input",type:"file",onChange:function(t){return e.handleInputChange(t)},name:"file_url"}),s.a.createElement("label",{htmlFor:"upload_file_input"}," ",s.a.createElement("small",null,"or")," Browse")),this.state.is_uploading_assignment&&!this.state.todo_error&&s.a.createElement("div",{id:"is_uploading_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/".concat(this.props.is_dark_mode?"dark_mode_uploaded_file_icon.png":"uploaded_file_icon.png"),alt:"upload-icon"}),s.a.createElement("p",null,s.a.createElement("span",{className:"user_file_name"},this.state.browse_and_drop_file_name)," ",s.a.createElement("span",null,this.state.progress_bar_percentage,"%")),s.a.createElement("div",{id:"progress_container"},s.a.createElement("div",{id:"progress_status",style:{width:this.state.progress_bar_percentage+"%"}}))),this.state.todo_error&&s.a.createElement("form",{id:"re_upload_assignment_form",className:"".concat(this.state.is_active_drag?"is_active_drag":""," ").concat(this.state.is_form_processing?"disable_form":""),onDrop:function(t){return e.handleDrop(t)},onDragOver:function(t){return e.handleDragAndDropEvent(t,!0)},onDragEnter:function(t){return e.handleDragAndDropEvent(t,!0)},onDragLeave:function(t){return e.handleDragAndDropEvent(t,!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/courses/re_upload_file_icon.png",alt:"upload-icon"}),s.a.createElement("p",null,this.state.todo_error),s.a.createElement("input",{id:"upload_file_input",type:"file",onChange:function(t){return e.handleInputChange(t)},name:"file_url"}),s.a.createElement("label",{htmlFor:"upload_file_input"},"Upload Again")),s.a.createElement("div",{id:"right_container"},s.a.createElement("form",{id:"add_github_link_form",className:"".concat(this.state.is_invalid_github_url?"border_red":""," ").concat(this.state.is_form_processing?"disable_form":""),onSubmit:function(t){return e.handleSubmitAssignment("github_url",t)},action:""},s.a.createElement("input",{type:"url",name:"github_url",id:"github_url",placeholder:"Add Github Link",disabled:this.state.is_form_processing,onBlur:function(){return e.setState({is_invalid_github_url:e.state.github_url&&!e.checkValidURL(e.state.github_url,"github_url")})},value:this.state.github_url,onChange:function(t){return e.handleInputChange(t)},autoComplete:"off"}),s.a.createElement("button",{type:"submit",disabled:!this.state.github_url,id:"github_url_submit"},"Save"),s.a.createElement(ue.a,{icon:["fab","github"]})),this.state.is_invalid_github_url&&s.a.createElement("p",null,"The URL is invalid. Please try again."),s.a.createElement("form",{id:"add_other_link_form",className:"".concat(this.state.is_invalid_other_link_url?"border_red":""," ").concat(this.state.is_form_processing?"disable_form":""),onSubmit:function(t){return e.handleSubmitAssignment("other_link_url",t)},action:""},s.a.createElement("input",{type:"url",name:"other_link_url",id:"other_link_url",placeholder:"Add Other Link",disabled:this.state.is_form_processing,onBlur:function(){return e.setState({is_invalid_other_link_url:e.state.other_link_url&&!e.checkValidURL(e.state.other_link_url,"other_link_url")})},value:this.state.other_link_url,onChange:function(t){return e.handleInputChange(t)},autoComplete:"off"}),s.a.createElement("button",{type:"submit",disabled:!this.state.other_link_url,id:"other_link_url_submit"},"Save"),s.a.createElement(ue.a,{icon:["fas","link"]})),this.state.is_invalid_other_link_url&&s.a.createElement("p",null,"The URL is invalid. Please try again."),s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("button",{onClick:function(){return e.onSubmitAssignmentInMobile()},id:"submit_assignment_btn",type:"button"},"Submit Assignment"))))),this.props.courses.is_late_assignment&&s.a.createElement(Vn,{show:this.state.is_show_assignment_submission_modal,toggleShowModal:function(){return Object(h.v)(e,"is_show_assignment_submission_modal",!1)}}),s.a.createElement(zn,{show:this.state.is_show_delete_assignment_modal,onSubmitDeleteFile:this.submitDeleteFile,toggleShowModal:function(){return Object(h.v)(e,"is_show_delete_assignment_modal",!1)}}))}}]),n}(a.Component),Jn=Object(h.p)(["courses","user"],{uploadToDoFile:gt.uploadToDoFile,uploadToDoGithubLink:gt.uploadToDoGithubLink,deleteAssignmentFile:gt.deleteAssignmentFile}),Xn=Jn.mapStateToProps,Zn=Jn.mapDispatchToProps,ea=Object(l.b)(Xn,Zn)(Yn),ta=n(352),na=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).skipSurvey=function(e){return this.sendRequest("".concat(m.d.URL,"/surveys/skip_survey"),e,!0).then(h.h).then((function(e){return e.status&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},e.takeSurvey=function(e){return this.sendRequest("".concat(m.d.URL,"/surveys/take_survey"),e,!0).then(h.h).then((function(e){return e.status&&localStorage.setItem("__BarioOtsoOtso__",e.token),e}))},e}return n}(J.a)),aa=new function e(){Object(H.a)(this,e),this.processSkipSurvey=function(e,t,n){return function(n){n(Object(h.i)({type:m.R.SKIP_SURVEY_REQUEST},{user_id:e,cd_survey_user_id:t})),na.skipSurvey({user_id:e,cd_survey_user_id:t}).then((function(e){!0===e.status?n(Object(h.i)({type:m.R.SKIP_SURVEY_SUCCESS},{cd_survey_user_id:t})):n(Object(h.i)({type:m.R.SKIP_SURVEY_FAILURE},{error:e.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.R.SKIP_SURVEY_REQUEST},{error:t}))}))}},this.processTakenSurvey=function(e,t){return function(t){t(Object(h.i)({type:m.R.TAKE_SURVEY_REQUEST},{cd_survey_schedule_id:e})),na.takeSurvey({cd_survey_schedule_id:e}).then((function(n){!0===n.status?t(Object(h.i)({type:m.R.TAKE_SURVEY_SUCCESS},{cd_survey_schedule_id:e})):t(Object(h.i)({type:m.R.TAKE_SURVEY_FAILURE},{error:n.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.R.TAKE_SURVEY_REQUEST},{error:n}))}))}}},sa=(n(1044),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).showTypeform=function(e,t){a.setState({is_show_typeform:!0});var n=(a.props.location&&a.props.location.state||{from:{pathname:"/take_survey"}}).from;a.props.processTakenSurvey(t,n)},a.state={typeform_embed_link:null,survey_name:"Daily Survey",is_skippable:!1,is_show_typeform:!1,user_id:null,cd_survey_user_id:null,cd_survey_schedule_id:null},a}return Object($.a)(n,[{key:"checkSurveyToDisplay",value:function(e,t,n,a,s){var i="",o=e[0],r={stack_name:"",lead_instructor_name:""},c="";if(n.stack_info.current&&(r.lead_instructor_name=n.stack_info.current.lead_instructor_name,r.stack_name=n.stack_info.current.stack_name),o){o.cd_survey_user_id,this.state.survey_name=o.survey_name,this.state.cd_survey_user_id=o.cd_survey_user_id,this.state.user_id=o.user_id,this.state.cd_survey_schedule_id=o.cd_survey_schedule_id;var _=new Date-new Date(o.show_at_date).getDate();this.state.is_skippable=_<o.validity_days;var l="dashboard";a&&a.track_id&&(l="m/".concat(a.track_id,"/").concat(a.chapter_id,"/").concat(a.module_id)),m.ob.includes(o.cd_survey_schedule_id)?i="#location=".concat(n.bootcamp_info.location,"&program=").concat(n.bootcamp_info.program_type,"&stack=").concat(r.stack_name,"&instructor=").concat(r.lead_instructor_name,"&user_id=").concat(this.state.user_id,"&email_address=").concat(t.email_address,"&first_name=").concat(t.first_name,"&last_name=").concat(t.last_name,"&cd_survey_user_id=").concat(o.cd_survey_user_id,"&redirect_url=").concat(l):m.qb.includes(o.cd_survey_schedule_id)?(this.state.is_skippable=!1,i="#user_id=".concat(this.state.user_id,"&cd_survey_user_id=").concat(o.cd_survey_user_id)):i="#user_id=".concat(this.state.user_id,"&cd_applicant_id=").concat(t.applicant_id,"&cd_survey_user_id=").concat(o.cd_survey_user_id,"&instructor=").concat(r.lead_instructor_name),c=o.survey_url}else s&&(s===m.S.default?(this.state.survey_name="Stack Survey",c=m.V+m.X.mid_final_stack_survey_code):s===m.S.mid_stack?(this.state.survey_name="Mid Stack Survey",c=n.surveys.mid_stack_survey):s===m.S.end_stack&&(this.state.survey_name="End Stack Survey",c=n.surveys.end_stack_survey),i="#email_address=".concat(t.email_address,"&cd_applicant_id=").concat(t.applicant_id,"&instructor=").concat(r.lead_instructor_name,"&current_stack=").concat(r.stack_name,"&program=").concat(n.bootcamp_info.program_type,"&stack_schedule_id=").concat(n.stack_info.current.stack_schedule_id,"&user_id=").concat(t.id,"&cd_survey_user_id=NA&platform_version=LP3&campus=").concat(n.bootcamp_info.location));""!==i&&(this.state.typeform_embed_link=c+i)}},{key:"skipSurvey",value:function(e,t){var n=(this.props.location&&this.props.location.state||{from:{pathname:"/skip_survey"}}).from;this.props.processSkipSurvey(e,t,n),this.props.onAddActivityLog("3.22.11")}},{key:"render",value:function(){var e=this,t=this.props,n=(t.show,t.surveys),a=t.user,i=t.current_url,o=t.custom_survey;this.checkSurveyToDisplay(n,a.user_details.general,a.user_details.workspace_custom_data,i,o);var r=this.state,c=r.is_skippable,_=r.is_show_typeform,l=r.typeform_embed_link,u=r.survey_name,d=r.user_id,p=r.cd_survey_user_id,m=r.cd_survey_schedule_id,h=null!==l;return s.a.createElement(fe.a,{show:h,centered:!0,backdrop:!!c||"static",keyboard:c,onHide:function(){return e.skipSurvey(d,p)},id:"survey_modal",className:"".concat(_?"show_typeform_modal":"")},!1===_&&null!==l?s.a.createElement(s.a.Fragment,null,s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,u),c&&s.a.createElement("button",{onClick:function(t){return e.skipSurvey(d,p)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/survey_icon.png",alt:"Survey Icon"}),s.a.createElement("p",null,"Let\u2019s take a survey!"),s.a.createElement("p",null,"Your input will help us better serve you.")),s.a.createElement(fe.a.Footer,{className:"".concat(!1===c?"center":"")},c&&s.a.createElement("button",{id:"skip_survey_btn",onClick:function(t){return e.skipSurvey(d,p)}}," Skip"),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.showTypeform(n,m)}},"Take the Survey"))):s.a.createElement(fe.a.Body,null,s.a.createElement("iframe",{width:"890",src:l,frameborder:"0"})))}}]),n}(a.Component)),ia=Object(h.p)(void 0,{processSkipSurvey:aa.processSkipSurvey,processTakenSurvey:aa.processTakenSurvey}),oa=ia.mapStateToProps,ra=ia.mapDispatchToProps,ca=Object(l.b)(oa,ra)(sa),_a=(n(1045),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).componentDidUpdate=function(e){"true"===a.props.is_online_discussion?void 0!==a.props&&e.match.params.question_id!==a.props.match.params.question_id&&a.props.fetchOnlineDiscussion({track_id:a.props.match.params.track_id,week_id:a.props.match.params.week_id,question_id:a.props.match.params.question_id}):void 0!==a.props&&e.match.params.module_id!==a.props.match.params.module_id&&(a.props.fetchCoursePageData({track_id:a.props.match.params.track_id,chapter_id:a.props.match.params.chapter_id,chapter_module_id:a.props.match.params.module_id}),a.setState({disable_next_previous_button:!1}),window.scrollTo(0,0)),a.state.is_show_delete_discussion_module_modal?document.body.classList.add("is_show_delete_discussion_modal"):document.body.classList.remove("is_show_delete_discussion_modal")},a.componentWillMount=function(){a.onWindowLoadSubscription=window.addEventListener("load",a.checkIframes,!1)},a.handleLikeDislikeValue=function(e,t){var n=Number(a.props.match.params.chapter_id),s=Object(g.a)({},a.state.track),i=s.chapters.map((function(e){return e.chapter_id})).indexOf(n);s.chapters[i].chapter_modules.filter((function(e){return e.chapter_module_id===t.chapter_module_id}))[0].is_liked="like"===e.target.value},a.renderModuleDescription=function(e){if("false"===a.props.is_online_discussion){var t=a.props.courses.track;return{0:s.a.createElement(rn,{module:e,onHandleLikeDislikeValue:a.handleLikeDislikeValue,onUserClickedAnElement:a.userClickedAnElement,onCopyToClipboard:a.copyToClipboard,onConvertPrismtoRainbowCodeSnippet:a.convertPrismtoRainbowCodeSnippet,onGetTextSelection:a.getTextSelection}),1:s.a.createElement(An,{module:e,quiz_details:a.props.courses.quiz_module,track_id:a.props.match.params.track_id,course_id:a.props.courses.track.course_id,chapter_id:a.props.courses.track.chapter_id,stack_schedule_id:t.stack_schedule_id,cc_stack_schedule_id:t.cc_stack_schedule_id,startQuiz:a.props.startQuiz,onAddActivityLog:a.props.onAddActivityLog,next_link:a.props.courses.track.next_link,navigateQuiz:a.props.navigateQuiz,onUserClickedAnElement:a.userClickedAnElement,onCopyToClipboard:a.copyToClipboard,onConvertPrismtoRainbowCodeSnippet:a.convertPrismtoRainbowCodeSnippet,onGetTextSelection:a.getTextSelection}),2:s.a.createElement(Nn,{module:e,assignment_tasks:a.props.courses.assignment_tasks,is_show_todo_submit:a.props.courses.track.is_show_todo_submit,stack_schedule_id:t.stack_schedule_id,onUserClickedAnElement:a.userClickedAnElement,completedSelectedTaskItem:a.completedSelectedTaskItem,onCopyToClipboard:a.copyToClipboard,onConvertPrismtoRainbowCodeSnippet:a.convertPrismtoRainbowCodeSnippet,onGetTextSelection:a.getTextSelection}),3:s.a.createElement(rn,{module:e,onUserClickedAnElement:a.userClickedAnElement,onCopyToClipboard:a.copyToClipboard,onConvertPrismtoRainbowCodeSnippet:a.convertPrismtoRainbowCodeSnippet,onGetTextSelection:a.getTextSelection}),4:s.a.createElement(It,{content:e,track_id:a.props.match.params.track_id,chapter_id:a.props.match.params.chapter_id,is_submit_chapter_survey_form:a.state.is_submit_chapter_survey_form})}[e.module_type]}return s.a.createElement(cn,{onSubmitDiscussionAnswer:a.handleSubmitDiscussionAnswer,online_discussion:a.props.discussions,onAddActivityLog:a.props.onAddActivityLog})},a.removeModuleBookmark=function(e,t){a.props.onRemoveBookmark(e,t.chapter_module_id,t.bookmark_id),t.is_bookmarked=!1;var n="1.1.20";t.module_type===m.H.QUIZ_MODULE?n="1.5.20":t.module_type===m.H.TASK_MODULE&&(n="1.4.20"),a.props.onAddActivityLog(n)},a.displayAddBookmarkModal=function(e){Object(h.v)(Object(re.a)(a),"is_show_add_bookmark_modal",!0);var t="1.1.19";e.module_type===m.H.QUIZ_MODULE?t="1.5.19":e.module_type===m.H.TASK_MODULE&&(t="1.4.19"),a.props.onAddActivityLog(t)},a.userClickedAnElement=function(e,t){"A"===e.target.tagName?"lesson"===t?a.props.onAddActivityLog("1.3.3"):"quiz"===t?a.props.onAddActivityLog("1.5.3"):"todo"===t&&a.props.onAddActivityLog("1.4.3"):"BUTTON"===e.target.tagName&&"copy_code_snippet_btn"===e.target.className&&("lesson"===t?a.props.onAddActivityLog("1.3.4"):"quiz"===t?a.props.onAddActivityLog("1.5.4"):"todo"===t&&a.props.onAddActivityLog("1.4.4"))},a.checkIframes=function(){var e=document.getElementsByTagName("IFRAME");if(void 0!==e)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("src");void 0!==n&&null!==n&&n.includes(".vimeo.com")&&(a.vimeoPlayers["player_"+t]=new ut.a(e[t]),a.vimeoPlayers["player_"+t].on("play",(function(){a.userPlayPauseVideo(!0)})),a.vimeoPlayers["player_"+t].on("pause",(function(){a.userPlayPauseVideo(!1)}))),void 0!==n&&null!==n&&n.includes(".youtube.com")}},a.userPlayPauseVideo=function(e){var t=a.props.courses.track;t.active_module.module_type===m.H.LESSON_MODULE?a.props.onAddActivityLog(e?"1.3.1":"1.3.2"):t.active_module.module_type===m.H.TASK_MODULE&&a.props.onAddActivityLog(e?"1.4.1":"1.4.2")},a.processNextStepBeforeNextLink=function(e){var t=a.props.courses.track;t.active_module.module_type===m.H.LESSON_MODULE?!0===e||void 0!==t.completed_chapter_module_ids&&!0===t.completed_chapter_module_ids.within_stack_sched.includes(t.active_module.chapter_module_id)?(a.props.history.push(t.next_link),a.clickPreviousNextLink("next")):a.completeLessonModule():t.active_module.module_type===m.H.END_CHAPTER_SURVEY_MODULE&&(a.props.courses.track.is_chapter_survey_form_submitted=!0,a.setState({is_submit_chapter_survey_form:!a.state.is_submit_chapter_survey_form}),a.props.onAddActivityLog("3.10.18")),a.setState({disable_next_previous_button:!0})},a.completeLessonModule=function(){var e=a.props.courses.track;a.props.completeLessonModule({track_id:e.track_id,course_id:e.course_id,chapter_id:e.chapter_id,chapter_module_id:e.chapter_module_id,stack_schedule_id:e.stack_schedule_id,next_link:e.next_link}),a.props.history.push(e.next_link),a.clickPreviousNextLink("next")},a.clickPreviousNextLink=function(e){a.props.onAddActivityLog("next"==e?"1.3.8":"1.3.7"),a.onHideReportCurriculumMistake(),a.setState({disable_next_previous_button:!0})},a.completedSelectedTaskItem=function(e){var t,n=a.props.courses,s=n.track,i=n.assignment_tasks;s.active_module&&s.is_show_todo_submit&&(i&&i.length>0&&(i[e]&&(i[e].status=1==i[e].status?0:1),a.props.submitAssignmentTask({id:s.user_module?null===(t=s.user_module[0])||void 0===t?void 0:t.user_module_id:void 0,track_id:s.track_id,chapter_module_id:s.chapter_module_id,stack_schedule_id:s.stack_schedule_id,cc_stack_schedule_id:s.cc_stack_schedule_id,module_data:i})))},a.copyToClipboard=function(e){var t=e.target;if("copy_code_snippet_btn"===t.className){var n=t.closest("pre").innerText;n=n.substring(0,n.length-4),document.querySelector("#copy_to_clipboard_value").value=n,document.querySelector("#copy_to_clipboard_value").select(),document.execCommand("copy")&&(t.innerHTML="copied!",setTimeout((function(){t.innerHTML="copy"}),1e3))}},a.convertPrismtoRainbowCodeSnippet=function(e){if("string"===typeof e&&(e=JSON.parse(e)),""!==e){var t=document.createElement("html");t.innerHTML=e.description;var n=t.querySelectorAll("pre");if(n.length>0){var s,i=Object(lt.a)(n.entries());try{var o=function(){var e=Object(O.a)(s.value,2),t=e[0],n=e[1];n.removeAttribute("class"),0!==n.attributes.length&&("c_sharp"===n.attributes[0].nodeValue?n.setAttribute("data-language","csharp"):"bash"===n.attributes[0].nodeValue&&n.setAttribute("data-language","shell"));var a=n.textContent||n.innerText;n.textContent=String(a);var i=document.createElement("div");i.innerHTML=n.outerHTML,window.Rainbow.color(i,(function(){void 0!==document.getElementsByTagName("pre")[t]&&(document.getElementsByTagName("pre")[t].innerHTML=i.firstChild.innerHTML+'<button class="copy_code_snippet_btn">copy</button>')}))};for(i.s();!(s=i.n()).done;)o()}catch(r){i.e(r)}finally{i.f()}e.description=t.lastChild.innerHTML}e.description=a.convertAllLinksToNewTab(t)}return e},a.convertAllLinksToNewTab=function(e){var t=e.querySelectorAll("a");if(t.length>0){var n,a=Object(lt.a)(t.entries());try{for(a.s();!(n=a.n()).done;){var s=Object(O.a)(n.value,2),i=(s[0],s[1]);i.hasAttribute("target")||i.setAttribute("target","_blank")}}catch(o){a.e(o)}finally{a.f()}}return e.lastChild.innerHTML},a.handleSubmitDiscussionAnswer=function(e){""!==e.trim()&&null!==a.props.discussions.selected_question_data&&a.props.saveDiscussionResponse({user_response:e,track_id:a.props.discussions.selected_question_data.track_id,discussion_id:a.props.discussions.selected_question_data.discussion_id,user_question_id:a.props.discussions.selected_question_data.id})},a.onSubmitDeleteDiscussion=function(e,t,n){return e.preventDefault(),a.props.deleteDiscussionResponse({user_response_id:t.id,user_question_id:t.user_question_id},n),a.props.onAddActivityLog("1.6.5"),a.setState({is_show_delete_discussion_modal:!1}),!1},a.showDeleteDiscussionModal=function(){a.setState({is_show_delete_discussion_modal:!0})},a.getHighlightedTextDimension=function(){var e,t=null,n=document.selection,a=0,s=0,i=0,o=0;if(n)"Control"!=n.type&&((null==t||t!=n.toString()&&n.toString())&&(t=n.createRange().text),a=(e=n.createRange()).boundingWidth,s=e.boundingHeight);else if(window.getSelection&&(n=window.getSelection(),(null==t||t!=n.toString()&&n.toString())&&(t=n.toString()),n.rangeCount&&(e=n.getRangeAt(0).cloneRange()).getBoundingClientRect)){var r=e.getBoundingClientRect();a=r.right-r.left,s=r.bottom-r.top,i=r.left,o=r.top}return{width:a,height:s,left:i,top:o,mistake:t}},a.getTextSelection=function(e){"mouseup"===e&&document.getSelection().toString().length>0&&a.setState({is_show_report_curriculum_popover:!0,selection_dimension:a.getHighlightedTextDimension()}),"mousedown"===e&&a.state.is_show_report_curriculum_popover&&a.setState({is_show_report_curriculum_popover:!1})},a.nextButtonText=function(e){var t=e.chapter_id,n=e.next_link;if(n){var a=n.split("/");if("/tracks"===n)return"Finish this Course";if(t!==Number(a[a.length-2]))return"Next Chapter"}return"Next"},a.displayCheckSolutionsModal=function(e){Object(h.v)(Object(re.a)(a),"is_show_todo_solution_modal",!0),a.props.onAddActivityLog("1.4.9"),a.getSolutionsFromGithub(),a.setState({is_solution_countdown_completed:!0})},a.displayCheckSolutionBtn=function(e){e.hours;var t=e.minutes,n=e.seconds;return e.completed?s.a.createElement("button",{type:"button",onClick:a.displayCheckSolutionsModal},"Check Solutions"):s.a.createElement("h4",null,"Solution available in approximately ",Object(dt.b)(t)>0?Object(dt.b)(t)+" mins":Object(dt.b)(n)+" seconds")},a.getSolutionsFromGithub=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={};e&&t&&(n.dir_path=e,n.content_key_id=t),a.props.getToDoSolution(a.props.courses.track.chapter_module_id,n)},a.onHideReportCurriculumMistake=function(){a.setState({is_show_report_curriculum_popover:!1})},a.getIconOnMobileView=function(e,t){var n={};return n={0:"lesson",1:"quiz",2:"assignment",3:"admin_lesson",4:"chapter_survey"}[e],t&&(t.practice_assignments&&t.practice_assignments.includes(t.chapter_module_id)?n="assignment_practice":t.optional_assignments&&t.optional_assignments.includes(t.chapter_module_id)&&(n="assignment_optional")),n},a.setStateFromChild=function(e,t,n){a.setState({notification_count:e,raw_notifications:t,markNotificationAsRead:n})},a.changeActiveTabContent=function(e){a.props.changeActiveTabContent(e)},a.state={is_show_add_bookmark_modal:!1,is_show_bookmarks_modal:!1,is_show_todo_modal:!1,is_submit_chapter_survey_form:!1,is_show_privacy_policy_modal:!1,is_show_check_solution_timer:!1,current_chapter_module_id:null,current_discussion_question_id:null,is_show_delete_discussion_modal:!1,is_show_report_curriculum_popover:!1,is_show_delete_discussion_module_modal:!1,is_show_edit_discussion_board_modal:!1,is_show_todo_solution_modal:!1,is_solution_countdown_completed:!1,selection_dimension:{},disable_next_previous_button:!1,notification_count:0,raw_notifications:[],is_show_survey_modal:!1,cd_survey_scheds:[],mobile_show_module:!1,is_show_assignment_forum_and_notifications:!0};var i=Object(h.g)();return!0===i.status&&(a.state=Object(g.a)(Object(g.a)({},a.state),{},{profile:i.user_details})),a.onWindowLoadSubscription=void 0,a.vimeoPlayers=[],a.state.is_show_assignment_forum_and_notifications=Object(h.o)(i.user_details,m.ab.ASSIGNMENT_FORUM_AND_NOTIFICATIONS.id),a}return Object($.a)(n,[{key:"componentDidMount",value:function(){"true"===this.props.is_online_discussion?this.props.fetchOnlineDiscussion({track_id:this.props.match.params.track_id,week_id:this.props.match.params.week_id,question_id:this.props.match.params.question_id}):this.props.fetchCoursePageData({track_id:this.props.match.params.track_id,chapter_id:this.props.match.params.chapter_id,chapter_module_id:this.props.match.params.module_id}),window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){void 0!==this.onWindowLoadSubscription&&this.onWindowLoadSubscription.unsubscribe()}},{key:"render",value:function(){var e,t,n,a,i=this,o=this.state,r=o.disable_next_previous_button,c=o.notification_count,_=o.raw_notifications,l=o.markNotificationAsRead,u=o.profile,d=o.is_show_todo_solution_modal,p=this.props.courses,f=p.track,E=p.is_show_check_solution_timer,g=this.props.discussions.selected_question_data;f.cd_survey_scheds&&(this.state.cd_survey_scheds=f.cd_survey_scheds,this.state.is_show_survey_modal=f.is_show_survey_modal);var b=!!u&&[m.hb.INSTRUCTOR,m.hb.COURSE_EDITOR,m.hb.ADMIN_USER,m.hb.SUPER_ADMIN_USER].includes(this.state.profile.general.user_level_id),v=void 0!==f.active_module&&[m.H.LESSON_MODULE,m.H.END_CHAPTER_SURVEY_MODULE].includes(f.active_module.module_type);return!0===f.proceed_to_next_link&&this.props.history.push(f.next_link),void 0!==f.chapter_module_id&&this.state.current_chapter_module_id!==f.chapter_module_id&&!1===this.props.analytics.is_session_page_saving&&(!1===this.props.analytics.is_session_page_updating&&this.props.onUpdateUserSessionPage(),this.setState({current_chapter_module_id:f.chapter_module_id}),this.props.onSaveUserSessionPage({page_type_id:"survey"!==f.chapter_module_id?m.D:m.m,track_id:f.track_id,course_id:f.course_id,chapter_id:f.chapter_id,chapter_module_id:"survey"!==f.chapter_module_id?f.chapter_module_id:0}),setTimeout((function(){i.checkIframes()}),200)),"true"===this.props.is_online_discussion&&null!==g&&void 0!==g.id&&this.state.current_discussion_question_id!==g.id&&!1===this.props.analytics.is_session_page_saving&&(!1===this.props.analytics.is_session_page_updating&&this.props.onUpdateUserSessionPage(),this.setState({current_discussion_question_id:g.id}),this.props.onSaveUserSessionPage({page_type_id:m.D,track_id:g.track_id,course_id:g.discussion_id,chapter_id:g.id,chapter_module_id:0}),setTimeout((function(){i.checkIframes()}),200)),s.a.createElement(s.a.Fragment,null,s.a.createElement(Rn,{is_show:this.state.is_show_report_curriculum_popover,dimension:this.state.selection_dimension,track:this.props.courses.track,onHideReportCurriculumMistake:this.onHideReportCurriculumMistake}),s.a.createElement(ye,{className:"container ".concat(this.state.mobile_show_module?"show_module":"hide_module"),user_info:this.state.profile,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{className:"container ".concat(this.state.mobile_show_module?"show_module":"hide_module"),id:"course_container"},s.a.createElement(at,{setStateFromChild:this.setStateFromChild,history:this.props.history,onRemoveBookmark:this.props.onRemoveBookmark,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_dark_mode:this.props.is_dark_mode,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,location:this.props.location.pathname,bookmarks:this.props.bookmarks}),"true"===this.props.is_online_discussion&&s.a.createElement(Un,{mobileShowModule:function(){return i.setState({mobile_show_module:!0})},pathParams:this.props.match.params,online_discussion:this.props.discussions,user_level_id:this.state.profile.general&&this.state.profile.general.user_level_id?this.state.profile.general.user_level_id:"",onAddActivityLog:this.props.onAddActivityLog}),"false"===this.props.is_online_discussion&&s.a.createElement(Dn,{mobileShowModule:function(){return i.setState({mobile_show_module:!0})},pathParams:this.props.match.params,track:f,user_level_id:this.state.profile.general&&this.state.profile.general.user_level_id?this.state.profile.general.user_level_id:"",onAddActivityLog:this.props.onAddActivityLog}),s.a.createElement("div",{className:"right_container ".concat("true"===this.props.is_online_discussion?"is_online_discussion":"")},"true"===this.props.is_online_discussion&&s.a.createElement("div",{className:"content_header"},s.a.createElement(Ie.a,{minWidth:769},s.a.createElement("h1",{className:"module_name"},(null===(e=this.props.discussions)||void 0===e?void 0:e.discussion_breadcrumbs)?this.props.discussions.discussion_breadcrumbs[2]:null)),s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("button",{id:"course_back_btn",type:"button",onClick:function(){return i.setState({mobile_show_module:!1})}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})),s.a.createElement("h2",{id:"mobile_title"},void 0!==(null===(t=this.props.discussions)||void 0===t?void 0:t.discussion_breadcrumbs)?this.props.discussions.discussion_breadcrumbs[2]:null)),!0===b&&s.a.createElement("div",{id:"online_discussion_cta_container"},s.a.createElement("button",{type:"button",className:"edit_discussion_btn",onClick:function(){return i.setState({is_show_edit_discussion_board_modal:!0})}}),s.a.createElement("button",{type:"button",className:"delete_discussion_btn",onClick:function(){return i.setState({is_show_delete_discussion_module_modal:!0})}}))),"survey"===f.chapter_module_id&&s.a.createElement("div",{className:"content_header"},s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("button",{id:"course_back_btn",type:"button",onClick:function(){return i.setState({mobile_show_module:!1})}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})),s.a.createElement("h2",{id:"mobile_title"},s.a.createElement("span",{className:"icon ".concat(this.getIconOnMobileView(f.active_module.module_type,f))}),"Survey"))),void 0!==f.active_chapter&&"survey"!==f.chapter_module_id&&s.a.createElement("div",{className:"content_header"},s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("button",{id:"course_back_btn",type:"button",onClick:function(){return i.setState({mobile_show_module:!1})}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})),s.a.createElement("h2",{id:"mobile_title"},s.a.createElement("span",{className:"icon ".concat(this.getIconOnMobileView(f.active_module.module_type,f))}),f.active_module.chapter_module_title)),s.a.createElement("button",{id:"bookmark_module_btn",className:"".concat(f.active_module&&f.active_module.bookmark_id&&!0===f.active_module.is_bookmarked?"bookmarked_module_fill":""),type:"button",onClick:function(e){return f.active_module&&f.active_module.bookmark_id&&!0===f.active_module.is_bookmarked?i.removeModuleBookmark(e,f.active_module):i.displayAddBookmarkModal(f.active_module)}})),!0===b&&void 0!==f.active_chapter&&1===f.active_module.module_type&&s.a.createElement("a",{target:"_blank",id:"course_edit_btn",href:"/modules/edit/".concat(f.track_id,"/").concat(f.active_chapter.chapter_id,"/").concat(f.active_module.chapter_module_id)}),s.a.createElement("div",{className:"content",onScroll:function(){return i.state.is_show_report_curriculum_popover&&i.setState({is_show_report_curriculum_popover:!1})}},void 0!==f.active_module&&null!==f.active_module.content?this.renderModuleDescription(f.active_module):null,"true"===this.props.is_online_discussion?this.renderModuleDescription("online_discussion"):null),s.a.createElement("textarea",{id:"copy_to_clipboard_value"})),(void 0!==f.active_module&&void 0!==f.active_module.content&&0===f.active_module.module_type&&void 0!==f.faqs&&f.faqs.faq_count>0)>0&&s.a.createElement(tn,{active_module:f.active_module,onAddActivityLog:this.props.onAddActivityLog}),(f.is_show_todo_submit&&void 0!==f.active_module&&f.active_module.module_type===m.H.TASK_MODULE)>0&&s.a.createElement(ea,{user_profile:u,toggleShowModal:function(e){return Object(h.v)(i,"is_show_todo_solution_modal",!1)},is_show_todo_solution_modal:d,getSolutionsFromGithub:this.getSolutionsFromGithub,onAddActivityLog:this.props.onAddActivityLog}),f.is_show_todo_submit&&this.state.is_show_assignment_forum_and_notifications&&s.a.createElement(ta.a,{pathParams:this.props.match.params,history:this.props.history,raw_notifications:_,notification_count:c,markNotificationAsRead:l}),this.props.courses.track.todo_solution&&this.state.is_solution_countdown_completed?s.a.createElement("div",{id:"check_solutions_container"},s.a.createElement("button",{type:"button",onClick:this.displayCheckSolutionsModal},"Check Solutions")):E&&this.props.courses.track.todo_solution&&this.props.courses.track.assignment_remaining_time&&s.a.createElement("div",{id:"check_solutions_container"},s.a.createElement(dt.a,{date:this.props.courses.track.assignment_remaining_time,renderer:this.displayCheckSolutionBtn})),"true"===this.props.is_online_discussion&&s.a.createElement(fn,{mobile_show_module:this.state.mobile_show_module,online_discussion:this.props.discussions,is_show_delete_discussion_modal:this.state.is_show_delete_discussion_modal,toggleShowModal:function(e){return Object(h.v)(i,"is_show_delete_discussion_modal",!1)},handleOnSubmitDeleteDiscussion:this.onSubmitDeleteDiscussion,handleDeleteDiscussionModal:this.showDeleteDiscussionModal,onAddActivityLog:this.props.onAddActivityLog}),"true"===this.props.is_online_discussion&&null!==this.props.discussions.selected_question_data&&s.a.createElement("div",{id:"module_navigation_container",className:"".concat("/tracks"===(null===(n=this.props.discussions.selected_question_data)||void 0===n?void 0:n.previous_link)?"flex_end":"")},"/tracks"!==f.previous_link&&s.a.createElement(Q.b,{to:{pathname:null===(a=this.props.discussions.selected_question_data)||void 0===a?void 0:a.previous_link},onClick:function(){return i.clickPreviousNextLink("previous")}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})," Previous"),s.a.createElement(Q.b,{to:{pathname:this.props.discussions.selected_question_data.next_link},onClick:function(){return i.clickPreviousNextLink("next")},className:"btn btn-primary"},"Next  ",s.a.createElement(ue.a,{icon:["fas","chevron-right"]}))),"false"===this.props.is_online_discussion&&s.a.createElement("div",{id:"module_navigation_container",className:"".concat("/tracks"===f.previous_link?"flex_end":"")},"/tracks"!==f.previous_link&&s.a.createElement(Q.b,{to:{pathname:f.previous_link},className:"".concat(void 0===f.active_module||r?"disabled":""),onClick:function(){return i.clickPreviousNextLink("previous")}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})," Previous"),!0===v&&!0===[m.H.LESSON_MODULE,m.H.END_CHAPTER_SURVEY_MODULE].includes(f.active_module.module_type)?s.a.createElement("button",{type:"button",className:"btn btn-primary ".concat(void 0===f.active_module||r?"disabled":""),onClick:function(){i.processNextStepBeforeNextLink(b)}},this.nextButtonText(f)," ",s.a.createElement(ue.a,{icon:["fas","chevron-right"]})):s.a.createElement(Q.b,{to:{pathname:f.next_link},onClick:function(){return i.clickPreviousNextLink("next")},className:"btn btn-primary ".concat(void 0===f.active_module||r?"disabled":"")}," ",this.nextButtonText(f)," ",s.a.createElement(ue.a,{icon:["fas","chevron-right"]}))),s.a.createElement("div",{id:"privacy_policy_container"},s.a.createElement("button",{type:"button",onClick:function(){return Object(h.v)(i,"is_show_privacy_policy_modal",!0)}},"Privacy Policy"))),"true"===this.props.is_online_discussion&&!0===b&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Qt,{toggleShowModal:function(){return Object(h.v)(i,"is_show_edit_discussion_board_modal",!1)},show:this.state.is_show_edit_discussion_board_modal}),s.a.createElement(Ft,{toggleShowModal:function(){return Object(h.v)(i,"is_show_delete_discussion_module_modal",!1)},show:this.state.is_show_delete_discussion_module_modal})),s.a.createElement(En,{show:this.state.is_show_privacy_policy_modal,toggleShowModal:function(){return Object(h.v)(i,"is_show_privacy_policy_modal",!1)}}),void 0!==f.active_chapter&&"survey"!==f.chapter_module_id&&s.a.createElement(Tt,{active_module:f.active_module,track_course_id:f.track_course_id,chapter_details:{id:f.active_chapter.chapter_id,title:f.active_chapter.chapter_title},track_details:{id:f.track_id,title:f.track_title},show:this.state.is_show_add_bookmark_modal,toggleShowModal:function(){return Object(h.v)(i,"is_show_add_bookmark_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}),void 0!==f.active_module&&f.active_module.module_type===m.H.TASK_MODULE&&void 0!==f.has_ongoing_assignment&&s.a.createElement(Bn,{todo_title:f.active_module.chapter_module_title,show:f.is_show_todo_modal,has_ongoing_assignment:f.has_ongoing_assignment,toggleShowModal:function(){return Object(h.v)(i,"is_show_todo_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}),this.state.cd_survey_scheds.length>0&&this.state.profile.workspace_custom_data.stack_info&&s.a.createElement(ca,{show:this.state.is_show_survey_modal,surveys:this.state.cd_survey_scheds,user_info:this.state.profile,current_url:this.props.match.params,hideModal:this.hideModal,toggleShowModal:function(e){return Object(h.v)(i,"is_show_survey_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}),this.props.courses.track.todo_solution&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,{show:this.state.is_show_todo_solution_modal,todo_solution:this.props.courses.track.todo_solution,toggleShowModal:function(e){return Object(h.v)(i,"is_show_todo_solution_modal",!1)},onAddActivityLog:this.props.onAddActivityLog,getSolutionsFromGithub:this.getSolutionsFromGithub,changeActiveTabContent:this.changeActiveTabContent,chapter_module_id:this.props.courses.track.chapter_module_id,getToDoSolutionFileContent:this.props.getToDoSolutionFileContent,changeActiveFileContent:this.props.changeActiveFileContent,active_module:this.props.courses.track.active_module,is_dark_mode:this.props.is_dark_mode})))}}]),n}(a.Component)),la=mt.fetchCoursePageData,ua=mt.completeLessonModule,da=mt.submitAssignmentTask,pa=mt.changePropsValue,ma=mt.startQuiz,ha=mt.navigateQuiz,fa=ft.fetchOnlineDiscussion,Ea=ft.saveDiscussionResponse,ga=ft.deleteDiscussionResponse,ba=gt.changeActiveFileContent,va=gt.changeActiveTabContent,Sa=gt.getToDoSolution,Oa=gt.getToDoSolutionFileContent,ka=Object(h.p)(["courses","analytics","discussions"],{fetchCoursePageData:la,completeLessonModule:ua,submitAssignmentTask:da,changePropsValue:pa,startQuiz:ma,navigateQuiz:ha,getToDoSolution:Sa,getToDoSolutionFileContent:Oa,changeActiveFileContent:ba,changeActiveTabContent:va,fetchOnlineDiscussion:fa,saveDiscussionResponse:Ea,deleteDiscussionResponse:ga}),Ta=ka.mapStateToProps,Ca=ka.mapDispatchToProps,Aa=Object(l.b)(Ta,Ca)(_a),Ra=n(45),ya=(n(1046),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).clickTrackProgressLink=function(){e.props.onAddActivityLog("2.16.3")},e.renderCourseProgress=function(e,t){return!!t.course_progress&&s.a.createElement(ae.a,{placement:"bottom",overlay:e?s.a.createElement("div",null):s.a.createElement(Fe.a,{id:"course_completed_popover"},s.a.createElement(Fe.a.Title,null,s.a.createElement("img",{className:"track_icon",src:t.image_src,alt:t.name}),s.a.createElement("span",{className:"track_name"},t.name," ",t.course_progress.overall.completion||"")),s.a.createElement(Fe.a.Content,null,s.a.createElement("div",{className:"course_completed_progress_bar"},s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(t.course_progress.within_stack_sched.percentage,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(t.course_progress.outside_stack_sched.percentage,"%")}})),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("span",null)," On-time Progress: ","".concat(t.course_progress.within_stack_sched.completion)," Modules"),s.a.createElement("li",null,s.a.createElement("span",null)," Out-of-schedule Progress: ","".concat(t.course_progress.outside_stack_sched.completion)," Modules")),s.a.createElement("p",null,"The progress indicates your module completion, including lectures, core assignments, and quizzes.")))},t.id!==m.c&&(t.course_progress.overall.percentage<100&&!1===e?s.a.createElement("div",{className:"course_progress_container"},s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(t.course_progress.within_stack_sched.percentage,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(t.course_progress.outside_stack_sched.percentage,"%")}})):s.a.createElement("div",{className:"course_completed_container"},s.a.createElement("span",null,!1===e?t.course_progress.overall.percentage:100,"%",t.course_progress.outside_stack_sched.percentage>0&&"*"),s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(!1===e?t.course_progress.within_stack_sched.percentage:100,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(!1===e?t.course_progress.outside_stack_sched.percentage:0,"%")}})))||"")},e.renderCompletedCourseProgress=function(e,t){return s.a.createElement(ae.a,{placement:"bottom",overlay:e?s.a.createElement("div",null):s.a.createElement(Fe.a,{id:"course_completed_popover"},s.a.createElement(Fe.a.Title,null,s.a.createElement("img",{className:"track_icon",src:t.image_src,alt:t.name}),s.a.createElement("span",{className:"track_name"},t.name," ",t.course_progress.overall.completion||"")),s.a.createElement(Fe.a.Content,null,s.a.createElement("div",{className:"course_completed_progress_bar"},s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(t.course_progress.within_stack_sched.percentage,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(t.course_progress.outside_stack_sched.percentage,"%")}})),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("span",null)," On-time Progress: ","".concat(t.course_progress.within_stack_sched.completion)," Modules"),s.a.createElement("li",null,s.a.createElement("span",null)," Late Progress: ","".concat(t.course_progress.outside_stack_sched.completion)," Modules")),s.a.createElement("p",null,"*The Learn Platform dashboard will capture all of the learning progress (",s.a.createElement("i",null,"reading lectures, submitting mandatory assignments and finishing quizzes"),") you make at Coding Dojo, no matter you did them on time or not. However, only the progress made within the period of stack schedule will be reflected in your official Coding Dojo Progress Report and Transcript.")))},s.a.createElement("div",{className:"course_completed_container"},s.a.createElement("span",null,!1===e?t.course_progress.overall.percentage:100,"%",t.course_progress.outside_stack_sched.percentage>0&&"*"),s.a.createElement("div",{className:"on_time_progress",style:{width:"".concat(!1===e?t.course_progress.within_stack_sched.percentage:100,"%")}}),s.a.createElement("div",{className:"late_progress",style:{width:"".concat(!1===e?t.course_progress.outside_stack_sched.percentage:0,"%")}})))},e}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.track_progress,a=t.user_level,i=[m.hb.INSTRUCTOR,m.hb.COURSE_EDITOR,m.hb.ADMIN_USER,m.hb.SUPER_ADMIN_USER].includes(a);return s.a.createElement("li",{className:"course_progress_item"},!1===n.link.includes("http://")&&s.a.createElement(Q.b,{to:n.link,onClick:function(){return e.clickTrackProgressLink()}},s.a.createElement("img",{className:"track_icon",src:n.image_src.includes("/assets/tracks")?"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/workshop.png":n.image_src,alt:n.name}),s.a.createElement("span",{className:"track_name"},n.name," ",!1===i&&n.course_progress&&n.course_progress.overall.completion||""),this.renderCourseProgress(i,n)),!0===n.link.includes("http://")&&s.a.createElement("a",{href:n.link,target:"_blank",onClick:function(){return e.clickTrackProgressLink()}},s.a.createElement("img",{className:"track_icon",src:n.image_src,alt:n.name}),s.a.createElement("span",{className:"track_name"},n.name)))}}]),n}(a.Component)),wa=(n(1047),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this.props.belt;return s.a.createElement("li",{className:"belt_item ".concat(e.is_completed?"completed":"")},s.a.createElement("span",{className:"belt_icon ".concat(e.class),"data-belt-id":e.id}),s.a.createElement("span",{className:"belt_name"},e.name," BELT"))}}]),n}(a.Component)),Da=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this.props.belt_exam;return s.a.createElement("tr",null,s.a.createElement("td",null,"undefined"!==e.name?"".concat(e.name," - "):"Belt Exam - ",e.option),s.a.createElement("td",null,"-"===e.score?"Pending":e.score))}}]),n}(a.Component),Ua=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).openCourseTrackModal=function(t,n){null===n?(e.props.onSetActiveTrack(t),e.props.onAddActivityLog("2.3.12")):window.open(n,"_blank")},e}return Object($.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.track,i=n.isShowProgress,o=n.user_level,r=n.redirect_url;return!a.is_locked&&i?(a.progress>=100||[m.hb.INSTRUCTOR,m.hb.COURSE_EDITOR,m.hb.ADMIN_USER,m.hb.SUPER_ADMIN_USER].includes(o))&&(e=s.a.createElement("div",{className:"completed_icon_container"})):e=s.a.createElement("div",{className:"locked_icon_container"},s.a.createElement("span",{className:"locked_icon"})),s.a.createElement("li",{"data-track-id":a.id,className:a.is_locked?"locked_track_item":null,onClick:function(){return a.is_locked?null:t.openCourseTrackModal(a,r)}},s.a.createElement("div",{className:"track_description_container"},void 0!==a.track_belt&&null!==a.track_belt&&a.track_belt.split(" ").length>1&&s.a.createElement("span",{class:"belt_icon ".concat(a.track_belt)}),s.a.createElement("p",{className:"track_title"},a.name," ",void 0!==a.sale&&s.a.createElement("span",{className:"sale_indicator"},a.sale.description," ",a.sale.percentage)),void 0!==a.description&&s.a.createElement("p",null,a.description)),e,a.is_locked&&s.a.createElement("div",{className:"locked_placeholder"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/big_lock_icon.png",alt:"Lock Icon"}),s.a.createElement("p",null,"Enroll in the program to unlock this stack")))}}]),n}(a.Component),Ia=(n(1048),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).clickCourseLink=function(){e.props.onAddActivityLog("3.3.3")},e}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.track;return s.a.createElement(fe.a,{show:n,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)},id:"track_courses_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,a.name),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},a.courses.map((function(t){return s.a.createElement("li",{key:t.id},!1===t.link.includes("http://")&&s.a.createElement(Q.b,{to:t.link,onClick:function(){return e.clickCourseLink()}},s.a.createElement("img",{src:t.image_src.includes("/assets/tracks")?"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/workshop.png":t.image_src,alt:t.name}),s.a.createElement(ae.a,{placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(se.a,null,t.name)},s.a.createElement("span",null,t.name))),!0===t.link.includes("http://")&&s.a.createElement("a",{href:t.link,target:"_blank",onClick:function(){return e.clickCourseLink()}},s.a.createElement("img",{src:t.image_src||"https://assets.codingdojo.com/learn_platform/global/dummy_course_icon.png",alt:"Course Icon"}),s.a.createElement("span",null,t.name)))})))))}}]),n}(a.Component)),Ma=(n(120),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,n){t.preventDefault(),e.props.get_enroll_app_link(n)},e.changeModalDisplayProps=function(){e.props.hideDueReminderModal("is_show_installment_due_reminder_modal",!1)},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"tuition_reminder_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Installment Due Reminder"),s.a.createElement("button",{onClick:function(t){return e.changeModalDisplayProps()}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"It seems like your tuition installment is due ",s.a.createElement("span",null,this.props.tuition_data.message),". To ensure you continue getting access to Coding Dojo, please take action as soon as possible."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!0)},className:"btn btn-primary"},"Make a Payment")))}}]),n}(a.Component)),Pa=Object(h.p)("dashboard",{hideDueReminderModal:Ra.a.hideDueReminderModal,get_enroll_app_link:Ra.a.get_enroll_app_link}),Na=Pa.mapStateToProps,La=Pa.mapDispatchToProps,ja=Object(l.b)(Na,La)(Ma),Fa=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,n){t.preventDefault(),e.props.get_enroll_app_link(n)},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Installment Overdue")),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"clock_icon red_clock"}),s.a.createElement("p",null,"It seems like your tuition installment is ",s.a.createElement("span",null,"overdue!")," Please take action as soon as possible"),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-link"},"Apply for Extension"),s.a.createElement("span",null,"or"),s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!0)},className:"btn btn-primary"},"Make a Payment")))}}]),n}(a.Component),xa=Object(h.p)("dashboard",{get_enroll_app_link:Ra.a.get_enroll_app_link}),Ba=xa.mapStateToProps,Ka=xa.mapDispatchToProps,Wa=Object(l.b)(Ba,Ka)(Fa),Ha=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,n){t.preventDefault(),e.props.get_enroll_app_link(n)},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Withdrawal Request Form")),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please complete and acknowledge the Coding Dojo Withdrawal Request Form."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),n}(a.Component),$a=Object(h.p)("dashboard",{get_enroll_app_link:Ra.a.get_enroll_app_link}),qa=$a.mapStateToProps,Ga=$a.mapDispatchToProps,Qa=Object(l.b)(qa,Ga)(Ha),Va=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,n){t.preventDefault(),e.props.get_enroll_app_link(n)},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Withdrawal Request")),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please read and acknowledge the Coding Dojo Withdrawal, Cancellation, or Drop Form."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),n}(a.Component),za=Object(h.p)("dashboard",{get_enroll_app_link:Ra.a.get_enroll_app_link}),Ya=za.mapStateToProps,Ja=za.mapDispatchToProps,Xa=Object(l.b)(Ya,Ja)(Va),Za=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,n){t.preventDefault(),e.props.get_enroll_app_link(n)},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"tuition_reminder_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Enrollment Agreement")),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please read and accept the Coding Dojo Enrollment Agreement."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),n}(a.Component),es=Object(h.p)("dashboard",{get_enroll_app_link:Ra.a.get_enroll_app_link}),ts=es.mapStateToProps,ns=es.mapDispatchToProps,as=Object(l.b)(ts,ns)(Za),ss=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToEnrollApp=function(t,n){t.preventDefault(),e.props.get_enroll_app_link(n)},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;if(void 0!==this.props.dashboard.redirect_to_enroll_app)window.open(this.props.dashboard.redirect_to_enroll_app,"_blank");return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,backdrop:"static",keyboard:!1,className:"tuition_reminder_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Enrollment Agreement Amendment")),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"clock_icon"}),s.a.createElement("p",null,"To continue, please read and accept the Coding Dojo Enrollment Agreement."),s.a.createElement("p",null,"If you have any questions, feel free to contact us at ",s.a.createElement("a",{href:"#"},s.a.createElement("span",null,"support"),"@codingdojo.com"))),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{onClick:function(t){return e.redirectToEnrollApp(t,!1)},className:"btn btn-primary"},"Continue")))}}]),n}(a.Component),is=Object(h.p)("dashboard",{get_enroll_app_link:Ra.a.get_enroll_app_link}),os=is.mapStateToProps,rs=is.mapDispatchToProps,cs=Object(l.b)(os,rs)(ss),_s=(n(1049),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){return Object(H.a)(this,n),t.call(this,e)}return Object($.a)(n,[{key:"submitReview",value:function(e,t){t.has_agreed=e,this.props.submitReview(t),this.props.onAddActivityLog(e?"3.21.5":"3.21.13")}},{key:"render",value:function(){var e=this,t=this.props.review_data,n="#",a="google_rating_modal",i=" Rate Us Now on Google Reviews!";return this.props.show&&(n=t.unfinished_google_review_logs.review_link,"trust_pilot"===t.unfinished_google_review_logs.type&&(a="trustpilot_rating_modal",i=" Rate Us Now on Trustpilot!")),s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.submitReview(!1,t.unfinished_google_review_logs)},centered:!0,id:a},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Congratulations on finishing your Belt Exam and getting your Belt!"),s.a.createElement("button",{onClick:function(){return e.submitReview(!1,t.unfinished_google_review_logs)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"rating_icon"}),s.a.createElement("p",null,"We're so proud of the progress you're making!",s.a.createElement("br",null)," Would you mind taking a moment to review your experience at Coding Dojo to let the world know how we're doing?"),s.a.createElement("p",null,"(It will normally take less than 2 minutes!)")),s.a.createElement(fe.a.Footer,null,s.a.createElement("a",{href:n,target:"_blank",className:"btn btn-primary",onClick:function(n){return e.submitReview(!0,t.unfinished_google_review_logs)}},s.a.createElement("span",{className:"rating_button_icon"}),i)))}}]),n}(a.Component)),ls=Object(h.p)(void 0,{submitReview:Ra.a.updateGoogleReviewLog}),us=ls.mapStateToProps,ds=ls.mapDispatchToProps,ps=Object(l.b)(us,ds)(_s),ms=(n(1050),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).setActiveTrack=function(e){a.props.get_track_courses(e.id),Object(h.v)(Object(re.a)(a),"is_show_track_courses_modal",!0)},a.hasClickLink=function(e){"last_visited"===e&&a.props.onAddActivityLog("2.3.3")},a.onSelectTrackProgress=function(e){a.props.get_tracks_progress(e),a.props.onAddActivityLog("2.0.25")},a.toggleSectionInMobile=function(e){var t=Object(S.a)(a.state.dashboard_accordion);t.map((function(t){t.id==e.id&&(t.is_active=!t.is_active)})),a.setState({dashboard_accordion:t})},a.state={is_show_google_rating_modal:!1,is_show_survey_modal:!1,is_show_track_courses_modal:!1,is_show_track_dropdown:!1,active_track:void 0,active_surveys:[],continue_learning_link:"/tracks",dashboard_accordion:[{id:1,title:"Course Progress",is_active:!0},{id:2,title:"Belt Exam History",is_active:!1},{id:3,title:"Tracks",is_active:!1}],is_show_assignment_forum_and_notifications:!1};var s=Object(h.g)();if(!0===s.status&&(a.state=Object(g.a)(Object(g.a)({},a.state),{},{profile:s.user_details}),a.state.profile&&a.state.profile.workspace_custom_data)){var i=a.state.profile.workspace_custom_data.bootcamp_info;if(i&&i.last_visited_url){var o=i.last_visited_url;if(-1===o.indexOf("http")&&"/"===o.substring(0,1))o="".concat(m.d.LP3_FRONTEND_URL).concat(o);else{var r=o.split("/m");o="".concat(m.d.LP3_FRONTEND_URL,"m").concat(r[1])}a.state.continue_learning_link=o}}return a.user={general:{user_level_id:1}},a.state.is_show_assignment_forum_and_notifications=Object(h.o)(s.user_details,m.ab.ASSIGNMENT_FORUM_AND_NOTIFICATIONS.id),a}return Object($.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.get_user_dashboard,a=t.user;a.user_details&&a.user_details.is_show_platform_demo&&""===window.location.search&&window.innerWidth>=769?window.location.href="/dashboard?startProductTour=true":n(),setTimeout((function(){e.props.onSaveUserSessionPage({page_type_id:m.q})}),5e3)}},{key:"render",value:function(){var e=this,t=([m.hb.INSTRUCTOR,m.hb.COURSE_EDITOR,m.hb.ADMIN_USER,m.hb.SUPER_ADMIN_USER].includes(this.user.general.user_level_id),this.state),n=t.is_show_track_courses_modal,a=t.is_show_track_dropdown,i=t.dashboard_accordion,o=this.props,r=o.onRemoveBookmark,c=o.onAddBookmark,_=o.location,l=o.bookmarks,u=o.user,d=o.onAddActivityLog,p=o.match,f=this.props.dashboard,E=f.active_track,g=f.user_data,b=g.belts,v=g.belt_exams,O=g.is_show_progress,k=g.tracks,T=g.pre_bootcamp_tracks,C=(g.special_tracks,g.locked_tracks),A=g.track_progress,R=(g.track_progress_view_more,g.is_show_installment_due_reminder_modal),y=g.is_show_installment_overdue_modal,w=g.is_show_withdrawal_request_form_modal,D=g.is_show_withdrawal_request_modal,U=g.is_show_enrollment_agreement_modal,I=g.is_show_enrollment_agreement_amendment_modal,M=g.tuition_reminders_data,P=g.track_progress_limit,N=g.rececent_exam_limit,L=g.is_show_survey_modal,j=g.cd_survey_scheds,F=!1,x=null,B=L;m.S.all.includes(p.params.custom_feature)&&(F=!0,B=!0,x=p.params.custom_feature);var K={id:999999,name:"Alumni Pass",is_locked:!0,sale:{description:"",percentage:""}},W=!1;return void 0!==u&&void 0!==u.user_details&&(this.user=u.user_details),this.user.general&&[m.hb.STUDENT,m.hb.GRADUATE].includes(this.user.general.user_level_id)&&this.user.workspace_custom_data&&this.user.workspace_custom_data.enrollment&&[m.n.alumni,m.n.current_student].includes(this.user.workspace_custom_data.enrollment.latest_application_status)&&this.user.workspace&&this.user.workspace.workspace_id===m.kb.codingdojo&&(W=!0,this.user.workspace_custom_data.enrollment.latest_application_status===m.n.alumni&&(K.is_locked=!1)),s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{location:_.pathname,user_info:this.state.profile,onAddActivityLog:d,onAddBookmark:c,onRemoveBookmark:r,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{className:"container",id:"dashboard_container"},s.a.createElement(at,{history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_show_links:!1,onRemoveBookmark:r,onAddBookmark:c,location:_.pathname,bookmarks:l,onAddActivityLog:d,user_level_id:this.user.general.user_level_id}),this.state.is_show_assignment_forum_and_notifications&&s.a.createElement(je,null),s.a.createElement("div",{id:"maintenance_banner",className:"downtime hidden"},s.a.createElement(ue.a,{icon:["fas","info-circle"]}),s.a.createElement("p",null,s.a.createElement("b",{className:"red_text"},"Announcement:")," Intermittent access and platform downtime could happen between ",s.a.createElement("b",null,"December 12, 6:00 PM - 9:00 PM PST")," due to routine maintenance and feature updates. ")),s.a.createElement("div",{id:"dashboard_widget_container"},O&&A&&A.courses&&A.courses.length>0?s.a.createElement("div",{id:"progress_container",className:"".concat(i[0].is_active?"show_content":"hide_content")},s.a.createElement("h5",{onClick:function(){return e.toggleSectionInMobile(i[0])}},"Course Progress ",s.a.createElement(ue.a,{icon:["fas","chevron-up"]})),s.a.createElement("div",{id:"current_track_label"},s.a.createElement(ue.a,{icon:["fas","caret-right"]}),s.a.createElement(_e.a,{"data-toggle":"dropdown",title:A.title,show:a,onClick:function(){return e.setState({is_show_track_dropdown:!a})}},[].concat(Object(S.a)(T),Object(S.a)(k),Object(S.a)(C.length>0?C.filter((function(e){return!1===e.is_locked})):[])).map((function(t){return s.a.createElement("button",{key:t.id,type:"button",className:"nav-link",onClick:function(){return e.onSelectTrackProgress(t.id)}},t.name)})))),s.a.createElement("div",{id:"progress_label"},s.a.createElement("div",null,s.a.createElement("span",null)," On-time Progress"),s.a.createElement("div",null,s.a.createElement("span",null)," Out-of-schedule Progress")),s.a.createElement("ul",{className:"list-unstyled",id:"progress_list"},A.courses.slice(0,P).map((function(t){return s.a.createElement(ya,{track_progress:t[0],user_level:e.user.general.user_level_id,key:t[0].name,onAddActivityLog:d})})))):null,s.a.createElement("div",{id:"belt_exam_history_container",className:"".concat(i[1].is_active?"show_content":"hide_content")},s.a.createElement("h5",{onClick:function(){return e.toggleSectionInMobile(i[1])}},"Belt Exam History ",s.a.createElement(ue.a,{icon:["fas","chevron-up"]})),s.a.createElement("ul",{className:"list-unstyled",id:"belt_list"},b.map((function(e){return s.a.createElement(wa,{belt:e,key:e.id})}))),v.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"You have taken ",s.a.createElement("span",null,v.length)," belt exams in total"),s.a.createElement("p",null,"Please allow 24 hours for your scores to be updated"),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Most Recent Exams"),s.a.createElement("th",null,"Score"))),s.a.createElement("tbody",null,v.slice(0,N).map((function(e){return s.a.createElement(Da,{belt_exam:e,key:e.id})})))),s.a.createElement(Q.b,{to:"/belt_exam_history",id:"view_more_history_btn"},"See Details")):s.a.createElement("p",null,"You haven't taken any belt exams yet.")),s.a.createElement("div",{className:"right_container ".concat(i[2].is_active?"show_content":"hide_content")},s.a.createElement("h5",{role:"button",onClick:function(){return e.toggleSectionInMobile(i[2])}},"Tracks ",s.a.createElement(ue.a,{icon:["fas","chevron-up"]})),s.a.createElement("a",{href:this.state.continue_learning_link,onClick:function(t){return e.hasClickLink("last_visited")}},"continue learning"),s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,!0===m.b.includes(this.user.general.user_level_id)?"Pre-bootcamp Tracks":"Mandatory Pre-bootcamp Track"),s.a.createElement("ul",{className:"list-unstyled single_flat_list"},T.map((function(t){return s.a.createElement(Ua,{track:t,key:t.id,onSetActiveTrack:e.setActiveTrack,isShowProgress:O,user_level:e.user.general.user_level_id,redirect_url:null,onAddActivityLog:d})})))),s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,!0===m.b.includes(this.user.general.user_level_id)?"":"Your ","Major Tracks"),s.a.createElement("ul",{id:"tracks_list",className:"list-unstyled"},k.map((function(t){return s.a.createElement(Ua,{track:t,key:t.id,onSetActiveTrack:e.setActiveTrack,isShowProgress:O,user_level:e.user.general.user_level_id,redirect_url:null,onAddActivityLog:d})})))),C.length>0&&s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,!0===m.b.includes(this.user.general.user_level_id)?"Minor Tracks":"Other Tracks"),s.a.createElement("ul",{className:"list-unstyled double_flat_list"},C.map((function(t){return s.a.createElement(Ua,{track:t,key:t.id,onSetActiveTrack:e.setActiveTrack,isShowProgress:O,user_level:e.user.general.user_level_id,redirect_url:null,onAddActivityLog:d})})))),!0===W&&s.a.createElement("div",{className:"tracks_section"},s.a.createElement("h6",null,"Unlock All Available Tracks"),s.a.createElement("ul",{className:"list-unstyled single_flat_list"},s.a.createElement(Ua,{track:K,key:K.id,onSetActiveTrack:this.setActiveTrack,isShowProgress:O,user_level:this.user.general.user_level_id,redirect_url:"".concat(m.A,"/login_lp3_user/").concat(g.enc_user_id,"/").concat(g.enc_applicant_id,"/").concat(m.B),onAddActivityLog:d}))))),void 0!==E&&s.a.createElement(Ia,{show:n,track:E,toggleShowModal:function(t){return Object(h.v)(e,"is_show_track_courses_modal",!1)},onAddActivityLog:d}),u.user_details&&u.user_details.workspace_custom_data&&u.user_details.workspace_custom_data.stack_info&&!u.user_details.workspace_custom_data.customizations.is_show_platform_demo&&(j.length>0||F)&&s.a.createElement(ca,{show:B,surveys:j,user_info:g,current_url:null,custom_survey:x,hideModal:this.hideModal,toggleShowModal:function(t){return Object(h.v)(e,"is_show_survey_modal",!1)},onAddActivityLog:d}),s.a.createElement(ja,{show:R,tuition_data:M,toggleShowModal:function(t){return Object(h.v)(e,"is_show_installment_due_reminder_modal",!1)}}),s.a.createElement(Wa,{show:y,toggleShowModal:function(t){return Object(h.v)(e,"is_show_installment_overdue_modal",!1)}}),s.a.createElement(Qa,{show:w,toggleShowModal:function(t){return Object(h.v)(e,"is_show_withdrawal_request_form_modal",!1)}}),s.a.createElement(Xa,{show:D,toggleShowModal:function(t){return Object(h.v)(e,"is_show_withdrawal_request_modal",!1)}}),s.a.createElement(as,{show:U,toggleShowModal:function(t){return Object(h.v)(e,"is_show_enrollment_agreement_modal",!1)}}),s.a.createElement(cs,{show:I,toggleShowModal:function(t){return Object(h.v)(e,"is_show_enrollment_agreement_amendment_modal",!1)}}),s.a.createElement(ps,{show:this.props.dashboard.user_data.is_show_google_rating_modal,toggleShowModal:function(){return Object(h.v)(e,"is_show_google_rating_modal",!0)},review_data:this.props.dashboard.user_data.review_data,onAddActivityLog:d})))}}]),n}(a.Component)),hs=Ra.a.get_user_dashboard,fs=Ra.a.get_track_courses,Es=Ra.a.get_tracks_progress,gs=Ra.a.check_current_user,bs=Object(h.p)(["dashboard","checklists","user"],{get_user_dashboard:hs,get_track_courses:fs,get_tracks_progress:Es,check_current_user:gs}),vs=bs.mapStateToProps,Ss=bs.mapDispatchToProps,Os=Object(l.b)(vs,Ss)(ms),ks=(n(1051),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this.props.exam_rule,t=e.name,n=e.description;return s.a.createElement("li",null,s.a.createElement("span",null,t),n)}}]),n}(a.Component)),Ts=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleProcessExamForm=function(e){e.preventDefault(),a.state.user_code===a.state.exam.code?a.props.history.push("/taking_exam"):a.setState({valid_user_code:!1})},a.handleOnchangeExamInput=function(e){a.setState({user_code:e.target.value,valid_user_code:!0})},a.state={exam:{code:"123",rules:{bootcamp_type:"Onsite",stacks:"Mean",general:[{id:1,name:"Unlocking",description:"You may use the exam code given by your instructor only once, or use manual unlock option once every 24 hours."},{id:2,name:"Time Limit",description:"You have 5.0 hours to complete the exam."},{id:3,name:"Codes",description:"Do not push/upload your code on GitHub or any where on the web."},{id:4,name:"Video Demo",description:"Your video demo should not be publicly accessible, make it unlisted or password protected."},{id:5,name:"Concerns",description:"Email your instructor and remote-instructor@codingdojo.com for issues in taking the exam."}]}},user_code:"",valid_user_code:!0,has_redirected_to_lp2:!1},a}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.props.onsaveUserSessionPage({page_type_id:m.s})}},{key:"render",value:function(){var e=this.state.exam.rules,t=e.general,n=e.bootcamp_type,a=e.stacks,i=this.state,o=i.valid_user_code,r=i.user_code;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{className:"container",id:"exam_container"},s.a.createElement(at,{history:this.props.history,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_dark_mode:this.props.is_dark_mode,onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,location:this.props.location.pathname,bookmarks:this.props.bookmarks}),s.a.createElement("div",{className:"blk"},s.a.createElement("h6",null,"Unlock Your Exam"),s.a.createElement("form",{action:"#",onSubmit:this.handleProcessExamForm},s.a.createElement("input",{className:o?"":"invalid",placeholder:"Enter Your Exam Code Here",value:r,onChange:this.handleOnchangeExamInput,type:"text"}),o?"":s.a.createElement("small",{className:"color_red"},"Invalid Exam Code"),s.a.createElement("button",{type:"submit"},"Unlock and Start Your Exam"))),s.a.createElement("div",{className:"blk"},s.a.createElement("h6",null,"Exam Rules"),s.a.createElement("ol",null,t.map((function(e){return s.a.createElement(ks,{exam_rule:e,key:e.id})})))),s.a.createElement("div",{className:"blk"},s.a.createElement("h6",null,"Exam Rules for ",n," (",a," Exam)"),s.a.createElement("ol",null,t.map((function(e){return s.a.createElement(ks,{exam_rule:e,key:e.id})}))))))}}]),n}(a.Component),Cs=Object(h.p)(["exams"],{get_lp2_exam_link:ne.a.get_lp2_exam_link}),As=Cs.mapStateToProps,Rs=Cs.mapDispatchToProps,ys=Object(l.b)(As,Rs)(Ts),ws=(n(1052),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={input:{name:"email_address",type:"email",value:"",is_valid:!0,placeholder:"example@codingdojo.com",error_message:""}},e.componentDidUpdate=function(){if(!1===e.props.user.is_password_retrieved&&void 0!==e.props.user.error_message&&(""===e.state.input.error_message||e.state.input.error_message!==e.props.user.error_message)){var t=Object(g.a)({},e.state.input);t.error_message=e.props.user.error_message,e.setState({input:t})}},e.handleInputChange=function(t){var n=Object(g.a)({},e.state.input);n.value=t.target.value,e.setState({input:n})},e}return Object($.a)(n,[{key:"submitRetrievePassword",value:function(e){var t=this;if(!1===this.props.user.forgot_password_ongoing){e.preventDefault();var n=Object(g.a)({},this.state.input);n.is_valid=""!==n.value,n.error_message=""===n.value?"Please enter a valid email address.":"",this.setState({input:n},(function(){if(!0===n.is_valid){var e=(t.props.location&&t.props.location.state||{from:{pathname:"/forgot_password"}}).from;t.props.forgotPassword(n.value,e)}}))}}},{key:"hideModal",value:function(){this.props.toggleShowModal(!1);var e=Object(g.a)({},this.state.input);e.error_message="",e.value="",this.setState({input:e}),this.props.user.is_password_retrieved=!1,this.props.user.error_message=void 0}},{key:"render",value:function(){var e=this,t=this.state.input;return s.a.createElement(fe.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter",onHide:function(){return e.hideModal()},centered:!0,id:"retrieve_password_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Retrieve Your Password"),s.a.createElement("button",{onClick:function(){return e.hideModal()}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,!1===this.props.user.is_password_retrieved||void 0===this.props.user.is_password_retrieved?s.a.createElement("form",{action:"",id:"retrieve_password_form",onSubmit:function(t){return e.submitRetrievePassword(t)}},s.a.createElement("div",{className:"lock_icon is_locked"}),s.a.createElement("p",null,"Enter the email address associated with your enrollment to retrieve your password."),""!==t.error_message&&s.a.createElement("span",{className:"input_error"},t.error_message),s.a.createElement("div",{className:"form-group ".concat(t.is_valid?"":"error"),key:t.name},s.a.createElement("input",{type:t.type,name:t.name,className:"form-control ".concat(void 0!==t.error_message&&""!==t.error_message?"border_red":""),placeholder:t.placeholder,onChange:function(t){return e.handleInputChange(t)},value:t.value})),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")):s.a.createElement("div",{id:"request_submitted_container"},s.a.createElement("div",{className:"lock_icon is_unlocked"}),s.a.createElement("p",null,"Your request has been submitted."),s.a.createElement("p",null,"Check your email inbox to retrieve your password!"))))}}]),n}(a.Component)),Ds=Object(h.p)(void 0,{forgotPassword:de.a.forgotPassword}),Us=Ds.mapStateToProps,Is=Ds.mapDispatchToProps,Ms=Object(l.b)(Us,Is)(ws),Ps=(n(1053),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentWillReceiveProps=function(e,t){void 0!==e.user.error_message&&"USERS_FORGOT_PASSWORD_REQUEST"!==a.props.user.type?a.setState({input_error:e.user.error_message,is_disable_login_button:!1}):"/learn_autologin"===window.location.pathname&&(window.location.href="/dashboard")},a.handleInputChange=function(e,t){var n=Object(S.a)(a.state.inputs),s=n.indexOf(t);n[s]=Object(g.a)({},t),n[s].value=e.target.value,a.setState({inputs:n}),n.map((function(e){return e.is_valid=""!==e.value,e})),a.setState({is_disable_login_button:n.filter((function(e){return!1===e.is_valid})).length>0})},a.submitLoginForm=function(e){e.preventDefault();var t=Object(S.a)(a.state.inputs);if(t.map((function(e){return e.is_valid=""!==e.value,e})),a.setState({inputs:t}),0===t.filter((function(e){return!1===e.is_valid})).length){var n=Object(O.a)(t,2),s=n[0],i=n[1];a.props.login(s.value,i.value),a.setState({inputs:t,is_disable_login_button:!0})}},a.state={inputs:[{name:"email",type:"email",value:"",placeholder:"example@codingdojo.com",is_valid:!1},{name:"password",type:"password",value:"",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",is_valid:!1}],input_error:"",is_show_reset_password_modal:!1,is_show_retrieve_password_modal:!1,is_disable_login_button:!0},a}return Object($.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match;if(e&&e.params&&e.params.autologin_key){var t=e.params.redirect_page||null,n=e.params.user_level||"user";this.props.login(null,null,!0,e.params.autologin_key,t,n)}else"/learn_autologin"===window.location.pathname&&this.setState({is_disable_login_button:!0}),this.props.check_current_user()}},{key:"render",value:function(){var e=this,t=this.state,n=t.input_error,a=t.inputs,i=t.is_disable_login_button;return void 0!==this.props.user.redirect_to_enroll_app&&window.open(this.props.user.redirect_url,"_blank"),s.a.createElement("div",{id:"login_container"},s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/user/login/cd_black_logo.png",alt:"CodingDojo Logo"}),s.a.createElement("h5",null,"Log In"),s.a.createElement("form",{action:"",onSubmit:function(t){return e.submitLoginForm(t)}},void 0!==n&&""!==n&&s.a.createElement("span",{className:"input_error"},n),a.map((function(t){return s.a.createElement("div",{key:t.name,className:"form-group"},s.a.createElement("input",{type:t.type,name:t.name,className:"form-control ".concat(void 0!==n&&""!==n?"border_red":""),placeholder:t.placeholder,onChange:function(n){return e.handleInputChange(n,t)}}))})),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"checkbox hidden"},s.a.createElement("input",{type:"checkbox",className:"hidden",id:"remember_me_checkbox"}),s.a.createElement("label",{htmlFor:"remember_me_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(ue.a,{icon:["fas","check"]})),s.a.createElement("span",null,"Remember Me"))),s.a.createElement("button",{type:"button",id:"show_forgot_password",onClick:function(t){return Object(h.v)(e,"is_show_retrieve_password_modal",!0)}},"Forgot password?")),s.a.createElement("button",{disabled:i,type:"submit",className:"btn btn-primary"},"Let's Go!"))),s.a.createElement("div",{className:"right_container"},s.a.createElement("h1",null,"Learning To Code Is Fun."),s.a.createElement("span",{id:"block_background_1"}),s.a.createElement("span",{id:"block_background_2"}),s.a.createElement("span",{id:"block_background_3"})),s.a.createElement(Ms,{show:this.state.is_show_retrieve_password_modal,toggleShowModal:function(t){return Object(h.v)(e,"is_show_retrieve_password_modal",!1)}}))}}]),n}(a.Component)),Ns=Object(h.p)("user",{login:de.a.login,check_current_user:de.a.check_current_user}),Ls=Ns.mapStateToProps,js=Ns.mapDispatchToProps,Fs=Object(l.b)(Ls,js)(Ps),xs=(n(1054),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),a=t.call(this,e);var s=Object(h.g)();return a.state={is_logged_out:!1},!0===s.status&&(a.state=Object(g.a)(Object(g.a)({},a.state),{},{profile:s.user_details})),a.user={user_level_id:1},a}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){var e=this.props,t=e.onRemoveBookmark,n=e.onAddBookmark,a=(e.location,e.onAddActivityLog);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{user_info:this.state.profile,onAddActivityLog:a,onAddBookmark:n,onRemoveBookmark:t,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement(fe.a,{show:"true",centered:!0,backdrop:"static",keyboard:!1,className:"logout_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Logout")),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"You have successfully logged out."),s.a.createElement("p",null,"You will be redirected to the Login Page"))),");")}}]),n}(a.Component)),Bs=Object(h.p)("user",{logout:de.a.logout}),Ks=Bs.mapStateToProps,Ws=Bs.mapDispatchToProps,Hs=Object(l.b)(Ks,Ws)(xs),$s=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).fetch_user_checklists=function(){var e=this;return this.sendRequest("".concat(m.d.URL,"/checklists/fetch_checklist"),{},!0).then(h.h).then((function(t){return!0===t.status&&e.CurrentTrack.next(t.result.current_track),t}))},e.fetch_checklist_track_courses=function(e){return this.sendRequest("".concat(m.d.URL,"/checklists/fetch_track_course_checklist"),e,!0).then(h.h).then((function(e){return e}))},e.fetch_checklist_course_assignments=function(e){return this.sendRequest("".concat(m.d.URL,"/checklists/fetch_chapter_module_checklists"),e,!0).then(h.h).then((function(e){return e}))},e.getCurrentTrack=function(){return e.CurrentTrack.asObservable()},e.CurrentTrack=new xe.a(null),e}return n}(J.a)),qs=new function e(){Object(H.a)(this,e),this.get_user_checklist=function(){return function(e){e(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_REQUEST},{})),$s.fetch_user_checklists().then((function(t){!0===t.status?e(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_SUCCESS},{checklists:t.result})):e(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_FAILURE},{error:t.message}))}),(function(t){var n=Object(h.a)(t);e(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_FAILURE},{error:n}))}))}},this.get_checklist_track_courses=function(e){return function(t){t(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_COURSE_REQUEST},{})),$s.fetch_checklist_track_courses(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_COURSE_SUCCESS},{track_courses:e.result})):t(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_COURSE_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.bb.GET_USER_CHECKLISTS_COURSE_FAILURE},{error:n}))}))}},this.get_checklist_course_assignments=function(e){return function(t){t(Object(h.i)({type:m.bb.GET_USER_ASSIGNMENTS_REQUEST},{})),$s.fetch_checklist_course_assignments(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.bb.GET_USER_ASSIGNMENTS_SUCCESS},{assignments:e.result})):t(Object(h.i)({type:m.bb.GET_USER_ASSIGNMENTS_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.bb.GET_USER_ASSIGNMENTS_FAILURE},{error:n}))}))}}},Gs=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).markFeedbackAsRead=function(e){return this.sendRequest("".concat(m.d.URL,"/feedbacks/update_feedback"),e,!0).then(h.h).then((function(e){return e}))},e.CurrentTrack=new xe.a(null),e}return n}(J.a)),Qs=new function e(){Object(H.a)(this,e),this.markFeedbackAsRead=function(e){return function(t){t(Object(h.i)({type:m.fb.SET_FEEDBACK_AS_READ_REQUEST},{})),Gs.markFeedbackAsRead(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.fb.SET_FEEDBACK_AS_READ_SUCCESS},{assignments:e.result})):t(Object(h.i)({type:m.fb.SET_FEEDBACK_AS_READ_FAILURE},{error:e.result}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.fb.SET_FEEDBACK_AS_READ_FAILURE},{error:n}))}))}}},Vs=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.tracks.filter((function(t){return t.id===e.props.current_track_id})),n=Object(O.a)(t,1)[0],a=this.props.assignment,i=a.title,o=a.type,r=a.week,c=a.day,_=a.completed,l=a.difficulty_level,u=a.estimated_time,d=a.file,p=a.due_date,m=a.id,h=a.chapter_id,f=a.track_id,E=a.is_outside,g=d.user_files?d.user_files.file_url:"",b=d.user_files?d.user_files.file_url:"";if(null!==b&&b.includes("/boomyeah2015/codingdojo/")){var v=b.split("/");b=decodeURI(v[v.length-1])}return null===p&&(parseInt(r)>0?(p="Week ".concat(r),parseInt(c)>0&&(p+=" - ".concat(["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"][parseInt(c)]))):p=""),"Optional"===o&&(p=""),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("div",{className:"assignment_name_container"},s.a.createElement(Q.b,{to:"m/".concat(f,"/").concat(h,"/").concat(m),target:"_blank"},i),this.props.assignment.feedback&&s.a.createElement("button",{type:"button",className:"feedback_icon ".concat(this.props.assignment.feedback.is_read?"":"unread_feedback"),onClick:function(){return e.props.onShowAssignmentFeedbackModal(n,e.props.course,e.props.assignment)}}))),s.a.createElement("td",null,o),s.a.createElement("td",null,p),s.a.createElement("td",null,_?E?s.a.createElement("span",{className:"outside_sched"},s.a.createElement(ue.a,{icon:["fas","check"]}),"Out-of-schedule"):s.a.createElement(ue.a,{icon:["fas","check"]}):""),s.a.createElement("td",null,l),s.a.createElement("td",null,u),s.a.createElement("td",null,""!==g&&s.a.createElement("a",{href:g,target:"_blank"},s.a.createElement(ue.a,{icon:["fas","file-code"]}))))}}]),n}(a.Component),zs=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleOnClickChangeCarret=function(e,t){return function(n){a.setState({accordion_status:!a.state.accordion_status}),a.props.get_checklist_course_assignments({track_id:e,track_course_id:t})}},a.state={accordion_status:!0},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.course,n=t.id,a=t.track_id,i=t.course_alias,o=t.course_icon_src,r=t.progress,c=this.props.checklists.assignments;return s.a.createElement(wn.a,null,s.a.createElement(yn.a.Toggle,{as:wn.a.Header,eventKey:n,onClick:this.handleOnClickChangeCarret(a,n)},s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:o,alt:"track icon"}),s.a.createElement("h6",null,i)),s.a.createElement("div",{className:"right_container"},s.a.createElement("span",{className:"badge ".concat(r<100?"blue":"")},r||0,"%"),s.a.createElement("button",{type:"button"},s.a.createElement(ue.a,{icon:["fas","".concat(this.state.accordion_status?"chevron-up":"chevron-down")]})))),s.a.createElement(yn.a.Collapse,{eventKey:n},s.a.createElement(s.a.Fragment,null,null===c&&!1===this.state.accordion_status?s.a.createElement("span",null,"Fetching content. Please wait."):s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Assignment"),s.a.createElement("th",null,"Type"),s.a.createElement("th",{className:"due_date_th"},"Due Date"),s.a.createElement("th",null,"Completed"),s.a.createElement("th",null,"Difficulty"),s.a.createElement("th",{className:"estimate_time_th"},"Est. Time"),s.a.createElement("th",null,"File"))),s.a.createElement("tbody",null,null!==c&&c.map((function(t){return s.a.createElement(Vs,{key:t.id,tracks:e.props.tracks,current_track_id:e.props.current_track_id,course:e.props.course,assignment:t,onShowAssignmentFeedbackModal:e.props.onShowAssignmentFeedbackModal})})))))))}}]),n}(a.Component),Ys=Object(h.p)("checklists",{get_checklist_course_assignments:qs.get_checklist_course_assignments}),Js=Ys.mapStateToProps,Xs=Ys.mapDispatchToProps,Zs=Object(l.b)(Js,Xs)(zs),ei=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.track,n=t.id,a=t.title,i=t.stack_schedule,o=this.props.current_track;return s.a.createElement("li",null,s.a.createElement("button",{type:"button",onClick:function(){return e.props.onChangeStack(n,a)},className:n===o?"active":""},a,(null===i||void 0===i?void 0:i.start_date)&&(null===i||void 0===i?void 0:i.end_date)?s.a.createElement("span",null,"(",s.a.createElement($n.a,{format:"L"},i.start_date)," - ",s.a.createElement($n.a,{format:"L"},i.end_date),")"):"",s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement(ue.a,{icon:["fas","chevron-right"]}))))}}]),n}(a.Component),ti=(n(1055),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.assignment,n=t.feedback,a=t.track_id,i=t.chapter_id,o=t.id,r=t.title,c=n.image_url,_=n.name,l=n.posted_date,u=n.content,d=this.props.track.title,p=this.props.course.course_alias,h="".concat(m.d.LP3_FRONTEND_URL,"m/").concat(a,"/").concat(i,"/").concat(o);return s.a.createElement(fe.a,{id:"view_feedback_modal",show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(fe.a.Header,null,s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},s.a.createElement("span",{className:"close_icon"})),s.a.createElement("img",{src:c||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Instructor Image"}),s.a.createElement("div",{className:"right_container"},s.a.createElement("h5",null,_)," ",s.a.createElement("span",null,Ge()(l).format("MMM D, YYYY"))," ",s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("a",{href:h,target:"_blank"},d)),s.a.createElement("li",null,s.a.createElement("a",{href:h,target:"_blank"},p)),s.a.createElement("li",null,s.a.createElement("a",{href:h,target:"_blank"},r))))),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,u)))}}]),n}(a.Component)),ni=(n(1056),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).resizeBrowser=function(){a.setState({is_mobile:window.innerWidth<=768})},a.componentWillUnmount=function(){a.currentStackSubscription.unsubscribe(),window.removeEventListener("resize",a.resizeBrowser.bind(Object(re.a)(a)))},a.handleChangeStacks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0;void 0!==e&&e!==a.props.checklists.current_track&&(a.fetchChecklistTrackCourses(e),window.scrollTo(0,0)),a.state.is_mobile?(a.fetchChecklistTrackCourses(e),a.setState({show_courses:!0,active_track_title:t})):a.setState({show_courses:!1})},a.fetchTrackChecklist=function(){a.props.get_user_checklist()},a.fetchChecklistTrackCourses=function(e){a.props.get_checklist_track_courses({track_id:e})},a.showAssignmentFeedbackModal=function(e,t,n){n.feedback.is_read===m.v&&(n.feedback.is_read=m.U,a.props.mark_feedback_as_read({id:n.feedback.id,is_read:m.U})),a.setState({is_show_feedback_modal:!0,track:e,course:t,chapter_module:n})},a.current_user=Object(h.g)()||null,a.state={is_show_feedback_modal:!1,track:null,course:null,chapter_module:null,show_courses:!1,is_mobile:!1,active_track_title:""},a}return Object($.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.fetchTrackChecklist(),this.currentStackSubscription=$s.getCurrentTrack().subscribe((function(t){null!==t&&e.fetchChecklistTrackCourses(t)})),this.props.onSaveUserSessionPage({page_type_id:m.N,track_id:0,course_id:0,chapter_id:0,chapter_module_id:0}),window.addEventListener("resize",this.resizeBrowser.bind(this)),this.resizeBrowser(),this.setState({show_courses:!1,active_track_title:0!==this.props.checklists.user_checklist.length&&this.props.checklists.user_checklist[0].title})}},{key:"render",value:function(){var e=this,t=this.props.checklists,n=t.current_track,a=t.track_courses,i=t.user_checklist,o=this.state,r=o.track,c=o.course,_=o.chapter_module;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{user_info:this.current_user.user_details,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{id:"progress_container",className:"container"},s.a.createElement(at,{history:this.props.history,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_dark_mode:this.props.is_dark_mode,onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,location:this.props.location.pathname,bookmarks:this.props.bookmarks}),0===i.length?s.a.createElement("div",{className:"blk",id:"no_tracks_progress_indicator"},"No unlocked tracks yet."):s.a.createElement("div",{className:"blk ".concat(this.state.show_courses?"show_courses":" hide_courses")},s.a.createElement("ul",{className:"list-unstyled"},i.map((function(t){return s.a.createElement(ei,{key:t.id,current_track:n,onChangeStack:e.handleChangeStacks,track:t})}))),s.a.createElement("div",{id:"accordion_container"},s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("h5",null,s.a.createElement("button",{type:"button",onClick:function(){return e.setState({show_courses:!1})}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]}))," ",this.props.checklists.user_checklist.length&&this.props.checklists.user_checklist.filter((function(t){if(t.id===e.props.checklists.current_track)return t.title}))[0].title)),s.a.createElement(yn.a,{defaultActiveKey:"0"},a.map((function(t){return s.a.createElement(Zs,{tracks:i,current_track_id:n,course:t,key:t.id,onShowAssignmentFeedbackModal:e.showAssignmentFeedbackModal})}))))),r&&c&&_?s.a.createElement(ti,{track:r,course:c,assignment:_,show:this.state.is_show_feedback_modal,centered:!0,toggleShowModal:function(t){return Object(h.v)(e,"is_show_feedback_modal",!1)}}):null))}}]),n}(a.Component)),ai=Object(h.p)(["checklists","feedbacks"],{get_user_checklist:qs.get_user_checklist,get_checklist_track_courses:qs.get_checklist_track_courses,mark_feedback_as_read:Qs.markFeedbackAsRead}),si=ai.mapStateToProps,ii=ai.mapDispatchToProps,oi=Object(l.b)(si,ii)(ni),ri=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){return s.a.createElement(ce.a,{id:"exam_header",expand:"lg"},s.a.createElement("div",{className:"container"},s.a.createElement(ce.a.Brand,{href:"/dashboard"},"Coding Dojo ",s.a.createElement("span",{className:"belt_exam"},"BELT EXAM")),s.a.createElement(ce.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(le.a,{className:"mr-auto"},s.a.createElement(Q.b,{to:"/dashboard",id:"back_to_learn_btn"},"BACK TO LEARN"),s.a.createElement(pe.a,null)))))}}]),n}(a.Component);var ci=function(e){var t=e.start_date,n=function(){var e=(new Date).setHours((new Date).getHours()-5),n=t-e,a={};return n>0&&(a={Days:Math.floor(n/864e5),Hours:Math.floor(n/36e5%24),Minutes:Math.floor(n/1e3/60%60),Seconds:Math.floor(n/1e3%60)}),a},i=Object(a.useState)(n()),o=Object(O.a)(i,2),r=o[0],c=o[1],_=Object(a.useState)((new Date).getFullYear()),l=(Object(O.a)(_,1)[0],[]);return Object(a.useEffect)((function(){setTimeout((function(){c(n())}),1e3)})),Object.keys(r).forEach((function(e){r[e]&&l.push(s.a.createElement("span",{key:Math.random()*r[e]},s.a.createElement("small",null,r[e]),e," "))})),s.a.createElement(s.a.Fragment,null,l.length?l:s.a.createElement("span",null,"Time's up!"))},_i=(n(1057),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleAnswerForm=function(e){e.preventDefault();var t=a.state.user,n=t.file,s=t.video;n.is_valid&&s.is_valid&&alert("valid to submit")},a.handleOnBlurVideoUrl=function(e){var t=Object(g.a)({},a.state.user);a.checkValidURL(e.target.value)?t.video.url=e.target.value:t.video.url="",a.setState({user:t})},a.checkValidURL=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},a.handleValidateFileSize=function(e){var t=e.target.files[0];if(void 0!==t){var n=Object(g.a)({},a.state.user),s=!(t.size/1024/1024>10);n.file.is_valid=s,n.file.name=s?t.name:"",a.setState({user:n})}},a.state={exam:{started:{date:"15 July 2020 PST",time:"23:18"},end:{date:"16 July 2020 PST",time:"04:18"}},time_remaining:{hour:5,minutes:0,seconds:0},user:{file:{is_valid:!0,name:""},video:{is_valid:!0,url:""}},start_date:(new Date).getTime()},a}return Object($.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.exam,n=e.start_date,a=e.user;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ri,null),s.a.createElement("div",{id:"taking_exam_container",className:"container"},s.a.createElement("div",{className:"blk"},s.a.createElement("div",{className:"top"},s.a.createElement("h6",null,"You have unlocked the Belt Exam (HTML + CSS) ",s.a.createElement(ue.a,{icon:["fas","info-circle"]})),s.a.createElement("a",{href:"/exam"},"Option B (Dominion)"),s.a.createElement("a",{href:"/dashboard",className:"link"},"Cancel the exam")),s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement("h6",null,"Exam Started"),s.a.createElement("h4",null,t.started.time),s.a.createElement("h5",null,t.started.date)),s.a.createElement("li",{className:"timer"},s.a.createElement(ci,{start_date:n})," Left"),s.a.createElement("li",{className:"exam_end_item"},s.a.createElement("h6",null,"Exam Ends"),s.a.createElement("h4",null,t.end.time),s.a.createElement("h5",null,t.end.date)))),s.a.createElement("form",{className:"blk",onSubmit:this.handleAnswerForm},s.a.createElement("div",{className:"left_container"},s.a.createElement("h6",null,"Zip your exam files and upload it here"),s.a.createElement("p",{className:a.file.is_valid?"":"invalid"},"Maximum file size 10 MB"),s.a.createElement("label",{htmlFor:"upload_files_input"},"Upload Files",s.a.createElement("input",{id:"upload_files_input",onChange:this.handleValidateFileSize,className:"hidden",type:"file",accept:"zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed"})),""===a.file.name?"":s.a.createElement("small",null,a.file.name)),s.a.createElement("div",{className:"right_container"},s.a.createElement("h6",null,"Provide us your exam video demo"),s.a.createElement("p",null,"You can still provide the url even after the given time limit"),s.a.createElement("input",{type:"url",id:"video_url_input",required:!0,onBlur:this.handleOnBlurVideoUrl,placeholder:"Add Video URL"}),s.a.createElement("button",{type:"submit"},"Save")))))}}]),n}(a.Component)),li=Z.saveUserSessionPage,ui=Z.updateUserSessionPage,di=Object(h.p)(["analytics"],{saveUserSessionPage:li,updateUserSessionPage:ui}),pi=di.mapStateToProps,mi=di.mapDispatchToProps,hi=Object(l.b)(pi,mi)(_i),fi=(n(1058),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).clickCourseLink=function(){e.props.onAddActivityLog("1.15.3")},e}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.course;return s.a.createElement("li",{className:"course_item ".concat(t[0].course_progress&&t[0].course_progress.overall.percentage>=100?"completed":"")},!1===t[0].link.includes("http://")&&s.a.createElement("a",{href:t[0].link,onClick:function(){return e.clickCourseLink()}},s.a.createElement("img",{src:t[0].image_src.includes("/assets/tracks")?"https://s3.amazonaws.com/General_V88/boomyeah2015/codingdojo/course_icons/workshop.png":t[0].image_src,alt:t[0].name}),s.a.createElement("span",null,t[0].name)),!0===t[0].link.includes("http://")&&s.a.createElement("a",{href:t[0].link,target:"_blank",onClick:function(){return e.clickCourseLink()}},s.a.createElement("img",{src:t[0].image_src,alt:t[0].name}),s.a.createElement("span",null,t[0].name)))}}]),n}(a.Component)),Ei=(n(1059),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.get_user_enrolled_tracks(),a.props.onSaveUserSessionPage({page_type_id:m.D})},a.isToggleShowTrack=function(e){var t=a.props.tracks.enrolled_tracks;if(t){for(var n in t)t[n].id===e&&(t[n].is_open=!t[n].is_open);a.props.isToggleShowTrack(t)}},a.state={profile:null};var s=Object(h.g)();return!0===s.status&&(a.state=Object(g.a)(Object(g.a)({},a.state),{},{profile:s.user_details})),a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{user_info:this.state.profile,onAddActivityLog:this.props.onAddActivityLog,onAddBookmark:this.props.onAddBookmark,onRemoveBookmark:this.props.onRemoveBookmark,history:this.props.history,is_dark_mode:this.props.is_dark_mode,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage}),s.a.createElement("div",{id:"tracks_container",className:"container"},s.a.createElement(at,{history:this.props.history,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_dark_mode:this.props.is_dark_mode,onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,location:this.props.location.pathname,bookmarks:this.props.bookmarks}),s.a.createElement("ul",{className:"list-unstyled",id:"tracks_list"},this.props.tracks.enrolled_tracks.map((function(t){return void 0!==t.courses&&s.a.createElement("li",{key:t.id,className:t.is_open?"is_open":""},s.a.createElement("h5",{onClick:function(){return e.isToggleShowTrack(t.id)},role:"button"},t.title,s.a.createElement(Ie.a,{maxWidth:768},s.a.createElement("button",{type:"button"},s.a.createElement(ue.a,{icon:["fas","chevron-up"]})))),s.a.createElement("ul",{className:"list-unstyled courses_list"},void 0!==t.courses&&t.courses.map((function(t){return s.a.createElement(fi,{track:e.props.track,course:t,key:t[0].id,onAddActivityLog:e.props.onAddActivityLog})}))))})))))}}]),n}(a.Component)),gi=he.get_user_enrolled_tracks,bi=he.isToggleShowTrack,vi=Object(h.p)("tracks",{get_user_enrolled_tracks:gi,isToggleShowTrack:bi}),Si=vi.mapStateToProps,Oi=vi.mapDispatchToProps,ki=Object(l.b)(Si,Oi)(Ei),Ti=(n(1060),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={belt_name:"Webfun",finished_count:723},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,id:"belt_achievement_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Congratulations!"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/big_webfun_belt.png",alt:"Installment Due Reminder Icon"}),s.a.createElement("p",null,"You just earned the ",s.a.createElement("span",null,this.state.belt_name," Belt"),"!"),s.a.createElement("p",null,this.state.finished_count," other Coding Dojo community members just like you have unlocked this achievement.")),s.a.createElement(fe.a.Footer,null,s.a.createElement("p",null,"Spread the news. Make \u2018em jealous."),s.a.createElement("a",{href:"#",className:"twitter_icon"}),s.a.createElement("a",{href:"#",className:"instagram_icon"}),s.a.createElement("a",{href:"#",className:"linkedin_icon"}),s.a.createElement("a",{href:"#",className:"facebook_icon"}),s.a.createElement("a",{href:"#",className:"reddit_icon"})))}}]),n}(a.Component)),Ci=n(359),Ai=n(360),Ri=Object(V.h)((function(e){return e.history.listen((function(e,t){Y.a.set({page:e.pathname}),Y.a.pageview(e.pathname)})),s.a.createElement("div",null)})),yi=(n(1064),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleSubmitResume=function(e){e.preventDefault(),a.handleValidation()&&alert("Saved")},a.state={fields:{},errors:{},is_success:!1},a}return Object($.a)(n,[{key:"handleOnChangeField",value:function(e,t){var n=this.state.fields;n[e]=t.target.value,this.setState({fields:n})}},{key:"handleValidation",value:function(){var e={},t=!0;return this.state.fields.resume_url||(t=!1,e.resume_url=!0),this.setState({errors:e}),t}},{key:"render",value:function(){var e=this,t=this.state,n=t.errors,a=t.fields;return s.a.createElement(fe.a,{id:"upload_resume_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(fe.a.Header,null,s.a.createElement("h4",null,"Upload Your Resume"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/modals/resume_file.png",alt:"Upload Resume Icon"}),s.a.createElement("p",null,"Please upload your most updated resume for career services."),s.a.createElement("form",{action:"",onSubmit:this.handleSubmitResume},s.a.createElement("label",{htmlFor:"upload_resume_input",className:n.resume_url?"border_red":""},"Click to ",void 0===a.resume_url?"attach":"change","  your resume",s.a.createElement("input",{id:"upload_resume_input",className:"hidden",onChange:this.handleOnChangeField.bind(this,"resume_url"),type:"file"}),s.a.createElement("small",null,a.resume_url)),s.a.createElement("button",{type:"submit"},"Continue"))))}}]),n}(a.Component));h.l.listen((function(e){Y.a.set({page:e.pathname}),Y.a.pageview(e.pathname)}));var wi=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidUpdate=function(){a.getUserDetails(),a.state.is_dark_mode?document.body.classList.add("is_dark_mode"):document.body.classList.remove("is_dark_mode")},a.getUserDetails=function(){var e=Object(h.g)();!0===e.status&&e.user_details.general&&(a.current_user=e.user_details)},a.removeBookmark=function(e,t,n){e.preventDefault(),parseInt(t)>0&&parseInt(n)>0&&a.props.remove_user_bookmark(t,{user_bookmark_id:n})},a.addBookmark=function(e,t){e.preventDefault(),void 0!==t&&a.props.save_new_user_bookmarks(t.chapter_module_id,{title:t.title,track_course_id:t.track_course_id,chapter_module_url:"m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.chapter_module_id)})},a.saveUserSessionPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking&&!a.props.analytics.is_session_page_saving&&m.Y.includes(parseInt(a.current_user.general.user_level_id))){var n=Object(g.a)(Object(g.a)({},e),{},{page_title:document.title,page_url:window.location.pathname});a.last_session_page_post_data=n,a.is_ended_session_page=!1,a.updateUserSessionPage(window.location.pathname,t),a.props.saveUserSessionPage(n)}},a.updateUserSessionPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking){var n=a.props.analytics,s=!0;if("object"===typeof e&&(a.mouse_leave_at=(new Date).getTime(),a.mouse_enter_at=void 0,s=!1),n.activity_logs.length>0&&!1===n.is_saving_logs&&a.props.saveSessionActivitylog({user_session_page_id:n.active_user_session_page_id,activity_logs:n.activity_logs}),n.active_user_session_page_id&&!1===a.props.analytics.is_session_page_updating&&m.Y.includes(parseInt(a.current_user.general.user_level_id))&&!0===s){var i={user_session_page_id:n.active_user_session_page_id};void 0!==t&&(i.ended_at_override=t.ended_at_override||void 0),a.props.updateUserSessionPage(i),a.is_ended_session_page=!0}}},a.createNewUserSessionPage=function(){if(a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking){var e=!0;a.mouse_enter_at=(new Date).getTime();var t=void 0,n=0;void 0!==a.mouse_enter_at&&void 0!==a.mouse_leave_at&&(e=(n=Math.round((a.mouse_enter_at-a.mouse_leave_at)/1e3))>=60,a.is_ended_session_page=n>=60,n>=60&&(t={ended_at_override:a.mouse_leave_at})),a.is_ended_session_page&&void 0!==a.last_session_page_post_data&&!0===e&&(0===n||n>=60&&n<1800)&&a.saveUserSessionPage(a.last_session_page_post_data,t)}},a.addActivityLog=function(e){if(a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking){var t=a.props.analytics;t&&t.active_user_session_page_id&&m.Y.includes(parseInt(a.current_user.general.user_level_id))&&(a.props.storeActivitylog([t.active_user_session_page_id,e,new Date]),a.props.analytics.activity_logs.length>=10&&!1===a.props.analytics.is_saving_logs&&a.props.saveSessionActivitylog({user_session_page_id:a.props.analytics.active_user_session_page_id,activity_logs:a.props.analytics.activity_logs}))}},a.onChangeDarkMode=function(){var e=!0!==a.state.is_dark_mode;!0===e?document.body.classList.add("is_dark_mode"):document.body.classList.remove("is_dark_mode"),a.addActivityLog(!0===e?"3.1.23":"3.1.24"),localStorage.setItem("PANAGSIPNGET",e),a.setState({is_dark_mode:e})},a.startAFKTimer=function(){a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking&&(a.timeoutID=window.setTimeout(a.userGoInactive,2e3))},a.resetAFKTimer=function(e){a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking&&(window.clearTimeout(a.timeoutID),a.userGoActive())},a.userGoInactive=function(){a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking&&(a.mouse_activity_stop_at=(new Date).getTime(),a.mouse_activity_continued_at=void 0)},a.userGoActive=function(){if(a.current_user&&a.current_user.general&&!a.current_user.general.disable_ua_tracking){if(void 0!==a.mouse_activity_stop_at){var e=a.mouse_activity_stop_at;a.mouse_activity_continued_at=(new Date).getTime();var t=Math.round((a.mouse_activity_continued_at-a.mouse_activity_stop_at)/1e3);if(a.mouse_activity_stop_at=void 0,a.mouse_activity_continued_at=void 0,t>=1800){var n=a.props.analytics;void 0!==n&&!1===n.is_resetting_session&&null!==n.active_user_session_id&&null!==n.active_user_session_page_id&&(n.activity_logs.length>0&&!1===n.is_saving_logs&&a.props.saveSessionActivitylog({user_session_page_id:n.active_user_session_page_id,activity_logs:n.activity_logs}),a.props.resetAnalyticsSession({user_session_id:a.props.analytics.active_user_session_id,user_session_page_id:a.props.analytics.active_user_session_page_id,ended_at_override:e,last_session_page_post_data:a.last_session_page_post_data}))}}a.startAFKTimer()}},a.storeInitialURL=function(){null!==a.current_user||["/login","/learn_autologin","/logout"].includes(window.location.pathname)||localStorage.setItem("visited_urls",window.location.pathname)},a.getInitialURL=function(){var e=localStorage.getItem("visited_urls");return localStorage.removeItem("visited_urls"),e},a.current_user=null,a.onDocumentMouseLeaveSubscription=void 0,a.onDocumentMouseEnterSubscription=void 0,a.onDocumentMouseMoveSubscription=void 0,a.onDocumentMouseWheelSubscription=void 0,a.onDocumentDOMMouseScrollSubscription=void 0,a.is_ended_session_page=!1,a.last_session_page_post_data=void 0,a.current_page_link=void 0,a.mouse_leave_at=void 0,a.mouse_enter_at=void 0,a.mouse_activity_stop_at=void 0,a.mouse_activity_continued_at=void 0,a.timeoutID=void 0,a.state={bookmarks:[],is_dark_mode:!0===Object(h.m)()},a.userSubscription=te.a.getCurrentUser().subscribe((function(e){if(void 0!==e&&null!==e&&!0===e.is_logged_in){if(a.current_user=e.user_details,a.current_user&&a.current_user.general){var t=a.current_user.general.is_dark_mode,n=t&&t===m.mb||null;n&&n!==a.state.is_dark_mode&&a.setState({is_dark_mode:n})}}else a.current_user=null})),a}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.getUserDetails(),this.state.is_dark_mode?document.body.classList.add("is_dark_mode"):document.body.classList.remove("is_dark_mode"),Y.a.pageview(window.location.pathname)}},{key:"componentWillMount",value:function(){this.getUserDetails(),this.onDocumentMouseLeaveSubscription=document.addEventListener("mouseleave",this.updateUserSessionPage,!1),this.onDocumentMouseEnterSubscription=document.addEventListener("mouseenter",this.createNewUserSessionPage,!1),this.onDocumentMouseMoveSubscription=document.addEventListener("mousemove",this.resetAFKTimer,!1),this.onDocumentMouseWheelSubscription=document.addEventListener("mousewheel",this.resetAFKTimer,!1),this.onDocumentDOMMouseScrollSubscription=document.addEventListener("DOMMouseScroll",this.resetAFKTimer,!1),this.startAFKTimer(),this.storeInitialURL()}},{key:"componentWillUnmount",value:function(){void 0!==this.userSubscription&&this.userSubscription.unsubscribe(),void 0!==this.onDocumentMouseLeaveSubscription&&this.onDocumentMouseLeaveSubscription.unsubscribe(),void 0!==this.onDocumentMouseEnterSubscription&&this.onDocumentMouseEnterSubscription.unsubscribe(),void 0!==this.onDocumentMouseMoveSubscription&&this.onDocumentMouseMoveSubscription.unsubscribe(),void 0!==this.onDocumentMouseWheelSubscription&&this.onDocumentMouseWheelSubscription.unsubscribe(),void 0!==this.onDocumentDOMMouseScrollSubscription&&this.onDocumentDOMMouseScrollSubscription.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.state.bookmarks;return(void 0===this.current_page_link||void 0!==this.current_page_link&&this.current_page_link!==window.location.pathname)&&(this.current_page_link=window.location.pathname),s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.a,{history:h.l},s.a.createElement(Ri,null),s.a.createElement(V.d,null,s.a.createElement(V.b,{exact:!0,path:"/",render:function(){return null!==e.current_user?s.a.createElement(V.a,{to:{pathname:"/dashboard",state:{from:"/"}}}):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:"/"}}})}}),s.a.createElement(V.b,{path:"/login",render:function(t){return null!==e.current_user?s.a.createElement(V.a,{to:{pathname:e.getInitialURL()||"/dashboard",state:{from:t.location}}}):s.a.createElement(Fs,null)}}),s.a.createElement(V.b,{path:"/learn_autologin",render:function(e){return s.a.createElement(Fs,null)}}),s.a.createElement(V.b,{path:"/logout",render:function(n){return null!==e.current_user?s.a.createElement(Hs,Object.assign({},n,{handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:t,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:n.location}}})}}),s.a.createElement(V.b,{path:"/autologin/:autologin_key/:redirect_page?/:user_level?",render:function(t){return null!==e.current_user?s.a.createElement(V.a,{to:{pathname:"/dashboard",state:{from:"/login"}}}):s.a.createElement(Fs,t)}}),s.a.createElement(V.b,{path:"/contact",render:function(t){return s.a.createElement(_t,Object.assign({},t,{onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,handleOnChangeDarkMode:e.onChangeDarkMode,onUpdateUserSessionPage:e.updateUserSessionPage,workspace_id:e.props.user.user_details.workspace.workspace_id}))}}),s.a.createElement(V.b,{path:"/dashboard/:custom_feature",render:function(n){return null!==e.current_user?s.a.createElement(Os,Object.assign({},n,{handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:t,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:n.location}}})}}),s.a.createElement(V.b,{path:"/dashboard",render:function(n){return null!==e.current_user?s.a.createElement(Os,Object.assign({},n,{handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:t,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:n.location}}})}}),s.a.createElement(V.b,{path:"/tracks",render:function(n){return null!==e.current_user?s.a.createElement(ki,Object.assign({},n,{handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:t,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:n.location}}})}}),s.a.createElement(V.b,{path:"/m/:track_id/:chapter_id/:module_id",render:function(t){return null!==e.current_user?s.a.createElement(Aa,Object.assign({},t,{is_online_discussion:"false",handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:e.state.bookmarks,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:t.location}}})}}),s.a.createElement(V.b,{path:"/d/:track_id/:week_id/:question_id",render:function(t){return null!==e.current_user?s.a.createElement(Aa,Object.assign({},t,{is_online_discussion:"true",handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:e.state.bookmarks,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:t.location}}})}}),s.a.createElement(V.b,{path:"/progress",render:function(t){return null!==e.current_user?s.a.createElement(oi,Object.assign({},t,{handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:e.state.bookmarks,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:t.location}}})}}),s.a.createElement(V.b,{path:"/belt_exam_history",render:function(t){return null!==e.current_user?s.a.createElement(ct,Object.assign({},t,{handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:e.state.bookmarks,onSaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:t.location}}})}}),s.a.createElement(V.b,{path:"/exams",render:function(t){return null!==e.current_user?s.a.createElement(ys,Object.assign({},t,{handleOnChangeDarkMode:e.onChangeDarkMode,is_dark_mode:e.state.is_dark_mode,onRemoveBookmark:e.removeBookmark,onAddBookmark:e.addBookmark,bookmarks:e.state.bookmarks,onsaveUserSessionPage:e.saveUserSessionPage,onAddActivityLog:e.addActivityLog,onUpdateUserSessionPage:e.updateUserSessionPage})):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:t.location}}})}}),s.a.createElement(V.b,{path:"/taking_exam",render:function(t){return null!==e.current_user?s.a.createElement(hi,t):s.a.createElement(V.a,{to:{pathname:"/login",state:{from:t.location}}})}}),s.a.createElement(V.a,{from:"*",to:"/"})),s.a.createElement(Ci.a,{history:h.l}),s.a.createElement(Ai.a,{history:h.l})),s.a.createElement(Ti,{show:!1,toggleShowModal:function(){return Object(h.v)(e,"is_show_belt_achievement_modal",!1)}}),s.a.createElement(yi,{show:!1,toggleShowModal:function(){return Object(h.v)(e,"is_show_upload_resume_modal",!1)}}),s.a.createElement(z.a,{onBeforeunload:function(t){return e.updateUserSessionPage}}))}}]),n}(a.Component),Di=Z.saveUserSessionPage,Ui=Z.updateUserSessionPage,Ii=Z.storeActivitylog,Mi=Z.saveSessionActivitylog,Pi=Z.createUserSession,Ni=Z.resetAnalyticsSession,Li=Object(h.p)(void 0,{remove_user_bookmark:ee.a.remove_user_bookmark,save_new_user_bookmarks:ee.a.save_new_user_bookmarks,saveUserSessionPage:Di,updateUserSessionPage:Ui,storeActivitylog:Ii,saveSessionActivitylog:Mi,createUserSession:Pi,resetAnalyticsSession:Ni}),ji=Li.mapStateToProps,Fi=Li.mapDispatchToProps,xi=Object(l.b)(ji,Fi)(wi),Bi=(n(1065),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;Object(H.a)(this,n),(a=t.call(this,e)).submitted_bug=function(e){!1===a.state.will_submit&&a.setState({will_submit:!0})},a.state={will_submit:!1},window.location="https://bugtracker.zoho.com/portal/village88dotcom/bugiframe.do?projId=0d2e05f11be2295c83b121cfbb3127d3d43abb253aaa6ba1&fId=0d2e05f11be2295c83b121cfbb3127d3e821f6e6e45f96ea&action=getiframe&embed=false";var s=Object(h.g)();return!0===s.status&&(a.state=Object(g.a)(Object(g.a)({},a.state),{},{profile:s.user_details})),a}return Object($.a)(n,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{location:this.props.location.pathname,report_issue:!0,user_info:this.state.profile}),s.a.createElement("iframe",{id:"report_issue_iframe",onLoad:this.submitted_bug(),src:"https://bugtracker.zoho.com/portal/village88dotcom/bugiframe.do?projId=0d2e05f11be2295c83b121cfbb3127d3d43abb253aaa6ba1&fId=0d2e05f11be2295c83b121cfbb3127d3e821f6e6e45f96ea&action=getiframe&embed=false"}))}}]),n}(a.Component)),Ki=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).uploadModuleFiles=function(e,t){var n,a=new FormData,s=Object(lt.a)(e.files);try{for(s.s();!(n=s.n()).done;){var i=n.value;a.append("files[]",i,i.name)}}catch(o){s.e(o)}finally{s.f()}return this.sendRequest("".concat(m.d.URL,"/admin/modules/").concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.chapter_module_id,"/upload"),a,!0,!0).then(h.h).then((function(e){t.complete(e)})).catch((function(e){t.complete(e)}))},e.updateChapterModule=function(e){var t=e.track_id,n=e.chapter_id,a=e.chapter_module_id,s=e.params_data;return this.sendRequest("".concat(m.d.URL,"/admin/modules/").concat(t,"/").concat(n,"/").concat(a,"/update"),{chapter_module_id:a,details:s},!0).then(h.h).then((function(e){return e}))},e.removeChapterModule=function(e){var t=e.track_id,n=e.chapter_id,a=e.chapter_module_id;return this.sendRequest("".concat(m.d.URL,"/admin/modules/").concat(t,"/").concat(n,"/").concat(a,"/remove"),{chapter_id:n,chapter_module_id:a},!0).then(h.h).then((function(e){return e}))},e.duplicateChapterModule=function(e){var t=e.track_id,n=e.chapter_id,a=e.chapter_module_id,s=e.new_chapter_id;return this.sendRequest("".concat(m.d.URL,"/admin/modules/").concat(t,"/").concat(n,"/").concat(a,"/duplicate"),{chapter_module_id:a,chapter_id:n,new_chapter_id:s},!0).then(h.h).then((function(e){return e}))},e.fetchFilteredStudents=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/filter_students"),e,!0).then(h.h).then((function(e){return e}))},e.fetchFilterOptions=function(){return this.sendRequest("".concat(m.d.URL,"/admin/filter_options"),{},!0).then(h.h).then((function(e){return e}))},e.updateFilterOptions=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/update_filter_options"),e,!0).then(h.h).then((function(e){return e}))},e.assignStudentToInstructor=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/assign_student_to_instructor"),e,!0).then(h.h).then((function(e){return e}))},e.fetchAssignmentMonitoringFilters=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/assignment_monitoring/filter_options"),e,!0).then(h.h).then((function(e){return e}))},e}return n}(J.a)),Wi=new function e(){Object(H.a)(this,e),this.fetchAdminCoursePageData=function(e){return function(t){t(Object(h.i)({type:m.f.FETCH_ADMIN_COURSE_PAGE_DATA_REQUEST},{})),pt.a.fetchCoursePageData(e,!0).then((function(e){if(!0===e.status){var n=e.result.active_module,a=n.content,s=n.program_types;if(e.result.active_module.content=JSON.parse(a)||{},e.result.active_module.program_types=null!==s&&s.split(",").map((function(e){return parseInt(e)})).filter((function(e){return!1===isNaN(e)}))||[],void 0!==e.result.active_module.content.data&&void 0!==e.result.active_module.content.data.questions)for(var i=0;i<e.result.active_module.content.data.questions.length;i++)if(void 0===e.result.active_module.content.data.questions[i].id&&(e.result.active_module.content.data.questions[i].id=i),void 0!==e.result.active_module.content.data.questions[i].choices&&e.result.active_module.content.data.questions[i].choices.length>0)for(var o=0;o<e.result.active_module.content.data.questions[i].choices.length;o++)void 0===e.result.active_module.content.data.questions[i].choices[o].id&&(e.result.active_module.content.data.questions[i].choices[o].id=o);if(e.result.chapters.length>0)for(var r=0;r<e.result.chapters.length;r++)if(void 0!==e.result.chapters[r].chapter_modules&&e.result.chapters[r].chapter_modules.length>0)for(var c=0;c<e.result.chapters[r].chapter_modules.length;c++){var _=e.result.chapters[r].chapter_modules[c],l=_.content,u=_.program_types;e.result.chapters[r].chapter_modules[c].content=JSON.parse(l)||{},e.result.chapters[r].chapter_modules[c].program_types=null!==u&&u.split(",").map((function(e){return parseInt(e)})).filter((function(e){return!1===isNaN(e)}))||[]}t(Object(h.i)({type:m.f.FETCH_ADMIN_COURSE_PAGE_DATA_SUCCESS},{track:e.result}))}else t(Object(h.i)({type:m.f.FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE},{error:e.message})),window.location.href="/dashboard"}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.f.FETCH_ADMIN_COURSE_PAGE_DATA_FAILURE},{error:n}))}))}},this.updateChapterModule=function(e){return function(t){var n=e.selected_module,a=n.chapter_module_title,s=n.program_types,i=n.content;t(Object(h.i)({type:m.f.ADMIN_SAVE_MODULE_REQUEST},{})),Ki.updateChapterModule({track_id:e.track_id,chapter_id:e.chapter_id,chapter_module_id:e.chapter_module_id,params_data:{title:a,program_types:s,content:i}}).then((function(e){!0===e.status?t(Object(h.i)({type:m.f.ADMIN_SAVE_MODULE_SUCCESS},{last_updated_at:e.result,module_data:{title:a,program_types:s,content:i}})):t(Object(h.i)({type:m.f.ADMIN_SAVE_MODULE_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.f.ADMIN_SAVE_MODULE_FAILURE},{error:n}))}))}},this.updateQuizOrders=function(e){return function(t){t(Object(h.i)({type:m.f.ADMIN_UPDATE_ORDER_SUCCESS},{track:e.track}))}},this.removeChapterModule=function(e){return function(t){t(Object(h.i)({type:m.f.ADMIN_REMOVE_MODULE_REQUEST},{})),Ki.removeChapterModule(e).then((function(n){!0===n.status?window.location.href=e.redirect_url:(t(Object(h.i)({type:m.f.ADMIN_REMOVE_MODULE_FAILURE},{error:n.message})),window.location.href="/dashboard")}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.f.ADMIN_REMOVE_MODULE_FAILURE},{error:n}))}))}},this.duplicateChapterModule=function(e){return function(t){t(Object(h.i)({type:m.f.ADMIN_COPY_MODULE_REQUEST},{})),Ki.duplicateChapterModule(e).then((function(e){!0===e.status?window.location.href=e.result.redirect_url:t(Object(h.i)({type:m.f.ADMIN_COPY_MODULE_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.f.ADMIN_COPY_MODULE_FAILURE},{error:n}))}))}},this.fetchFilterOptions=function(){return function(e){e(Object(h.i)({type:m.g.FETCH_FILTER_OPTIONS_DATA_REQUEST},{})),Ki.fetchFilterOptions().then((function(t){!0===t.status?e(Object(h.i)({type:m.g.FETCH_FILTER_OPTIONS_DATA_SUCCESS},{filter_data:t.result})):e(Object(h.i)({type:m.g.FETCH_FILTER_OPTIONS_DATA_FAILURE},{error:t.message}))}),(function(t){var n=Object(h.a)(t);e(Object(h.i)({type:m.g.FETCH_FILTER_OPTIONS_DATA_FAILURE},{error:n}))}))}},this.updateFilterOptions=function(e){return function(t){t(Object(h.i)({type:m.g.UPDATE_FILTER_OPTIONS_REQUEST},{})),Ki.updateFilterOptions(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.g.UPDATE_FILTER_OPTIONS_SUCCESS},{filter_data:e.result})):t(Object(h.i)({type:m.g.UPDATE_FILTER_OPTIONS_FAILURE},{error:e.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.g.UPDATE_FILTER_OPTIONS_FAILURE},{error:n}))}))}},this.fetchFilteredStudents=function(e){return function(t){t(Object(h.i)({type:m.g.FETCH_FILTERED_STUDENT_DATA_REQUEST},{})),Ki.fetchFilteredStudents(e).then((function(n){!0===n.status?t(Object(h.i)({type:m.g.FETCH_FILTERED_STUDENT_DATA_SUCCESS},{filtered_students:n.result.filtered_students,filtered_instructors:n.result.filtered_instructors,filter_used:e})):t(Object(h.i)({type:m.g.FETCH_FILTERED_STUDENT_DATA_FAILURE},{error:n.message}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.g.FETCH_FILTERED_STUDENT_DATA_FAILURE},{error:n}))}))}},this.assignStudentToInstructor=function(e,t){return function(n){n(Object(h.i)({type:m.g.ASSIGN_STUDENT_TO_INSTRUCTOR_REQUEST},{})),Ki.assignStudentToInstructor(t).then((function(t){!0===t.status?n(Object(h.i)({type:m.g.ASSIGN_STUDENT_TO_INSTRUCTOR_SUCCESS},Object(g.a)(Object(g.a)({table_data:e},t.results),{error:t.error}))):n(Object(h.i)({type:m.g.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE},{error:t.message}))}),(function(e){var t=Object(h.a)(e);n(Object(h.i)({type:m.g.ASSIGN_STUDENT_TO_INSTRUCTOR_FAILURE},{error:t}))}))}}},Hi=(n(1066),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===t){var n=null===a.state?Object(g.a)({},a.props.module):Object(g.a)({},a.state.chapter_module);if("link_title"===e.target.name)n.content.title=e.target.value;else if("is_online"===e.target.name||"is_onsite"===e.target.name){var s=n.program_types,i="is_online"===e.target.name?m.L:m.M;s.length>0&&(s=s.map((function(e){return parseInt(e)})).filter((function(e){return!1===isNaN(e)}))),!0===e.target.checked&&!1===s.includes(i)?s.push(i):!1===e.target.checked&&!0===s.includes(i)&&(s=s.filter((function(e){return e!==i}))),n.program_types=s}else n[e.target.name]=e.target.value;a.setState({chapter_module:n})}},a.handleSubmitEditModule=function(e){var t=null===a.state?Object(g.a)({},a.props.module):Object(g.a)({},a.state.chapter_module);a.props.toggleShowModal(!1),a.props.onHandleSubmitEditModule(e,t.chapter_module_id,a.props.active_chapter_id,t)},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.module,a=t.show,i=t.toggleShowModal;return null!==this.state&&void 0!==this.state.chapter_module&&null!==this.state.chapter_module&&(n=this.state.chapter_module),s.a.createElement(fe.a,{show:a,onHide:function(){return i(!1)},centered:!0,id:"edit_module_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Editing Module"),s.a.createElement("button",{onClick:function(e){return i(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("div",{className:"form_group_container"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"module_title"},"Module Title"),s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},type:"text",name:"chapter_module_title",id:"module_title",value:n.chapter_module_title}),s.a.createElement("label",{htmlFor:"module_title"},s.a.createElement(ue.a,{icon:["fas","pencil-alt"]}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"link_title"},"Link Title"),s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},type:"text",name:"link_title",id:"link_title",value:n.content.title}),s.a.createElement("label",{htmlFor:"link_title"},s.a.createElement(ue.a,{icon:["fas","pencil-alt"]})))),s.a.createElement("div",{className:"form-group",id:"module_type"},s.a.createElement("span",null,"Module Type"),s.a.createElement("div",{className:"btn-group",role:"group"},m.E.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t,!0)},id:"".concat(t.title.replace(" ","_"),"_module"),type:"radio",name:"module_options",value:t.id,checked:t.id===n.module_type}),s.a.createElement("label",{htmlFor:"".concat(t.title.replace(" ","_"),"_module")},s.a.createElement("span",null,t.title.toUpperCase())))})))),s.a.createElement("div",{className:"form_group_container"},s.a.createElement("span",null,"This Module Is Going To Be Visible:"),m.O.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)},name:"is_".concat(t.title),type:"checkbox",id:"".concat(t.title,"_checkbox"),defaultChecked:!0===n.program_types.includes(t.id)}),s.a.createElement("label",{htmlFor:"".concat(t.title,"_checkbox")},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(ue.a,{icon:["fas","check"]})),s.a.createElement("span",null,t.title.toUpperCase()))))})))),s.a.createElement(fe.a.Footer,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleSubmitEditModule(t)}},s.a.createElement("button",{className:"btn btn-default",type:"button",onClick:function(e){return i(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Save"))))}}]),n}(a.Component)),$i=(n(331),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleDeleteModule=function(e){a.props.toggleShowModal(!1),a.props.onHandleDeleteModule(e,a.props.module.chapter_module_id,a.props.active_chapter_id)},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.toggleShowModal;return s.a.createElement(fe.a,{show:n,onHide:function(){return a(!1)},centered:!0,id:"delete_module_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Delete This Module"),s.a.createElement("button",{onClick:function(e){return a(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"Do you want to delete this module?")),s.a.createElement(fe.a.Footer,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleDeleteModule(t)}},s.a.createElement("button",{className:"btn btn-default",type:"button",onClick:function(e){return a(!1)}},"Cancel "),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Confirm"))))}}]),n}(a.Component)),qi=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleCopyModule=function(e){a.props.toggleShowModal(!1),a.props.onHandleCopyModule(e,Object(g.a)({},a.props.module),a.props.chapter.chapter_id)},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.toggleShowModal,i=t.chapter;return s.a.createElement(fe.a,{show:n,onHide:function(){return a(!1)},centered:!0,id:"copy_module_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Copy This Module"),s.a.createElement("button",{onClick:function(e){return a(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"Do you want to copy this module to ",i.chapter_title,"?")),s.a.createElement(fe.a.Footer,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleCopyModule(t)}},s.a.createElement("button",{className:"btn btn-default",type:"button",onClick:function(e){return a(!1)}},"Cancel "),s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Confirm"))))}}]),n}(a.Component),Gi=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).renderModuleColor=function(e){return{0:"lesson_module",1:"quiz_module",2:"todo_module",3:"lesson_module",4:"chapter_survey_module"}[null!==e.content?e.content.type:0]},a.showModuleActionModal=function(e,t,n){a.setState({active_module:e,active_chapter_id:t}),Object(h.v)(Object(re.a)(a),n,!0)},a.navigateChapterModule=function(e){e.indexOf(m.d.LEARNV2_URL)>-1?window.open(e,"_blank"):window.location.href=e},a.showCopyToList=function(e){a.setState({is_show_copy_to_list:e})},a.showCopyModuleModal=function(e,t,n){a.setState({selected_chapter_to_move:t},(function(){a.showModuleActionModal(e,t.chapter_id,n)}))},a.state={is_show_edit_module_modal:!1,is_show_delete_module_modal:!1,is_show_copy_module_modal:!1,is_show_copy_to_list:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.track,a=t.pathParams;return s.a.createElement("aside",null,s.a.createElement("ul",{className:"list-unstyled",id:"chapter_list"},void 0!==n.chapters&&n.chapters.map((function(t){return s.a.createElement("li",{className:"".concat(Number(a.chapter_id)===t.chapter_id?"active":""),key:t.chapter_title},s.a.createElement(Q.b,{className:"chapter_name"},t.chapter_title),s.a.createElement("ul",{className:"list-unstyled module_list"},void 0!==t.chapter_modules&&t.chapter_modules.map((function(i){return s.a.createElement("li",{className:"".concat(Number(a.module_id)===i.chapter_module_id?"active":""),key:i.chapter_module_id},s.a.createElement("button",{type:"button",onClick:function(){return e.navigateChapterModule("".concat(1===i.module_type?"":m.d.LEARNV2_URL,"/modules/edit/").concat(n.track_id,"/").concat(t.chapter_id,"/").concat(i.chapter_module_id))},className:"".concat(e.renderModuleColor(i)," module_name")},i.chapter_module_title),1===i.content.type&&s.a.createElement($e.a,{onToggle:function(t){return!1===t?e.showCopyToList(t):""}},s.a.createElement($e.a.Toggle,null,s.a.createElement(ue.a,{icon:["fas","ellipsis-v"]})),s.a.createElement($e.a.Menu,null,s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement($e.a.Item,{onClick:function(){return e.showModuleActionModal(i,t.chapter_id,"is_show_edit_module_modal")}},"Edit")),s.a.createElement("li",null,s.a.createElement("button",{onClick:function(t){return e.showCopyToList(!0)}},"Copy To ",s.a.createElement(ue.a,{icon:["fas","chevron-right"]})),e.state.is_show_copy_to_list&&s.a.createElement("ul",{className:"list-unstyled dropdown_sub_menu"},n.chapters.map((function(t){return s.a.createElement("li",{key:t.chapter_id,onClick:function(){return e.showCopyModuleModal(i,t,"is_show_copy_module_modal")}},t.chapter_title)})))),s.a.createElement("li",null,s.a.createElement($e.a.Item,{onClick:function(){return e.showModuleActionModal(i,t.chapter_id,"is_show_delete_module_modal")}},"Delete"))))))}))))}))),void 0!==n&&s.a.createElement("a",{id:"exit_edit_mode_btn",href:"/m/".concat(n.track_id,"/").concat(n.chapter_id,"/").concat(n.chapter_module_id)},s.a.createElement("span",null)," Exit Edit Mode"),void 0!==this.state.active_module&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Hi,{show:this.state.is_show_edit_module_modal,module:this.state.active_module,active_chapter_id:this.state.active_chapter_id,onHandleSubmitEditModule:this.props.onHandleSubmitEditModule,toggleShowModal:function(t){return Object(h.v)(e,"is_show_edit_module_modal",!1)}}),s.a.createElement($i,{show:this.state.is_show_delete_module_modal,module:this.state.active_module,active_chapter_id:this.state.active_chapter_id,onHandleDeleteModule:this.props.onHandleDeleteModule,toggleShowModal:function(t){return Object(h.v)(e,"is_show_delete_module_modal",!1)}})),void 0!==this.state.selected_chapter_to_move&&s.a.createElement(qi,{chapter:this.state.selected_chapter_to_move,show:this.state.is_show_copy_module_modal,module:this.state.active_module,onHandleCopyModule:this.props.onHandleCopyModule,toggleShowModal:function(t){return Object(h.v)(e,"is_show_copy_module_modal",!1)}}))}}]),n}(a.Component),Qi=n(34),Vi=n.n(Qi),zi=n(57),Yi=n(251),Ji=(n(1068),n(1069),n(74)),Xi=n.n(Ji);Xi.a.add("plugin","alignment",{translations:{en:{align:"Align","align-left":"Align Left","align-center":"Align Center","align-right":"Align Right","align-justify":"Align Justify"}},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.block=e.block,this.toolbar=e.toolbar},start:function(){var e={};e.left={title:this.lang.get("align-left"),api:"plugin.alignment.set",args:"left"},e.center={title:this.lang.get("align-center"),api:"plugin.alignment.set",args:"center"},e.right={title:this.lang.get("align-right"),api:"plugin.alignment.set",args:"right"},e.justify={title:this.lang.get("align-justify"),api:"plugin.alignment.set",args:"justify"};var t=this.toolbar.addButton("alignment",{title:this.lang.get("align")});t.setIcon('<i class="re-icon-alignment"></i>'),t.setDropdown(e)},set:function(e){if("left"===e&&"ltr"===this.opts.direction)return this._remove();var t={style:{"text-align":e}};this.block.toggle(t)},_remove:function(){this.block.remove({style:"text-align"})}}),function(e){e.add("plugin","video",{translations:{en:{video:"Video","video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},modals:{video:'<form action="">                     <div class="form-item">                         <label for="modal-video-input">## video-html-code ##</label>                         <textarea id="modal-video-input" name="video" style="height: 160px;"></textarea>                     </div>                 </form>'},init:function(e){this.app=e,this.lang=e.lang,this.opts=e.opts,this.toolbar=e.toolbar,this.component=e.component,this.insertion=e.insertion,this.inspector=e.inspector},onmodal:{video:{opened:function(e,t){t.getField("video").focus()},insert:function(e,t){var n=t.getData();this._insert(n)}}},oncontextbar:function(e,t){var n=this.inspector.parse(e.target);if(n.isComponentType("video")){var a=n.getComponent(),s={remove:{title:this.lang.get("delete"),api:"plugin.video.remove",args:a}};t.set(e,a,s,"bottom")}},start:function(){var e={title:this.lang.get("video"),api:"plugin.video.open"};this.toolbar.addButtonAfter("image","video",e).setIcon('<i class="re-icon-video"></i>')},open:function(){var e={title:this.lang.get("video"),width:"600px",name:"video",handle:"insert",commands:{insert:{title:this.lang.get("insert")},cancel:{title:this.lang.get("cancel")}}};this.app.api("module.modal.build",e)},remove:function(e){this.component.remove(e)},_insert:function(e){if(this.app.api("module.modal.close"),""!==e.video.trim()&&(e.video=this._matchData(e.video),this._isVideoIframe(e.video))){var t=this.component.create("video",e.video);this.insertion.insertHtml(t)}},_isVideoIframe:function(e){return null!==e.match(/<iframe|<video/gi)},_matchData:function(e){var t='<iframe style="width: 500px; height: 281px;" src="',n='" frameborder="0" allowfullscreen></iframe>';if(this._isVideoIframe(e)){var a=["iframe","video","source"];e=(e=e.replace(/<p(.*?[^>]?)>([\w\W]*?)<\/p>/gi,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,t){return-1===a.indexOf(t.toLowerCase())?"":e}))}else e.match(this.opts.regex.youtube)?e=e.replace(this.opts.regex.youtube,t+"//www.youtube.com/embed/$1"+n):e.match(this.opts.regex.vimeo)&&(e=e.replace(this.opts.regex.vimeo,t+"//player.vimeo.com/video/$2"+n));return e}})}(Xi.a),function(e){e.add("plugin","filemanager",{translations:{en:{choose:"Choose"}},init:function(e){this.app=e,this.lang=e.lang,this.opts=e.opts},onmodal:{file:{open:function(e,t){this.opts.fileManagerJson&&this._load(e)}}},_load:function(t){var n=t.getBody();this.$box=e.dom("<div>"),this.$box.attr("data-title",this.lang.get("choose")),this.$box.addClass("redactor-modal-tab"),this.$box.hide(),this.$box.css({overflow:"auto",height:"300px","line-height":1}),n.append(this.$box),e.ajax.get({url:this.opts.fileManagerJson,success:this._parse.bind(this)})},_parse:function(t){var n=e.dom('<ul id="redactor-filemanager-list">');for(var a in t){var s=t[a];if("object"===typeof s){var i=e.dom("<li>"),o=e.dom("<a>");o.attr("href","#"),o.addClass("redactor-file-manager-link"),o.attr("data-params",encodeURI(JSON.stringify(s))),o.text(s.title||s.name),o.on("click",this._insert.bind(this));var r=e.dom("<span>");r.addClass("r-file-name"),r.text(s.name),o.append(r);var c=e.dom("<span>");c.addClass("r-file-size"),c.text("("+s.size+")"),o.append(c),i.append(o),n.append(i)}}this.$box.append(n)},_insert:function(t){t.preventDefault();var n=e.dom(t.target).closest(".redactor-file-manager-link"),a=JSON.parse(decodeURI(n.attr("data-params")));this.app.api("module.file.insert",{file:a})}})}(Xi.a),function(e){e.add("plugin","table",{translations:{en:{table:"Table","insert-table":"Insert table","insert-row-above":"Insert row above","insert-row-below":"Insert row below","insert-column-left":"Insert column left","insert-column-right":"Insert column right","add-head":"Add head","delete-head":"Delete head","delete-column":"Delete column","delete-row":"Delete row","delete-table":"Delete table"}},init:function(e){this.app=e,this.lang=e.lang,this.opts=e.opts,this.caret=e.caret,this.editor=e.editor,this.toolbar=e.toolbar,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection},ondropdown:{table:{observe:function(e){this._observeDropdown(e)}}},onbottomclick:function(){this.insertion.insertToEnd(this.editor.getLastNode(),"table")},start:function(){var e={observe:"table","insert-table":{title:this.lang.get("insert-table"),api:"plugin.table.insert"},"insert-row-above":{title:this.lang.get("insert-row-above"),classname:"redactor-table-item-observable",api:"plugin.table.addRowAbove"},"insert-row-below":{title:this.lang.get("insert-row-below"),classname:"redactor-table-item-observable",api:"plugin.table.addRowBelow"},"insert-column-left":{title:this.lang.get("insert-column-left"),classname:"redactor-table-item-observable",api:"plugin.table.addColumnLeft"},"insert-column-right":{title:this.lang.get("insert-column-right"),classname:"redactor-table-item-observable",api:"plugin.table.addColumnRight"},"add-head":{title:this.lang.get("add-head"),classname:"redactor-table-item-observable",api:"plugin.table.addHead"},"delete-head":{title:this.lang.get("delete-head"),classname:"redactor-table-item-observable",api:"plugin.table.deleteHead"},"delete-column":{title:this.lang.get("delete-column"),classname:"redactor-table-item-observable",api:"plugin.table.deleteColumn"},"delete-row":{title:this.lang.get("delete-row"),classname:"redactor-table-item-observable",api:"plugin.table.deleteRow"},"delete-table":{title:this.lang.get("delete-table"),classname:"redactor-table-item-observable",api:"plugin.table.deleteTable"}},t={title:this.lang.get("table")},n=this.toolbar.addButtonBefore("link","table",t);n.setIcon('<i class="re-icon-table"></i>'),n.setDropdown(e)},insert:function(){for(var e=this.component.create("table"),t=0;t<2;t++)e.addRow(3);e=this.insertion.insertHtml(e),this.caret.setStart(e)},addRowAbove:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent(),n=e.addRowTo(t,"before");this.caret.setStart(n)}},addRowBelow:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent(),n=e.addRowTo(t,"after");this.caret.setStart(n)}},addColumnLeft:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent();this.selection.save(),e.addColumnTo(t,"left"),this.selection.restore()}},addColumnRight:function(){var e=this._getComponent();if(e){var t=this.selection.getCurrent();this.selection.save(),e.addColumnTo(t,"right"),this.selection.restore()}},addHead:function(){var e=this._getComponent();e&&(this.selection.save(),e.addHead(),this.selection.restore())},deleteHead:function(){var t=this._getComponent();if(t){var n=this.selection.getCurrent();0!==e.dom(n).closest("thead").length?(t.removeHead(),this.caret.setStart(t)):(this.selection.save(),t.removeHead(),this.selection.restore())}},deleteColumn:function(){var t=this._getComponent();if(t){var n=this.selection.getCurrent(),a=e.dom(n).closest("td, th"),s=a.nextElement().get(),i=a.prevElement().get();t.removeColumn(n),s?this.caret.setStart(s):i?this.caret.setEnd(i):this.deleteTable()}},deleteRow:function(){var t=this._getComponent();if(t){var n=this.selection.getCurrent(),a=e.dom(n).closest("tr"),s=a.nextElement().get(),i=a.prevElement().get();t.removeRow(n),s?this.caret.setStart(s):i?this.caret.setEnd(i):this.deleteTable()}},deleteTable:function(){var e=this._getTable();e&&this.component.remove(e)},_getTable:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e);if(t.isTable())return t.getTable()},_getComponent:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e);if(t.isTable()){var n=t.getTable();return this.component.create("table",n)}},_observeDropdown:function(e){var t=this._getTable(),n=e.getItemsByClass("redactor-table-item-observable"),a=e.getItem("insert-table");t?(this._observeItems(n,"enable"),a.disable()):(this._observeItems(n,"disable"),a.enable())},_observeItems:function(e,t){for(var n=0;n<e.length;n++)e[n][t]()}})}(Xi.a),function(e){e.add("class","table.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},addHead:function(){this.removeHead();var t=this.$element.find("tr").first().children("td, th").length,n=e.dom("<thead>"),a=this._buildRow(t,"<th>");n.append(a),this.$element.prepend(n)},addRow:function(e){var t=this._buildRow(e);return this.$element.append(t),t},addRowTo:function(e,t){return this._addRowTo(e,t)},addColumnTo:function(t,n){var a=e.dom(t),s=a.closest("tr"),i=a.closest("td, th"),o=0;s.find("td, th").each((function(e,t){e===i.get()&&(o=t)})),this.$element.find("tr").each((function(t){var a=e.dom(t).find("td, th").get(o),s=e.dom(a),i=s.clone();i.html('<div data-redactor-tag="tbr"></div>'),"right"===n?s.after(i):s.before(i)}))},removeHead:function(){var e=this.$element.find("thead");0!==e.length&&e.remove()},removeRow:function(t){e.dom(t).closest("tr").remove()},removeColumn:function(t){var n=e.dom(t),a=n.closest("tr"),s=n.closest("td, th"),i=0;a.find("td, th").each((function(e,t){e===s.get()&&(i=t)})),this.$element.find("tr").each((function(t){var n=e.dom(t).find("td, th").get(i);e.dom(n).remove()}))},_init:function(t){var n,a;if("undefined"!==typeof t){var s=e.dom(t),i=s.get(),o=s.closest("figure");0!==o.length?(n=o,a=o.find("table").get()):"TABLE"===i.tagName&&(a=i)}this._buildWrapper(n),this._buildElement(a),this._initWrapper()},_addRowTo:function(t,n){var a=e.dom(t).closest("tr");if(0!==a.length){var s=a.children("td, th").length,i=this._buildRow(s);return a[n](i),i}},_buildRow:function(t,n){n=n||"<td>";for(var a=e.dom("<tr>"),s=0;s<t;s++){var i=e.dom(n);i.attr("contenteditable",!0),i.html('<div data-redactor-tag="tbr"></div>'),a.append(i)}return a},_buildElement:function(t){t?this.$element=e.dom(t):(this.$element=e.dom("<table>"),this.append(this.$element))},_buildWrapper:function(e){e=e||"<figure>",this.parse(e)},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"table",tabindex:"-1",contenteditable:!1}),this.app.detector.isIe()&&this.removeAttr("contenteditable")}})}(Xi.a);n(1070);var Zi=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){return Object(H.a)(this,n),t.call(this,e)}return Object($.a)(n,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.toggleShowModal,a=e.onHandleSelectQuestionAnswer,i=e.question,o=e.choice;return s.a.createElement(fe.a,{show:t,onHide:function(){return n(!1)},centered:!0,id:"change_right_answer_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Change the Right Answer"),s.a.createElement("button",{onClick:function(e){return n(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/admin/edit_course/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("p",null,"Are you sure you want to change the right answer?")),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{className:"btn btn-default",onClick:function(e){return n(!1)}},"Cancel "),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){a(i,o),n(!1)}},"Confirm")))}}]),n}(a.Component),eo=(n(1071),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleSubmitCreateWriteFunctionQuestion=function(e){e.preventDefault(),""!==a.state.dc_editor_link&&(a.props.onHandleAddNewQuestion(2,a.state.dc_editor_link),a.props.toggleShowModal(!1))},a.hideModal=function(){a.setState({dc_editor_link:""}),a.props.toggleShowModal(!1)},a.state={dc_editor_link:""},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.toggleShowModal;return s.a.createElement(fe.a,{show:n,onHide:function(){return e.hideModal()},centered:!0,id:"write_function_modal"},s.a.createElement(fe.a.Header,null,s.a.createElement(fe.a.Title,null,"Adding a \u201cWrite a Function\u201d Question"),s.a.createElement("button",{onClick:function(e){return a(!1)}},s.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/close_icon.png",alt:"Close Icon"}))),s.a.createElement(fe.a.Body,null,s.a.createElement("form",{action:"",onSubmit:function(t){return e.handleSubmitCreateWriteFunctionQuestion(t)}},s.a.createElement("div",{id:"write_function_editor_container"},s.a.createElement("p",null,"Paste Data Compass iFrame Here"),s.a.createElement("textarea",{onChange:function(t){return Object(h.k)(t,e)},className:"form-control",name:"dc_editor_link",value:this.state.dc_editor_link})),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Add")))))}}]),n}(a.Component)),to=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props,t=e.active_module,n=e.onHandleEditModuleDescription,s=e.track_id,i=e.chapter_id;Xi()("#content",{buttons:["format","bold","italic","underline","lists","alignment","image","video","file","table","undo","redo"],plugins:["alignment","video","table"],imageUpload:function(){var e=Object(zi.a)(Vi.a.mark((function e(n,a,o,r){return Vi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki.uploadModuleFiles({track_id:s,chapter_id:i,chapter_module_id:t.chapter_module_id,files:a},r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),fileUpload:function(){var e=Object(zi.a)(Vi.a.mark((function e(n,a,o,r){return Vi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki.uploadModuleFiles({track_id:s,chapter_id:i,chapter_module_id:t.chapter_module_id,files:a},r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),styles:!0,callbacks:{started:function(){this.insertion.insertHtml(t.content.description)},changed:function(e){n(e)}}})},a.handleInputChange=function(e){a.setState({choice_input:e.target.value})},a.handleCreateQuestionChoice=function(e,t){e.preventDefault(),""!==a.state.choice_input&&(e.target.reset(),a.props.onHandleCreateQuestionChoice(t,a.state.choice_input),a.setState({choice_input:""}))},a.handleSelectQuestionAnswer=function(e,t){0===e.choices.filter((function(e){return!0===e.is_answer})).length?a.props.onHandleSelectQuestionAnswer(e,t):a.setState({selected_question:e,selected_choice:t},(function(){Object(h.v)(Object(re.a)(a),"is_show_change_right_answer_modal",!0)}))},a.gotoPreview=function(e){window.location.href=e},a.state={choice_input:"",is_show_change_right_answer_modal:!1,is_show_add_write_function_modal:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.active_module,a=t.track_id,i=t.chapter_id,o=t.onHandleSelectQuestionAnswer,r=t.onHandleChangeQuestionName,c=t.onHandleSubmitSaveModule,_=t.onHandleChangeChoiceName,l=t.onHandleDeleteQuestion,u=t.onHandleDeleteQuestionChoice,d=t.onHandleSortQuestion,p=t.onHandleSortQuestionChoice,m=t.onHandleAddNewQuestion,f=t.onHandleChangeCodeValue;return s.a.createElement("div",null,s.a.createElement("div",{id:"module_controls_container"},s.a.createElement("span",{id:"module_updated_at"},"Updated ",n.last_updated_at),s.a.createElement("form",{onSubmit:function(e){return c(e)}},s.a.createElement(Q.b,{key:"".concat((new Date).getTime()),onClick:function(){return e.gotoPreview("/m/".concat(a,"/").concat(i,"/").concat(n.chapter_module_id))},to:"/m/".concat(a,"/").concat(i,"/").concat(n.chapter_module_id)},"Preview"),s.a.createElement("button",{type:"submit"},"Save Changes"))),s.a.createElement("div",{id:"module_description_container"},s.a.createElement("div",{id:"content"})),s.a.createElement("div",{id:"questions_container",className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h6",null,"Questions(",void 0!==n.content.data.questions?n.content.data.questions.length:0,")"),s.a.createElement($e.a,null,s.a.createElement($e.a.Toggle,{id:"add_new_question_btn"},"New Question ",s.a.createElement(ue.a,{icon:["fas","plus"]})),s.a.createElement($e.a.Menu,null,s.a.createElement($e.a.Item,{onClick:function(){return m(0)}},"Multi-Choice Question"),s.a.createElement($e.a.Item,{onClick:function(){return m(1)}},"Predict Outcome"),s.a.createElement($e.a.Item,{onClick:function(){return Object(h.v)(e,"is_show_add_write_function_modal",!0)}},"Write a function")))),s.a.createElement("div",{className:"card-body"},s.a.createElement(Yi.ReactSortable,{tag:"ul",className:"list-unstyled",id:"questions_list",handle:".question_drag_handle",animation:200,delayOnTouchStart:!0,delay:2,list:n.content.data.questions,setList:function(e){return d(e)}},n.content.data.questions.map((function(t){return s.a.createElement("li",{key:t.id},s.a.createElement("div",null,s.a.createElement("span",{className:"drag_handle question_drag_handle"}),s.a.createElement("input",{type:"text",id:"textbox_question_".concat(t.id),onChange:function(e){return r(e,t)},value:t.question}),s.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return l(t)}})),s.a.createElement("div",{className:"code_editor_container"},1===t.type&&s.a.createElement(bn.a,{value:t.code,onValueChange:function(e){return f(t,e)},highlight:function(e){return t=e,n=vn.languages.js,Object(vn.highlight)(t,n).split("\n").map((function(e,t){return"<span class='editorLineNumber'>".concat(t+1,"</span>").concat(e)})).join("\n");var t,n},padding:10,className:"editor",style:{outline:0}}),2===t.type&&s.a.createElement("div",{className:"dc_iframe",dangerouslySetInnerHTML:{__html:t.dc_editor_link}})),s.a.createElement(Yi.ReactSortable,{tag:"ul",className:"list-unstyled options_list",handle:".choice_drag_handle",animation:200,delayOnTouchStart:!0,delay:2,list:t.choices,setList:function(e){return p(t,e)}},t.choices.map((function(n){return s.a.createElement("li",{key:n.id},s.a.createElement("span",{className:"drag_handle choice_drag_handle"}),s.a.createElement("input",{type:"radio",checked:void 0!==n.is_answer&&!0===n.is_answer,name:"choice_".concat(t.id),className:"hidden",onChange:function(){return e.handleSelectQuestionAnswer(t,n)},id:"choice_".concat(t.id,"_").concat(n.id)}),s.a.createElement("label",{htmlFor:"choice_".concat(t.id,"_").concat(n.id)},s.a.createElement("span",{className:"fill"})),s.a.createElement("input",{type:"text",onChange:function(e){return _(e,t,n)},value:n.content}),s.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return u(t,n)}}))}))),2!==t.type&&s.a.createElement("form",{onSubmit:function(n){return e.handleCreateQuestionChoice(n,t)}},s.a.createElement("input",{type:"text",placeholder:"Type something",onChange:function(t){return e.handleInputChange(t)}}),s.a.createElement("button",{type:"submit"},"Add Another Choice")))}))))),s.a.createElement(Zi,{show:this.state.is_show_change_right_answer_modal,choice:this.state.selected_choice,question:this.state.selected_question,onHandleSelectQuestionAnswer:o,toggleShowModal:function(){return Object(h.v)(e,"is_show_change_right_answer_modal",!1)}}),s.a.createElement(eo,{show:this.state.is_show_add_write_function_modal,onHandleAddNewQuestion:m,toggleShowModal:function(){return Object(h.v)(e,"is_show_add_write_function_modal",!1)}}))}}]),n}(a.Component),no=(n(1072),n(218),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){void 0!==a.props&&(a.props.fetchAdminCoursePageData({track_id:a.props.match.params.track_id,chapter_id:a.props.match.params.chapter_id,chapter_module_id:a.props.match.params.module_id}),window.scrollTo(0,0))},a.componentDidUpdate=function(e){void 0!==a.props&&e.match.params.module_id!==a.props.match.params.module_id&&a.setActiveModuleContent()},a.setActiveModuleContent=function(){var e=Number(a.props.match.params.chapter_id),t=Number(a.props.match.params.module_id),n=Object(S.a)(a.state.track.chapters),s=n.map((function(e){return e.chapter_id})).indexOf(e),i=n[s].chapter_modules.filter((function(e){return e.chapter_module_id===t}))[0];a.setState({active_module:i})},a.handleCreateQuestionChoice=function(e,t){var n=((a.props.admin||{}).courses||{}).track,s=n.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0],i=0;s.choices.length>0&&(s.choices.sort((function(e,t){return t.id-e.id})),i=s.choices[0].id+1),s.choices.push({id:i,content:t,chosen:!1,selected:!1}),s.choices_order=s.choices.map((function(e){return e.id})),a.props.updateQuizOrders({track:n})},a.handleSelectQuestionAnswer=function(e,t){var n=((a.props.admin||{}).courses||{}).track;n.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0].choices.map((function(e){e.is_answer=e.id===t.id})),a.props.updateQuizOrders({track:n})},a.handleChangeQuestionName=function(e,t){var n=((a.props.admin||{}).courses||{}).track;n.active_module.content.data.questions.filter((function(e){return e.id===t.id}))[0].question=e.target.value,a.props.updateQuizOrders({track:n})},a.handleChangeChoiceName=function(e,t,n){var s=((a.props.admin||{}).courses||{}).track;s.active_module.content.data.questions.filter((function(e){return e.id===t.id}))[0].choices.filter((function(e){return e.id===n.id}))[0].content=e.target.value,a.props.updateQuizOrders({track:s})},a.handleDeleteQuestion=function(e){var t=((a.props.admin||{}).courses||{}).track;t.active_module.content.data.questions=t.active_module.content.data.questions.filter((function(t){return t.id!==e.id})),t.active_module.content.data.questions_order=t.active_module.content.data.questions.map((function(e){return e.id})),a.props.updateQuizOrders({track:t})},a.handleDeleteQuestionChoice=function(e,t){var n=((a.props.admin||{}).courses||{}).track,s=n.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0];s.choices=s.choices.filter((function(e){return e.id!==t.id})),s.choices_order=s.choices.map((function(e){return e.id})),a.props.updateQuizOrders({track:n})},a.handleSortQuestion=function(e){var t=((a.props.admin||{}).courses||{}).track;t.active_module.content.data.questions=e,t.active_module.content.data.questions_order=e.map((function(e){return e.id})),a.props.updateQuizOrders({track:t})},a.handleSortQuestionChoice=function(e,t){var n=((a.props.admin||{}).courses||{}).track,s=n.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0];s.choices=t,s.choices_order=t.map((function(e){return e.id})),a.props.updateQuizOrders({track:n})},a.handleAddNewQuestion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=a.props.admin||{},s=n.courses,i=s||{},o=i.track,r=0;if(o.active_module.content.data.questions.length>0){for(var c=0,_=0;_<o.active_module.content.data.questions.length;_++){var l=o.active_module.content.data.questions[_];c=l.id>c?l.id:c}r=c+1}var u={id:r,question:"",choices:[],type:e,chosen:!1,selected:!1};1===e?u.code="\n\n\n":2===e&&(u.dc_editor_link=t),o.active_module.content.data.questions.push(u),o.active_module.content.data.questions_order=o.active_module.content.data.questions.map((function(e){return e.id})),a.props.updateQuizOrders({track:o}),setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),document.getElementById("textbox_question_".concat(r)).focus()}),0)},a.handleChangeCodeValue=function(e,t){var n=((a.props.admin||{}).courses||{}).track;n.active_module.content.data.questions.filter((function(t){return t.id===e.id}))[0].code=t,a.props.updateQuizOrders({track:n})},a.handleEditModuleDescription=function(e){var t=((a.props.admin||{}).courses||{}).track;t.active_module.content.description=e,a.props.updateQuizOrders({track:t})},a.handleSubmitSaveModule=function(e){e.preventDefault(),a.props.updateChapterModule({track_id:a.props.match.params.track_id,chapter_id:a.props.match.params.chapter_id,chapter_module_id:a.props.match.params.module_id,selected_module:a.props.admin.courses.track.active_module})},a.handleDeleteModule=function(e,t,n){e.preventDefault();var s=((a.props.admin||{}).courses||{}).track;if(void 0!==s&&void 0!==s.active_chapter){var i="/tracks",o=s.active_chapter,r=o.chapter_module_ids_order.indexOf(t);if(r>-1)if((r=r+1<=o.chapter_module_ids_order.length?r-1:r+1)<0&&s.chapters.length>1){for(var c=0;c<s.chapters.length;c++)if(s.chapters[c].chapter_id===n)return void(o=c+1<s.chapters.length?s.chapters[c+1]:s.chapters[c-1]);void 0!==o&&o.chapter_module_ids_order.length>0&&(i="/m/".concat(s.track_id,"/").concat(o.chapter_id,"/").concat(o.chapter_module_ids_order[0]),s.active_chapter.chapter_modules[0].module_type===m.P&&(i=i.replace("/m","/modules/edit")))}else r>=0&&(i="/m/".concat(s.track_id,"/").concat(o.chapter_id,"/").concat(o.chapter_module_ids_order[r]),s.active_chapter.chapter_modules[r].module_type===m.P&&(i=i.replace("/m","/modules/edit")));a.props.removeChapterModule({track_id:a.props.match.params.track_id,chapter_id:a.props.match.params.chapter_id,chapter_module_id:t,redirect_url:i})}},a.handleSubmitEditModule=function(e,t,n,s){e.preventDefault(),void 0!==t&&void 0!==n&&a.props.updateChapterModule({track_id:a.props.match.params.track_id,chapter_id:n,chapter_module_id:t,selected_module:s})},a.handleCopyModule=function(e,t,n){e.preventDefault();var s=((a.props.admin||{}).courses||{}).track,i=s.chapters.filter((function(e){return e.chapter_id===n}))[0];a.props.duplicateChapterModule({track_id:s.track_id,chapter_id:s.active_chapter.chapter_id,new_chapter_id:i.chapter_id,chapter_module_id:t.chapter_module_id})},a}return Object($.a)(n,[{key:"render",value:function(){var e=this.props.admin||{},t=e.courses,n=e.profile.general,a=(t||{}).track;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"admin_header_container"},s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",null,s.a.createElement(Q.b,null,a&&a.track_title||"Track Title")),a.track_course_alias&&s.a.createElement("li",null,s.a.createElement(Q.b,null,a.track_course_alias)),s.a.createElement("li",null,s.a.createElement(Q.b,null,a.active_chapter&&a.active_chapter.chapter_title||"Chapter Title")),s.a.createElement("li",null,s.a.createElement(Q.b,null,a.active_module&&a.active_module.content.title||"Quiz Module"))),s.a.createElement("div",{id:"profile_container"},s.a.createElement("img",{src:n?n.image_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Profile placeholder"}),s.a.createElement("div",null,"Hello, ",s.a.createElement("span",null,n?n.first_name:""," ",n?n.last_name.slice(0,1):"")))),s.a.createElement("div",{id:"course_container",className:"admin_container"},s.a.createElement(Gi,{track:a,onHandleDeleteModule:this.handleDeleteModule,onHandleSubmitEditModule:this.handleSubmitEditModule,onHandleCopyModule:this.handleCopyModule,pathParams:this.props.match.params}),s.a.createElement("div",{className:"right_container"},void 0!==a.active_module&&s.a.createElement(to,{active_module:a.active_module,track_id:this.props.match.params.track_id,chapter_id:this.props.match.params.chapter_id,onHandleSelectQuestionAnswer:this.handleSelectQuestionAnswer,onHandleCreateQuestionChoice:this.handleCreateQuestionChoice,onHandleChangeQuestionName:this.handleChangeQuestionName,onHandleChangeChoiceName:this.handleChangeChoiceName,onHandleDeleteQuestion:this.handleDeleteQuestion,onHandleDeleteQuestionChoice:this.handleDeleteQuestionChoice,onHandleSortQuestion:this.handleSortQuestion,onHandleSortQuestionChoice:this.handleSortQuestionChoice,onHandleAddNewQuestion:this.handleAddNewQuestion,onHandleChangeCodeValue:this.handleChangeCodeValue,onHandleEditModuleDescription:this.handleEditModuleDescription,onHandleSubmitSaveModule:this.handleSubmitSaveModule}))))}}]),n}(a.Component)),ao=Wi.fetchAdminCoursePageData,so=Wi.updateChapterModule,io=Wi.updateQuizOrders,oo=Wi.removeChapterModule,ro=Wi.duplicateChapterModule,co=Object(h.p)("admin",{fetchAdminCoursePageData:ao,updateChapterModule:so,updateQuizOrders:io,removeChapterModule:oo,duplicateChapterModule:ro}),_o=co.mapStateToProps,lo=co.mapDispatchToProps,uo=Object(l.b)(_o,lo)(no),po={title:"Management",links:[{name:"Student Rostering",link:"/admin/student_rostering/roster",sub_links:[{name:"Student Roster",link:"roster"},{name:"Instructor - Student Matching",link:"matching"}]}]},mo=[{name:"checkbox",width:50},{name:"Name",width:180,sort_data:"name"},{name:"Program",width:80,sort_data:"program"},{name:"Vet",width:50,sort_data:"is_veteran"},{name:"Enrollment Status",width:60,sort_data:"status"},{name:"AP",width:55,sort_data:"ap"},{name:"Stack",width:100,sort_data:"stack"},{name:"Stack Start Date",width:120,sort_data:"stack_start_date"},{name:"Taught By",width:100,sort_data:"taught_by"},{name:"Belt",width:55,sort_data:"belt"},{name:"Retake(s)",width:85,sort_data:"retake"},{name:"Receiving Stack",width:120,sort_data:"receiving_stack"},{name:"Receiving Instructor",width:120,sort_data:"receiving_instructor"},{name:"Campus",width:80,sort_data:"campus"},{name:"Region",width:60,sort_data:"region"}],ho=[{id:1,is_checked:!1,name:"Edward Newgate",email:"enewgate@gmail.com",program:"Online PT",is_veteran:1,status:4,ap:0,stack:"Webfun",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.8,belt_color:"yellow",acr:"80%",attendance_rate:"80%",retake:1,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:0,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/demy.jpg",stack_schedules:[{id:1,is_active:!1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,is_active:!1,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,is_active:!1,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"},{id:4,is_active:!1,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:2,is_checked:!1,name:"Monkey Garp",email:"mgarp@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:3,is_checked:!1,name:"Capone Bege",email:"cbege@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:4,is_checked:!1,name:"Basil Hawkins",email:"bhawkins@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:52,is_checked:!1,name:"Eustass Kidd",email:"eekidd@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]},{id:6,is_checked:!1,name:"Jewelry Bonney",email:"jbonney@village88.com",program:"Online PT",is_veteran:0,status:0,ap:1,stack:"Lamp",stack_start_date:"Jan. 21, 2021",taught_by:"Speros M.",belt:8.5,belt_color:"red",acr:"80%",attendance_rate:"80%",retake:0,receiving_stack:"Python",receiving_stack_is_retake:!0,receiving_stack_status:0,receiving_instructor:"Mark A.",campus:"Dallas",region:"East",gender:1,img_link:"https://focus_tracker.s3.amazonaws.com/employee_pictures/casugay.jpg",stack_schedules:[{id:1,name:"Web Fundamentals (04/01/2021 - 04/15 2021)"},{id:2,name:"Python (04/18/2021 - 04/30 2021) (Michael L.)"},{id:3,name:"MERN (05/01/2021 - 05/15 2021) (Richard J.)"}],belts:[{id:1,name:"WEBFUN",score:"9.0(1)",icon_class:"webfun_belt"},{id:2,name:"Python",score:"9.4(2)",icon_class:"python_belt"},{id:3,name:"Rails",score:"9.5(1)",icon_class:"rails_belt"}]}],fo=new(function(e){Object(q.a)(a,e);var t=Object(G.a)(a);function a(){var e;return Object(H.a)(this,a),(e=t.call(this)).get_student_rostering_filters=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/get_student_rostering_filters"),e,!0).then(h.h).then((function(e){return e}))},e.update_rostering_filter_options=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/update_filter_options"),e,!0).then(h.h).then((function(e){return e}))},e.get_filtered_student_rostering_list_data=function(e){return"export"==e.event?this.sendRequest("".concat(m.d.URL,"/admin/rostering/get_filtered_student_list"),e,!0).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=t;var s=n(35);a.setAttribute("download","student-roster-export(".concat(s().format("MMDDYYYY"),").csv")),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)})):this.sendRequest("".concat(m.d.URL,"/admin/rostering/get_filtered_student_list"),e,!0).then(h.h).then((function(e){return e}))},e.get_next_stack_options_list=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/get_next_stack_options_list"),e,!0).then(h.h).then((function(e){return e}))},e.process_selected_students_next_stack=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/process_selected_students_next_stack"),e,!0).then(h.h).then((function(e){return e}))},e.get_student_profile_details=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/get_student_profile_details"),e,!0).then(h.h).then((function(e){return e}))},e.unlock_student_next_stack=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/unlock_student_next_stack"),e,!0).then(h.h).then((function(e){return e}))},e.update_student_ap_status=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/update_student_ap_status"),e,!0).then(h.h).then((function(e){return e}))},e.delete_student_stack_schedule=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/delete_student_stack_schedule"),e,!0).then(h.h).then((function(e){return e}))},e.update_student_stack_schedule=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/update_student_stack_schedule"),e,!0).then(h.h).then((function(e){return e}))},e.update_student_region=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/rostering/update_student_region"),e,!0).then(h.h).then((function(e){return e}))},e}return a}(J.a)),Eo=new function e(){Object(H.a)(this,e),this.getStudentRosteringFilters=function(){return function(e){e(Object(h.i)({type:m.Q.ADMIN_GET_STUDENT_ROSTER_FILTERS_REQUEST},{})),fo.get_student_rostering_filters().then((function(t){e(Object(h.i)({type:m.Q.ADMIN_GET_STUDENT_ROSTER_FILTERS_SUCCESS},{filters:t}))}),(function(t){var n=Object(h.a)(t);e(Object(h.i)({type:m.Q.ADMIN_GET_STUDENT_ROSTER_FILTERS_FAILURE},{error:n}))}))}},this.updateRosteringFilterOptions=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_REQUEST},{})),fo.update_rostering_filter_options(e).then((function(e){t(Object(h.i)({type:m.Q.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_SUCCESS},{filters:e}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_UPDATE_ROSTERING_FILTER_OPTIONS_FAILURE},{error:n}))}))}},this.getFilteredStudentRosteringData=function(e){return function(t){var n="export"===e.event;t(Object(h.i)({type:m.Q.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_REQUEST,is_export:n},{})),fo.get_filtered_student_rostering_list_data(e).then((function(e){e&&!e.status&&alert(e.error),t(Object(h.i)({type:m.Q.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_SUCCESS},{student_list:e,is_export:n}))}),(function(e){var a=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_GET_FILTERED_STUDENT_ROSTER_DATA_FAILURE},{error:a,is_export:n}))}))}},this.getNextStackOptionsList=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_GET_NEXT_STACK_OPTIONS_REQUEST},{})),fo.get_next_stack_options_list(e).then((function(e){t(Object(h.i)({type:m.Q.ADMIN_GET_NEXT_STACK_OPTIONS_SUCCESS},{next_stack_options:e}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_GET_NEXT_STACK_OPTIONS_FAILURE},{error:n}))}))}},this.processSelectedStudentsNextStack=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_PROCESS_STUDENTS_NEXT_STACK_REQUEST},{})),fo.process_selected_students_next_stack(e).then((function(n){if(n.status){var a="";Object.entries(n.failed).map((function(e){a+=e[1].total>0?"".concat(e[1].error,"\n"):""})),""!=a&&alert("ERROR ASSIGNING SELECTED NEXT STACK TO THE FOLLOWING STUDENTS: \n"+a)}else alert(n.error);t(Object(h.i)({type:m.Q.ADMIN_PROCESS_STUDENTS_NEXT_STACK_SUCCESS},{processed_students_next_stack:n,is_from_student_profile:e.is_from_student_profile}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_PROCESS_STUDENTS_NEXT_STACK_FAILURE},{error:n}))}))}},this.getStudentProfileDetails=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_GET_STUDENT_PROFILE_DATA_REQUEST},{})),fo.get_student_profile_details(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.Q.ADMIN_GET_STUDENT_PROFILE_DATA_SUCCESS},{student_details:e.result})):(alert(e.error),t(Object(h.i)({type:m.Q.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:e.error})))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_GET_STUDENT_PROFILE_DATA_FAILURE},{error:n}))}))}},this.unlockStudentNextStack=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_UNLOCK_STUDENT_NEXT_STACK_REQUEST},{})),fo.unlock_student_next_stack(e).then((function(e){e.status||alert(e.error),t(Object(h.i)({type:m.Q.ADMIN_UNLOCK_STUDENT_NEXT_STACK_SUCCESS},{unlock_stack_response:e}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_UNLOCK_STUDENT_NEXT_STACK_FAILURE},{error:n}))}))}},this.updateStudentAPStatus=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_AP_STATUS_REQUEST},{})),fo.update_student_ap_status(e).then((function(e){e.status||alert(e.error),t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_AP_STATUS_SUCCESS},{update_ap_response:e}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_AP_STATUS_FAILURE},{error:n}))}))}},this.deleteStudentStackSchedule=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_REQUEST},{})),fo.delete_student_stack_schedule(e).then((function(e){!0===e.status?t(Object(h.i)({type:m.Q.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_SUCCESS},{student_details:e.results})):t(Object(h.i)({type:m.Q.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE},{error:e.error}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_DELETE_STUDENT_STACK_SCHEDULE_FAILURE},{error:n}))}))}},this.updateStudentStackSchedule=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_REQUEST},{})),fo.update_student_stack_schedule(e).then((function(e){!0===e.status&&(""!==e.message&&alert("ERROR ON UPDATING THE FOLLOWING STACK SCHEDULES: \n"+e.message),t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_SUCCESS},{student_details:e.results})))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_STACK_SCHEDULE_FAILURE},{error:n}))}))}},this.updateStudentRegion=function(e){return function(t){t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_REGION_REQUEST},{})),fo.update_student_region(e).then((function(e){e.status?t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_REGION_SUCCESS},{student_details:e.results})):t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_REGION_FAILURE},{error:e.error}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.Q.ADMIN_UPDATE_STUDENT_REGION_FAILURE},{error:n}))}))}}};n(1073);var go=function(){var e=Object(a.useState)([{icon_name:"users",link:"student_rostering/roster"}]),t=Object(O.a)(e,1)[0];return s.a.createElement("div",{id:"sidebar_container"},s.a.createElement("ul",{className:"list-unstyled",id:"sidebar_buttons_list"},t.map((function(e){return s.a.createElement("li",{key:e.link},s.a.createElement(Q.b,{to:"/admin/"+e.link},s.a.createElement(ue.a,{icon:["fas",e.icon_name]})))}))))};n(1074);var bo=function(e){var t=e.navigation,n=Object(a.useState)(!1),i=Object(O.a)(n,2),o=i[0],r=i[1],c=Object(V.g)().pathname.split("/");return s.a.createElement("div",{id:"admin_navigation_container",className:"".concat(o?"collapse":"")},s.a.createElement("h3",null,t.title),s.a.createElement("button",{onClick:function(){return r(!o)},id:"toggle_collapse_sidebar_btn"},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})),s.a.createElement("ul",{className:"list-unstyled",id:"navigation_list"},t.links.map((function(e){return s.a.createElement("li",{className:c.filter((function(t){return t===e.name.replace(" ","_").toLowerCase()}))[0]?"active":"",key:e.name},s.a.createElement(Q.b,{to:""},e.name),void 0!==e.sub_links&&s.a.createElement("ul",{className:"list-unstyled"},e.sub_links.map((function(e,t){return s.a.createElement("li",{className:c[c.length-1]===e.link?"active":"",key:e.name},s.a.createElement(Q.b,{to:"/admin/student_rostering/".concat(e.link)},e.name," (step ",t+1,"/2)"))}))))}))))},vo=n(89),So=n.n(vo),Oo=(n(1075),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).customContentRenderer=function(){var e=a.props.dropdown;return s.a.createElement(s.a.Fragment,null,e.selected.length>0?e.selected[0].label:e.name,e.is_multi_select&&e.selected.length>1&&s.a.createElement("span",{className:"multi_select_indicator"},"+ ".concat(e.selected.length-1)),e.selected.length<=0&&s.a.createElement("span",{className:"dropdown_handle_icon add"}))},a.customClearRenderer=function(e){var t=e.methods;return s.a.createElement(s.a.Fragment,null,a.props.dropdown.selected.length>0&&s.a.createElement("span",{className:"dropdown_handle_icon clear",onClick:function(){return t.clearAll()}}))},a.customDropdownRenderer=function(e){var t=e.props,n=e.state,i=e.methods,o=a.state.search,r=new RegExp(o,"i"),c=t.options.filter((function(e){return r.test(e[t.searchBy]||e[t.labelField])}));return s.a.createElement(s.a.Fragment,null,a.props.dropdown.is_show_search&&s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",value:o,onChange:function(e){return a.searchDropdownMenuOption(e,i)},placeholder:"Type anything"})),s.a.createElement("div",{className:"dropdown_menu"},c.length>0?c.map((function(e,o){return!t.keepSelectedInList&&i.isSelected(e)?null:s.a.createElement("div",{className:"dropdown_item ".concat(n.cursor===o?"active":""),disabled:e.disabled,key:e[t.valueField],tabIndex:"-1","aria-label":e[t.labelField],role:"option","aria-selected":-1!==n.values.indexOf(e),onClick:e.disabled?null:function(){return i.addItem(e)}},s.a.createElement("span",null,e[t.labelField]),n.cursor===o?a.autoFocusActiveDropdownItem(o):null,a.props.dropdown.is_multi_select&&s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{id:"".concat(e[t.valueField],"_dropdown_checkbox"),checked:a.props.dropdown.selected.filter((function(t){return t.value===e.value})).length>0,type:"checkbox",onChange:function(){return e.disabled?void 0:i.addItem(e)}}),s.a.createElement("label",{htmlFor:"".concat(e[t.valueField],"_dropdown_checkbox")},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(ue.a,{icon:["fas","check"]})))))})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},a.searchDropdownMenuOption=function(e,t){a.setState({search:e.target.value}),t.setSearch(e)},a.autoFocusActiveDropdownItem=function(e){var t=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_menu"),n=document.querySelector(".react-dropdown-select[aria-expanded='true'] .dropdown_item:nth-child("+(e+1)+")"),a=n.offsetTop+n.offsetHeight;a>t.offsetHeight&&(t.scrollTop=a-t.offsetHeight+10),0===e&&(t.scrollTop=0)},a.state={search:""},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.dropdown;return s.a.createElement(So.a,{className:"".concat(t.selected.length>0&&"has_value"),clearable:!0,clearRenderer:this.customClearRenderer,contentRenderer:this.customContentRenderer,dropdownHandle:!1,dropdownRenderer:this.customDropdownRenderer,handleKeyDownFn:this.autoScrollDropdownMenu,multi:!!t.is_multi_select,onChange:function(n){return e.props.onUpdateFilterDropdownSelectedValue(n,t)},onDropdownClose:function(){return e.setState({search:""})},options:t.options,placeholder:t.name,values:t.selected})}}]),n}(a.Component)),ko=(n(1087),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:"filter_container",action:"",onSubmit:function(t){return e.props.submitFilters(t)}},this.props.filter_dropdowns.length>0&&this.props.filter_dropdowns.map((function(t){return s.a.createElement(Oo,{key:t.name,dropdown:t,onUpdateFilterDropdownSelectedValue:e.props.updateFilterDropdownSelectedValue})})),s.a.createElement("button",{type:"submit"},"Fetch Results"),s.a.createElement("button",{type:"button",onClick:function(){return e.props.clearAllFilters()}},"Clear All"))}}]),n}(a.Component)),To=(n(1088),n(1089),n(1090),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e,t){var n=Object(S.a)(a.state.inputs),s=n.indexOf(t);n[s]=Object(g.a)({},t),n[s].value=e.target.value,a.setState({inputs:n})},a.handleSubmitRetrieveForm=function(e){e.preventDefault();var t=Object(S.a)(a.state.inputs);if(t.map((function(e){return e.is_valid=""!==e.value,e})),t[1].value!==t[2].value){t[1].error_message="Password doesn\u2019t match";for(var n=1;n<t.length;n++)t[n].is_valid=!1}if(console.log(t),a.setState({inputs:t}),0===t.filter((function(e){return!1===e.is_valid})).length){var s=Object(O.a)(t,3),i=s[0],o=s[1],r=s[2],c=(a.props.location&&a.props.location.state||{from:{pathname:"/change_password"}}).from;a.props.resetPassword(i.value,o.value,r.value,c)}},a.resetModalOnHide=function(){var e=Object(S.a)(a.state.inputs);e.map((function(e){e.is_valid=!0,e.value=""})),a.setState({inputs:e}),a.state.is_password_reset=!1,a.props.toggleShowModal(!1)},a.state={is_password_reset:!1,inputs:[{name:"old_password",type:"password",error_message:"Password doesn\u2019t match our record. Please try again.",label:"Current Password",value:"",is_valid:!0},{name:"new_password",type:"password",error_message:"Password does not match",label:"New Password",value:"",is_valid:!0},{name:"confirm_password",type:"password",error_message:"Password does not match",label:"Confirm New Password",value:"",is_valid:!0}]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return void 0!=this.props.user.is_current_password&&(this.props.user.is_current_password?(this.state.is_password_reset=!0,this.props.user.is_current_password=void 0):this.state.inputs[0].is_valid=!1),s.a.createElement(fe.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"change_password_modal"},s.a.createElement(fe.a.Header,null,!this.state.is_password_reset&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",null,"Change Your Password"),s.a.createElement("p",null,"Your new password must be different from your current password.")),this.state.is_password_reset&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",null,"New Password Saved!"),s.a.createElement("p",null,"You can now use your new password to log in to your account."))),s.a.createElement(fe.a.Body,null,!this.state.is_password_reset&&s.a.createElement("form",{action:"",id:"reset_password_form",onSubmit:this.handleSubmitRetrieveForm},this.state.inputs.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:""},t.label),s.a.createElement("input",{type:t.type,name:t.name,className:"form-control ".concat(t.is_valid?"":"error"),onChange:function(n){return e.handleInputChange(n,t)},value:t.value}),t.is_valid?"":s.a.createElement("p",null,t.error_message))})),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save New Password"))))}}]),n}(a.Component)),Co=Object(h.p)(void 0,{resetPassword:de.a.resetPassword}),Ao=Co.mapStateToProps,Ro=Co.mapDispatchToProps,yo=Object(l.b)(Ao,Ro)(To);var wo=Object(h.p)(["user","dashboard"],{upload_user_profile_pic:de.a.upload_user_profile_pic}),Do=wo.mapStateToProps,Uo=wo.mapDispatchToProps,Io=Object(l.b)(Do,Uo)((function(e){var t=Object(a.useState)(e.profile.general.image_url),n=Object(O.a)(t,2),i=n[0],o=n[1],r=Object(a.useState)(!1),c=Object(O.a)(r,2),_=c[0],l=c[1],u=Object(a.useState)(!1),d=Object(O.a)(u,2),p=d[0],h=d[1],f=s.a.createElement(Fe.a,{id:"user_profile_popover"},s.a.createElement(Fe.a.Title,null,s.a.createElement("p",null,"Coding Dojo Domestic Workspace"),s.a.createElement("div",{id:"info_container"},s.a.createElement("label",{title:"Upload profile picture"},s.a.createElement("input",{onChange:function(t){return function(t){var n=t.target.files[0];if(0!=n.length){var a=new FileReader;a.readAsDataURL(n),e.upload_user_profile_pic({pic_upload:t.target.files[0]}),a.onload=function(){o(a.result)},l(!0),setTimeout((function(){l(!1)}),2e3)}}(t)},accept:"image/*",className:"hidden",type:"file"}),s.a.createElement(ue.a,{icon:["fas","upload"]}),s.a.createElement("img",{className:_?"is_uploading":"hidden",src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}),s.a.createElement("img",{src:i,alt:"profile-picture"})),s.a.createElement("h6",null,s.a.createElement(ae.a,{overlay:s.a.createElement(se.a,{className:"user_name_tooltip"},e.profile.general.first_name," ",e.profile.general.last_name)},s.a.createElement("span",{className:"name"},e.profile.general.first_name," ",e.profile.general.last_name)),s.a.createElement("span",{className:"user_level"},void 0!=m.a[e.profile.general.user_level_id]?m.a[e.profile.general.user_level_id]:"Admin")),s.a.createElement("p",null,e.profile.general.email_address))),s.a.createElement(Fe.a.Content,null,s.a.createElement("h6",null,"ACCESS"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:"/dashboard"},s.a.createElement("span",{id:"lp3_user_view_icon",className:"icon"})," Learn Platform V3 User View")),s.a.createElement("li",null,s.a.createElement("a",{href:"https://learn.codingdojo.com/admin/access"},s.a.createElement("span",{id:"lp2_admin_view_icon",className:"icon"})," Learn Platform V2 Admin View")),s.a.createElement("li",null,s.a.createElement("a",{href:"https://letsrock.codingdojo.com"},s.a.createElement("span",{className:"icon",id:"lets_rock_crm_view_icon"})," Letsrock CRM"))),s.a.createElement("h6",null,"ACCOUNT"),s.a.createElement("ul",null,s.a.createElement("li",null," ",s.a.createElement("button",{onClick:function(e){return h(!0)},type:"button"},s.a.createElement("span",{className:"icon",id:"change_password_icon"})," Change Password")),s.a.createElement("li",null,s.a.createElement("a",{href:"/logout"},s.a.createElement("span",{className:"icon",id:"logout_icon"})," Log Out")))));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"header_container"},s.a.createElement("div",{className:"left_container"},void 0!==e.onSearchStudents&&s.a.createElement("form",{onSubmit:function(t){return e.onSearchStudents(t)}},s.a.createElement(ue.a,{icon:["fas","search"]}),s.a.createElement("input",{autoComplete:"off",type:"text",name:"search",value:e.search_student_keyword,placeholder:"Search by name or email address",onChange:function(t){return e.onSetSearchStudentsKeyword(t)}}),s.a.createElement("p",null,"To search multiple values, separate emails by space e.g. \u201ctest@codingdojo.com demo@codingdojo.com\u201d"))),s.a.createElement("div",{className:"right_container"},s.a.createElement("div",{id:"admin_profile"},s.a.createElement("span",{id:"user_level"},void 0!=m.a[e.profile.general.user_level_id]?m.a[e.profile.general.user_level_id]:"Admin"),s.a.createElement("span",{className:"name"},e.profile.general.first_name," ",e.profile.general.last_name[0],"."),s.a.createElement(ae.a,{trigger:"click",placement:"left",rootClose:!0,overlay:f},s.a.createElement("img",{src:i||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Profile Image"}))))),s.a.createElement(yo,{toggleShowModal:function(){return h(!1)},show:p}))})),Mo=n(53),Po=(n(1092),n(1093),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).customContentRenderer=function(t){t.props;var n=t.state,a=e.props.dropdown;return s.a.createElement(s.a.Fragment,null,a.selected.length>0?a.selected[0].label:"Select a stack schedule",n.values.length<=0&&s.a.createElement(ue.a,{icon:["fas","caret-down"]}))},e.customClearRenderer=function(e){e.props;var t=e.state;e.methods;return s.a.createElement(s.a.Fragment,null,t.values.length>0&&s.a.createElement(ue.a,{icon:["fas","caret-down"]}))},e.customDropdownRenderer=function(t){var n=t.props,a=t.state,i=t.methods,o=e.props.offered_stack_schedules.filter((function(e){return(e.name.toLowerCase()+" ("+e.date.toLowerCase()+")").includes(a.search.toLowerCase())}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dropdown_search_container"},s.a.createElement("input",{type:"text",value:a.search,onChange:i.setSearch,placeholder:"Search Stack"})),s.a.createElement("div",{className:"dropdown_menu"},o.length>0?o.map((function(e){return s.a.createElement("div",{className:"dropdown_item",disabled:e.disabled,key:e[n.valueField],onClick:e.disabled?null:function(){return i.addItem(e)}},s.a.createElement("input",{type:"checkbox",onChange:function(){return e.disabled?void 0:i.addItem(e)},checked:-1!==a.values.indexOf(e)}),s.a.createElement("span",null,e[n.labelField]))})):s.a.createElement("div",{className:"no_results_found"},"No results found.")))},e}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.dropdown,a=t.user_id,i=t.applicant_id,o=t.schedule_index;return s.a.createElement(So.a,{className:"is_normal_select ".concat(n.selected.length>0&&"has_value"),placeholder:n.name,dropdownHandle:!1,clearable:!0,contentRenderer:this.customContentRenderer,clearRenderer:this.customClearRenderer,dropdownRenderer:this.customDropdownRenderer,onChange:function(t){return e.props.onUpdateFilterDropdownSelectedValue(t,n,a,i,o)},options:n.options})}}]),n}(a.Component)),No=(n(1094),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a,s;return Object(H.a)(this,n),(s=t.call(this,e)).showDeleteStackScheduleConfirmation=function(e,t,n){var a=e.nativeEvent.target.parentNode.offsetTop+24;s.setState({show_save_container:!1,delete_confirmation_position:a+"px",active_stack_schedule_index:t,is_show_delete_confirmation:!0,selected_cc_stack_schedule_id:n.value,selected_cc_student_stack_sched_id:n.cc_student_stack_sched_id,selected_crm_stack_schedule_id:n.crm_stack_schedule_id})},s.submitDeleteStackSchedule=function(e,t,n){return e.preventDefault(),s.props.deleteStudentStackSchedule({user_id:t,applicant_id:n,cc_stack_schedule_id:s.state.selected_cc_stack_schedule_id,cc_student_stack_sched_id:s.state.selected_cc_student_stack_sched_id,crm_stack_schedule_id:s.state.selected_crm_stack_schedule_id}),s.setState({is_show_delete_confirmation:!1}),!1},s.toggleShowDropdown=function(){var e=Object(g.a)({},s.state.dropdown);e.show=!s.state.dropdown.show,s.setState({dropdown:e})},s.searchStack=function(e){var t=Object(g.a)({},s.state.dropdown);t.search_input_value=e.target.value,s.setState({dropdown:t})},s.selectStack=function(e){var t=Object(g.a)({},s.state.dropdown),n=s.props.rostering.student_details.stack_schedules;if(n.length>0){var a=n[n.length-1];a.cc_stack_start_date&&a.cc_stack_end_date&&s.checkAssignStackCautionMessage(a.cc_stack_start_date,a.cc_stack_end_date,e.start_date,e.cc_stack_id,a.stack_id)}t.selected_value=e,s.setState({dropdown:t},(function(){s.toggleShowDropdown()}))},s.assignStackSchedule=function(e){var t=s.state.dropdown.selected_value;s.props.processSelectedStudentsNextStack({cc_stack_id:t.cc_stack_id,stack_start_date:t.start_date,stack_end_date:t.end_date,selected_applicants_ids:[e],is_from_student_profile:!0}),s.setState({is_show_add_stack_schedule_container:!1,show_save_container:!1,show_caution_message:!1})},s.submitUpdateStackSchedule=function(e){var t=s.props.student_data,n=t.id,a=t.applicant_id;e.preventDefault();var i=[];return Object.entries(s.state.to_be_added_stack_scheds).map((function(e){var t=Object(O.a)(e,2),n=(t[0],t[1]);i.push(n)})),s.props.updateStudentStackSchedule({user_id:n,applicant_id:a,add_stack_schedules:i}),s.setState({show_save_container:!1,selected_stack_schedules:[],to_be_added_stack_scheds:{}}),!1},s.handleUpdateFilterDropdownSelectedValue=function(e,t,n,a,i){var o=s.props.rostering.student_details.stack_schedules,r=e[0];t.cc_stack_start_date&&t.cc_stack_end_date&&s.checkAssignStackCautionMessage(t.cc_stack_start_date,t.cc_stack_end_date,r.start_date,r.cc_stack_id,t.stack_id),o.map((function(n,o){n.stack_schedule===t.stack_schedule&&o==i&&(s.state.to_be_added_stack_scheds[i]={cc_stack_id:r.cc_stack_id,is_from_student_profile:!0,to_update_stack_schedule:!0,selected_applicants_ids:[a],stack_start_date:r.start_date,stack_end_date:r.end_date,attempt_order:n.attempt_order,stack_schedule_index:i,delete_student_stack_sched:{cc_stack_schedule_id:n.cc_stack_schedule_id,cc_student_stack_sched_id:n.cc_student_stack_sched_id,crm_stack_schedule_id:n.crm_stack_schedule_id}},n.selected=[Object(g.a)({},e[0])],s.setState({show_save_container:!0}))}))},s.onHideModal=function(){s.props.toggleShowModal(!1),s.setState({show_save_container:!1,show_caution_message:!1,is_show_add_stack_schedule_container:!1,selected_stack_schedules:[],to_be_added_stack_scheds:{}})},s.checkAssignStackCautionMessage=function(e,t,n,a,i){var o=new Date(e),r=new Date(t),c=new Date(n),_=Math.round((r-o)/6048e5);s.setState({show_caution_message:a==i&&_>=8&&r>c})},s.state=(a={show_dropdown:!1,delete_confirmation_position:"0px",is_show_delete_confirmation:!1,active_stack_schedule_index:null,selected_cc_stack_schedule_id:null,selected_cc_student_stack_sched_id:null,selected_crm_stack_schedule_id:null,selected_stack_schedules:[],is_show_add_stack_schedule_container:!1,show_save_container:!1,is_show_students_list:!1,is_form_submitted:!1,to_be_added_stack_scheds:{}},Object(bt.a)(a,"is_form_submitted",!1),Object(bt.a)(a,"show_caution_message",!1),Object(bt.a)(a,"dropdown",{show:!1,search_input_value:"",selected_value:void 0}),a),s}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=void 0!==this.props.rostering.student_details&&void 0!==this.props.rostering.student_details.profile_details&&0!=Object.keys(this.props.rostering.student_details.profile_details).length?this.props.rostering.student_details.profile_details:this.props.student_data,n=t.id,a=t.applicant_id,i=t.name,o=t.img_link,r=t.email,c=t.is_veteran,_=t.program,l=t.campus,u=t.region,d=(t.core_acr,t.core_acr_bg,t.attendance_rate,t.att_bg,t.belts,this.state.dropdown),p=void 0!==this.props.rostering.student_details?this.props.rostering.student_details.stack_schedules:[];return s.a.createElement(fe.a,{show:this.props.show,centered:!0,onHide:function(){return e.onHideModal()},id:"student_profile_modal"},""!=this.props.student_data&&s.a.createElement(fe.a.Body,{className:this.state.show_dropdown?"active_dropdown":this.state.is_show_delete_confirmation?"show_delete_stack":""},!this.state.is_show_add_stack_schedule_container&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"left_content"},s.a.createElement("div",{id:"info_block",className:"block"},s.a.createElement("div",{className:"left_container"},s.a.createElement("img",{src:o||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"my profile picture"}),s.a.createElement("h6",null,i," ",c?s.a.createElement("span",{className:"is_veteran"}):""," "),s.a.createElement("p",null,r))),s.a.createElement("ul",{id:"belt_list",className:"block"}),s.a.createElement("ul",{id:"location_region_list",className:"block"},s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"program"})," Program"),s.a.createElement("h5",null,_)),s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"location"})," Location"),s.a.createElement("h5",null,l)),s.a.createElement("li",null,s.a.createElement("h6",null,s.a.createElement("span",{className:"region"})," Region"),s.a.createElement("h5",null,u))),s.a.createElement("ul",{id:"rating_list",className:"block"})),s.a.createElement("form",{id:"update_stack_schedule_form",onSubmit:function(t){return e.submitUpdateStackSchedule(t)},action:""},s.a.createElement("h5",null,"Stack Schedules"),p.map((function(t,i){return s.a.createElement("div",{className:"".concat(0==t.is_disabled?"":"disabled"," block"),key:t.id},s.a.createElement("h6",null,t.name),0!==t.selected.length&&0==t.is_disabled&&s.a.createElement("button",{type:"button",className:"delete_stack_schedule_btn",onClick:function(n){return e.showDeleteStackScheduleConfirmation(n,i,t.selected[0])}},s.a.createElement(ue.a,{icon:["fas","trash"]})),s.a.createElement(Po,{dropdown:t,schedule_index:i,user_id:n,applicant_id:a,offered_stack_schedules:e.props.offered_stack_schedules,onUpdateFilterDropdownSelectedValue:e.handleUpdateFilterDropdownSelectedValue}))})),s.a.createElement("button",Object(bt.a)({id:"add_a_new_stack_btn",type:"button",className:"".concat(this.state.show_save_container?"is_show_save_container":""),onClick:function(){return e.setState({is_show_add_stack_schedule_container:!0,show_caution_message:!1,dropdown:{search_input_value:"",selected_value:void 0}})}},"type","button"),s.a.createElement(ue.a,{icon:["fas","plus"]})," Add a New Stack"),this.state.show_save_container&&s.a.createElement("div",{className:"buttons_container"},s.a.createElement("button",{type:"button",onClick:function(){return e.onHideModal()}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save Changes"))),s.a.createElement("form",{id:"confirm_delete_stack_container",style:{top:"".concat(this.state.delete_confirmation_position)}},s.a.createElement("p",null,"By deleting this schedule, the system will no longer track any new progress made by student within the respective time range."),s.a.createElement("div",{className:"buttons_container"},s.a.createElement("button",{type:"button",onClick:function(){return e.setState({is_show_delete_confirmation:!1})}},"Cancel"),s.a.createElement("button",{type:"submit",onClick:function(t){return e.submitDeleteStackSchedule(t,n,a)},id:"delete_stack_confirmation_btn"},"Yes, delete it"))),s.a.createElement("div",{onClick:function(){return e.setState({show_dropdown:!1,is_show_delete_confirmation:!1})},className:"backdrop"})),this.state.is_show_add_stack_schedule_container&&s.a.createElement("div",{id:"assign_student_stack_container"},s.a.createElement("button",{type:"button",onClick:function(){return e.setState({is_show_add_stack_schedule_container:!1,show_caution_message:!1})}},s.a.createElement(ue.a,{icon:["fas","angle-left"]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Add A New Stack"),s.a.createElement("div",{id:"assign_stack_dropdown"},s.a.createElement("div",{id:"assign_stack_dropdown_toggle"},d.show?s.a.createElement("input",{type:"text",name:"search_stack",placeholder:"Search Stack Name",value:d.search_input_value,onChange:function(t){return e.searchStack(t)}}):s.a.createElement("button",{type:"button",onClick:function(){return e.toggleShowDropdown()}},void 0===d.selected_value?s.a.createElement("span",{className:"placeholder"},"Search Stack Name"):s.a.createElement(s.a.Fragment,null,d.selected_value.label)),s.a.createElement("button",{type:"button",onClick:function(){return e.toggleShowDropdown()}},s.a.createElement(ue.a,{icon:["fas","caret-down"]}))),d.show&&s.a.createElement("ul",{className:"list-unstyled"},this.props.offered_stack_schedules.filter((function(e){return(e.name.toLowerCase()+" ("+e.date.toLowerCase()+")").includes(d.search_input_value.toLowerCase())})).map((function(t){return s.a.createElement("li",{key:t.id},s.a.createElement("button",{type:"button",onClick:function(){return e.selectStack(t)}},t.label))})))),this.state.show_caution_message&&s.a.createElement("p",null,"Proceed with caution: This schedule contradicts with one of the existing schedules. When this schedule unlocks, the schedule it contradicts with will become inactive.")),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{type:"button",onClick:function(){return e.setState({is_show_add_stack_schedule_container:!1,show_caution_message:!1})}},"Cancel"),s.a.createElement("button",{type:"button",onClick:function(){return e.assignStackSchedule(a)},id:"add_new_stack_confirm_btn"},"Confirm")))))}}]),n}(a.Component)),Lo=Eo.processSelectedStudentsNextStack,jo=Eo.deleteStudentStackSchedule,Fo=Eo.updateStudentStackSchedule,xo=Object(h.p)(["rostering"],{processSelectedStudentsNextStack:Lo,deleteStudentStackSchedule:jo,updateStudentStackSchedule:Fo}),Bo=xo.mapStateToProps,Ko=xo.mapDispatchToProps,Wo=Object(l.b)(Bo,Ko)(No),Ho=n(362),$o=n.n(Ho);n(1095);var qo=function(e){var t=e.data;return s.a.createElement("div",{id:"copy_to_clipboard_container",className:"".concat(t.is_show?"fade_in":"fade_out"),style:{left:t.position.left,top:t.position.top+t.position.height+5}},s.a.createElement("img",{src:$o.a,alt:"Copy to clipboard icon"}),s.a.createElement("span",null,t.text))},Go=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).requestSort=function(e){var t="caret-down",n=Object(g.a)({},a.state.sort_config);n&&n.key===e&&"caret-down"===n.direction&&(t="caret-up"),n.key=e,n.direction=t,a.setState({sort_config:n},(function(){a.props.onSortTable(a.state.sort_config)}))},a.renderTableHead=function(e){return"checkbox"===e.name?s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"asdasd",type:"checkbox",id:"1_checkbox",checked:a.props.is_all_students_checked,onChange:function(e){return a.props.onToggleCheckStudents(e,!0)}}),s.a.createElement("label",{htmlFor:"1_checkbox"},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(ue.a,{icon:["fas","check"]})))):(null===e||void 0===e?void 0:e.tooltip_text)?s.a.createElement(s.a.Fragment,null,e.name,s.a.createElement(ae.a,{className:"test",placement:"top",delay:{show:250,hide:400},overlay:s.a.createElement(se.a,{id:"admin_tooltip"},e.tooltip_text)},s.a.createElement(ue.a,{icon:["fas","info-circle"]}))):"Name"===e.name?e.name+" ("+a.props.total_results+")":e.name},a.renderUserStatus=function(e){return{3:{name:"Accepted",bg_color:"gray"},3.1:{name:"Unresponsive",bg_color:"gray"},3.2:{name:"Not Interested",bg_color:"gray"},3.3:{name:"Rejected",bg_color:"red"},4.2:{name:"Current",bg_color:"green"},4.6:{name:"Alumni",bg_color:"green"},4.7:{name:"Transferred",bg_color:"green"},4.1:{name:"Upcoming",bg_color:"gray"},4.3:{name:"Pending",bg_color:"yellow"},4.4:{name:"Incomplete",bg_color:"red"},4.5:{name:"Dropped",bg_color:"red"},4.8:{name:"Cancelled",bg_color:"red"},4.9:{name:"Expelled",bg_color:"red"},5:{name:"Auditor",bg_color:"green"},5.1:{name:"Non-Grad",bg_color:"yellow"},5.2:{name:"QA Review",bg_color:"yellow"}}[e]||{name:"",bg_color:""}},a.getStudentProfileDetails=function(e,t,n,s,i){a.props.getStudentProfileDetails({user_id:e,applicant_id:t,next_stack_params:{program_type_ids:[n],location_ids:[s]},is_from_student_matching:!1}),a.setState({is_show_student_profile_modal:!0,student_profile_data:i,selected_applicant_id:t})},a.copyEmailToClipboard=function(e,t){var n=Object(g.a)({},a.state.copy_clipboard_popover);n.is_show=!0,n.position=e.target.getBoundingClientRect(),a.setState({copy_clipboard_popover:n},(function(){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),setTimeout((function(){n.is_show=!1,a.setState({copy_clipboard_popover:n})}),1e3)}))},a.state={sort_config:null,selected_applicant_id:null,is_show_student_profile_modal:!1,stack_schedule_data:[],offered_stack_schedules:[],student_profile_data:ho[0],copy_clipboard_popover:{is_show:!1,text:"Email address copied to your clipboard",position:{}},ap_options:[{value:0,label:"None"},{value:1,label:"AP"},{value:2,label:"AIP"}],region_options:[{value:1,label:"East"},{value:2,label:"West"}],total_results:0},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.rostering.student_details,n=this.props,a=n.table_head_columns,i=n.students,o=n.onToggleCheckStudents,r=n.is_loading,c=n.onUpdateAPStatus,_=n.onUpdateStudentRegion,l=n.selected_students,u=n.is_export,d=this.state,p=d.sort_config,m=d.ap_options,f=d.copy_clipboard_popover,E=d.region_options;this.state.offered_stack_schedules=t?t.offered_stack_schedules:[];var g=function(t){var n=e.state.sort_config;if(n)return n.key===t?n.direction:"caret-down"};return s.a.createElement(s.a.Fragment,null,s.a.createElement(qo,{data:f}),s.a.createElement("div",{className:"table_container"},s.a.createElement(Mo.StickyTable,{leftStickyColumnCount:2,borderWidth:"0px",className:"".concat(r||!1===r&&0===i.length&&!u?"table_loading":"")},s.a.createElement(Mo.Row,null,a.map((function(t){return s.a.createElement(Mo.Cell,{key:t.name,style:{minWidth:t.width},onClick:function(){return void 0!==t.sort_data?e.requestSort(t.sort_data):null}},e.renderTableHead(t),void 0!==t.sort_data&&s.a.createElement(ue.a,{className:"".concat(null!==p&&p.key===t.sort_data?"":"light"),icon:["fas",void 0===g(t.sort_data)?"caret-down":g(t.sort_data)]}))}))),!1===r&&0===i.length&&!u&&s.a.createElement("div",{id:"no_results_found"},"No results found."),r?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):i.map((function(t,n){var a=!!e.props.is_all_students_checked||(l[t.applicant_id]||!1),i=m.filter((function(e){return e.value===t.ap})),r=E.filter((function(e){return e.label===t.region})),u=new Date<new Date(t.receiving_stack_start);return s.a.createElement(Mo.Row,{key:t.id},s.a.createElement(Mo.Cell,null,s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{name:"asdasd",type:"checkbox",id:"checkbox_"+t.id,"data-id":t.id,"data-applicant-id":t.applicant_id,"data-name":t.name,"data-program-type-id":t.program_type_id,"data-location-id":t.location_id,checked:a,onChange:function(e){return o(e,!1,t)}}),s.a.createElement("label",{htmlFor:"checkbox_"+t.id},s.a.createElement("div",{className:"checkbox_container"},s.a.createElement(ue.a,{icon:["fas","check"]}))))),s.a.createElement(Mo.Cell,null,s.a.createElement("div",{className:"name",onClick:function(){return e.getStudentProfileDetails(t.id,t.applicant_id,t.program_type_id,t.location_id,t)}},t.name),s.a.createElement("div",{className:"email",onClick:function(n){return e.copyEmailToClipboard(n,t.email)}},t.email),s.a.createElement("div",{className:"id_number",onClick:function(){return e.getStudentProfileDetails(t.id,t.applicant_id,t.program_type_id,t.location_id,t)}},"#",t.id)),s.a.createElement(Mo.Cell,null,t.program),s.a.createElement(Mo.Cell,null,1===t.is_veteran&&s.a.createElement("span",{className:"veteran_label"},"V")),s.a.createElement(Mo.Cell,null,s.a.createElement("div",{className:e.renderUserStatus(t.status).bg_color+"_bg"},s.a.createElement("span",null,e.renderUserStatus(t.status).name))),s.a.createElement(Mo.Cell,null,s.a.createElement(So.a,{className:i[0].label.toLowerCase(),options:m,values:i,onChange:function(e){return c(e[0].value,t.applicant_id)}})),s.a.createElement(Mo.Cell,null,s.a.createElement("div",{className:(null===t||void 0===t?void 0:t.stack)?"blue_bg":null==t.stack?"gray_bg":""},s.a.createElement("span",null,(null===t||void 0===t?void 0:t.stack)?t.stack:null==t.stack?"Unassigned":""))),s.a.createElement(Mo.Cell,null,t.stack_start_date),s.a.createElement(Mo.Cell,null,t.taught_by),s.a.createElement(Mo.Cell,null,t.stack&&t.belt&&s.a.createElement("div",{className:"belt_label ".concat(t.belt_bg)},t.belt,void 0!==t.belt_color&&s.a.createElement("span",{className:"".concat(t.belt_color," belt_icon")}))),s.a.createElement(Mo.Cell,null,t.retake>0&&s.a.createElement("span",{className:"retake_label yellow_bg"},"Retake X",t.retake)),s.a.createElement(Mo.Cell,null,s.a.createElement("div",{className:(null===t||void 0===t?void 0:t.receiving_stack)?"blue_bg":"gray_bg"},s.a.createElement("span",null,(null===t||void 0===t?void 0:t.receiving_stack)?t.receiving_stack:"Unassigned"),(null===t||void 0===t?void 0:t.receiving_stack)&&s.a.createElement(s.a.Fragment,null,t.receiving_stack_is_retake>0&&" (Re)",s.a.createElement("button",{type:"button",className:1===t.receiving_stack_status?"locked_btn ".concat(u?"has_tooltip":""):"unlocked_btn","data-tooltip":u?"Stack content automatically unlocks to students 72 hours before stack start date.":"",onClick:function(){return e.props.onToggleLockStack({applicant_id:t.applicant_id,user_track_id:t.receiving_user_track_id,receiving_stack_status:t.receiving_stack_status,stack_start_date:t.receiving_stack_start})}})))),s.a.createElement(Mo.Cell,null,s.a.createElement("div",{className:(null===t||void 0===t?void 0:t.receiving_instructor)?"blue_bg":"gray_bg"},s.a.createElement("span",null,(null===t||void 0===t?void 0:t.receiving_instructor)?t.receiving_instructor:"Unassigned"))),s.a.createElement(Mo.Cell,null,t.campus),s.a.createElement(Mo.Cell,null,s.a.createElement(So.a,{className:"region_select",options:E,values:r.length>0?r:[{value:0,label:"None"}],onChange:function(e){return _(e[0].label,t.id,t.applicant_id)}})))})))),s.a.createElement(Wo,{toggleShowModal:function(){return Object(h.v)(e,"is_show_student_profile_modal",!1)},selected_applicant_id:this.state.selected_applicant_id,student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,offered_stack_schedules:this.state.offered_stack_schedules}))}}]),n}(a.Component),Qo=Eo.getStudentProfileDetails,Vo=Eo.processSelectedStudentsNextStack,zo=Object(h.p)(["rostering"],{getStudentProfileDetails:Qo,processSelectedStudentsNextStack:Vo}),Yo=zo.mapStateToProps,Jo=zo.mapDispatchToProps,Xo=Object(l.b)(Yo,Jo)(Go),Zo=(n(1096),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).exportStudentData=function(e){e.preventDefault(),a.props.processExportFilteredStudents()},a.state={view_customization:[{id:1,title:"Program",sub_title:"Program Students Enrolled In",is_checked:!0},{id:2,title:"Status",sub_title:"Student Enrollment Status",is_checked:!0},{id:3,title:"Belt",sub_title:"Belt Exam Passing Status",is_checked:!0},{id:4,title:"Att.",sub_title:"Up-to-date Attendance Rate",is_checked:!0},{id:5,title:"Next Track",sub_title:"Next Unlockable Track/Stack",is_checked:!0},{id:6,title:"Campus",sub_title:"Student\u2019s Enrolled Campus",is_checked:!0},{id:7,title:"AP",sub_title:"Academic Probation Status",is_checked:!0},{id:8,title:"Region",sub_title:"Student\u2019s Registered Region",is_checked:!0},{id:9,title:"Vet ID",sub_title:"Veteran Status",is_checked:!0},{id:10,title:"Current Track",sub_title:"Student\u2019s Present Track/Stack",is_checked:!0},{id:11,title:"ACR",sub_title:"Up-to-date Assignment Completion Rate",is_checked:!0},{id:12,title:"Retake(s)",sub_title:"Current Track/Stack\u2019s Retake Number(s)",is_checked:!0},{id:13,title:"Receiving Instructor",sub_title:"Instructor of Student's Next Track/Stack",is_checked:!0},{id:14,title:"Gender",sub_title:"Gender Information",is_checked:!0}]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.is_exporting;return s.a.createElement(s.a.Fragment,null,s.a.createElement(fe.a,{className:"admin_modal",id:"export_to_csv_modal",show:this.props.show,backdrop:!1===t||"static",keyboard:!t,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0},!1===t?s.a.createElement(s.a.Fragment,null,s.a.createElement(fe.a.Header,null,s.a.createElement("h4",null,"Export to CSV File"),s.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}})),s.a.createElement("form",{onSubmit:function(t){return e.exportStudentData(t)}},s.a.createElement(fe.a.Body,null,s.a.createElement("h6",null,"Export Below Content:"),s.a.createElement("ul",null,this.state.view_customization.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("input",{type:"checkbox",disabled:"disabled",id:"customize_view_checkbox_"+e.id,defaultChecked:e.is_checked}),s.a.createElement("span",{className:"indicator"},s.a.createElement(ue.a,{icon:["fas","check"]})),s.a.createElement("label",{htmlFor:"customize_view_checkbox_"+e.id},e.title,s.a.createElement("span",null,e.sub_title)))})))),s.a.createElement(fe.a.Footer,null,s.a.createElement("button",{type:"submit"},"Download")))):s.a.createElement("div",{id:"data_exporting_container"},s.a.createElement("span",null),s.a.createElement("p",null,"Your download is loading..."))))}}]),n}(a.Component)),er=(n(1097),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).state={guidelines:[{id:1,name:"STEP 1 (Instructors): Passing qualified students to their next stacks"},{id:2,name:"STEP 2 (Regional Leads):  Matching students with assigned stack instructors"},{id:3,name:"STEP 3: System auto unlocking next stacks on user end 72 hours before their next stacks start"}]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{id:"roster_guidelines_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(fe.a.Header,null,s.a.createElement("h4",null,"Rostering Guideline"),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}})),s.a.createElement(fe.a.Body,null,s.a.createElement("ul",{className:"list-unstyled"},this.state.guidelines.map((function(e){return s.a.createElement("li",{key:e.id,id:"step_"+e.id},s.a.createElement("p",null,e.name),s.a.createElement("div",null),3!==e.id&&s.a.createElement("a",{href:"#step_"+(e.id+1)},s.a.createElement(ue.a,{icon:["fas","chevron-down"]})))})))))}}]),n}(a.Component)),tr=(n(1098),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).toggleShowDropdown=function(){var e=Object(g.a)({},a.state.dropdown);e.show=!a.state.dropdown.show,e.active_item_index=-1,a.setState({dropdown:e})},a.searchStack=function(e){var t=Object(g.a)({},a.state.dropdown);t.search_input_value=e.target.value,a.setState({dropdown:t})},a.selectStack=function(e){var t=Object(g.a)({},a.state.dropdown);t.selected_value=e,a.setState({dropdown:t,is_show_correct_stack_checkbox:!0},(function(){a.toggleShowDropdown()}))},a.submitAssignStudentsStack=function(e,t){e.preventDefault(),void 0!==t&&(a.props.onSubmitAssignStudentsStack(t),a.setState({is_form_submitted:!0}))},a.hideModal=function(){var e=Object(g.a)({},a.state.dropdown);e.show=!1,e.search_input_value="",e.selected_value=void 0,a.setState({is_form_submitted:!1,dropdown:e,stack_assign_success:!1,is_disable_submit_btn:!0,is_show_correct_stack_checkbox:!1}),a.props.toggleShowModal(!1)},a.handleSearchInputKeyDown=function(e){var t=a.props.next_stack_options,n=Object(g.a)({},a.state.dropdown);40===e.keyCode&&(n.active_item_index++,n.active_item_index>t.length&&(n.active_item_index=0)),38===e.keyCode&&(n.active_item_index--,n.active_item_index<0&&(n.active_item_index=t.length)),13===e.keyCode&&n.active_item_index>=0?a.selectStack(t[n.active_item_index]):40!==e.keyCode&&38!==e.keyCode||a.setState({dropdown:n},(function(){a.autoFocusActiveDropdownItem(n.active_item_index)}))},a.autoFocusActiveDropdownItem=function(e){var t=document.querySelector("#assign_stack_dropdown ul"),n=document.querySelector("#assign_stack_dropdown ul li:nth-child("+(e+1)+")");if(null!==n){var a=n.offsetTop+n.offsetHeight;a>t.offsetHeight&&(t.scrollTop=a-t.offsetHeight+10),0===e&&(t.scrollTop=0)}},a.state={is_show_students_list:!1,is_form_submitted:!1,dropdown:{show:!1,search_input_value:"",selected_value:void 0,active_item_index:-1},stack_assign_success:!1,is_disable_submit_btn:!0,is_show_correct_stack_checkbox:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.selected_students,a=t.total_results,i=t.next_stack_options,o=t.roster_next_stack_process,r=t.is_all_students_checked;this.state.stack_assign_success=o.next_stack_assign_success;var c=this.state,_=c.is_show_students_list,l=c.dropdown,u=c.stack_assign_success,d=c.is_form_submitted,p=(c.active_dropdown_item_index,[]);d&&u?Object.entries(o.successfully_assigned_students).map((function(e){var t=Object(O.a)(e,2),n=t[0],a=t[1];p.push([n,[a.name]])})):p=Object.entries(n);var m=this.state.is_disable_submit_btn,h=!r||d&&u?p.length:a;return p.sort((function(e,t){return e[1]>t[1]?1:t[1]>e[1]?-1:0})),s.a.createElement(fe.a,{className:"admin_modal",id:"assign_students_stacks_modal",show:this.props.show,onHide:function(){return e.hideModal()}},s.a.createElement(fe.a.Header,null,s.a.createElement("h4",null,"Assign Students to Next Stacks"),s.a.createElement("button",{onClick:function(){return e.hideModal()}})),s.a.createElement(fe.a.Body,null,s.a.createElement("div",null,d&&u?s.a.createElement("p",null,h," students have been successfully assigned to ",l.selected_value.name+" ("+l.selected_value.date+")"):s.a.createElement("p",null,s.a.createElement("span",null,h)," of ",a," students selected"),s.a.createElement("button",{type:"button",className:"".concat(_?"show":""),onClick:function(){return e.setState({is_show_students_list:!_})}},"Full List ",s.a.createElement(ue.a,{icon:["fas","angle-down"]}))),_&&s.a.createElement("ul",{className:"list-unstyled"},p.map((function(e){return s.a.createElement("li",{key:e[0]},e[1][0])}))),d&&u&&s.a.createElement("p",{id:"assign_students_form_note"},"Note: Students have to be matched with an instructor to unlock their next stack content."),!1===d&&s.a.createElement("form",{onSubmit:function(t){return e.submitAssignStudentsStack(t,l.selected_value)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Choose a stack to assign selected students to"),s.a.createElement("div",{id:"assign_stack_dropdown"},s.a.createElement("div",{id:"assign_stack_dropdown_toggle"},l.show?s.a.createElement("input",{autoFocus:!0,type:"text",name:"search_stack",placeholder:"Search Stack Name",value:l.search_input_value,onChange:function(t){return e.searchStack(t)},onKeyDown:this.handleSearchInputKeyDown}):s.a.createElement("button",{type:"button",onClick:function(){return e.toggleShowDropdown()}},void 0===l.selected_value?s.a.createElement("span",{className:"placeholder"},"Assign to..."):s.a.createElement(s.a.Fragment,null,l.selected_value.name+" ("+l.selected_value.date+")"," ",l.selected_value.is_retake&&s.a.createElement("span",null,"RETAKE")," ")),s.a.createElement("button",{type:"button",onClick:function(){return e.toggleShowDropdown()}},s.a.createElement(ue.a,{icon:["fas","caret-down"]}))),l.show&&s.a.createElement("ul",{className:"list-unstyled"},i.filter((function(e){return(e.name.toLowerCase()+" ("+e.date.toLowerCase()+")").includes(l.search_input_value.toLowerCase())})).map((function(t,n){return s.a.createElement("li",{key:t.id,className:"".concat(l.active_item_index===n?"active":"")},s.a.createElement("button",{type:"button",onClick:function(){return e.selectStack(t)}},t.name+" ("+t.date+")"))})))),this.state.is_show_correct_stack_checkbox&&s.a.createElement("div",{id:"checkbox_container"},s.a.createElement("input",{id:"correct_stack_schedule_checkbox",onChange:function(){return e.setState({is_disable_submit_btn:!m})},type:"checkbox"}),s.a.createElement("label",{htmlFor:"correct_stack_schedule_checkbox"},s.a.createElement(ue.a,{icon:["fas","check"]})," I am assigning the selected students to the correct stack schedule."))),s.a.createElement("div",{className:"btn_container"},s.a.createElement("button",{type:"button",onClick:function(){return e.hideModal()}},"Cancel"),s.a.createElement("button",{disabled:m,className:m?"disabled":"",type:"submit"},"Confirm")))))}}]),n}(a.Component)),nr=(n(1099),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object($.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selected_students,n=e.toggleShowModal,a=e.total_results,i=e.is_all_students_checked?a:Object.keys(t).length;return s.a.createElement("div",{id:"assign_to_next_stack_popover"},s.a.createElement("p",null,s.a.createElement("span",null,i)," of ",a," results"),s.a.createElement("button",{type:"button",onClick:function(){return n()}},s.a.createElement(ue.a,{icon:["fas","key"]}),s.a.createElement("span",null,"Assign to Next Stack")))}}]),n}(a.Component)),ar=(n(1100),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(H.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object($.a)(n,[{key:"render",value:function(){var e=this.props,t=e.total_results,n=e.pagination,a=e.onPaginateData,i=e.first_record_index,o=e.last_record_index,r=n.students_per_page,c=n.current_page;r=r||n.records_per_page;for(var _=[],l=1;l<=Math.ceil(t/r);l++)_.push(l);var u=_.map((function(e){return s.a.createElement("li",{key:e,className:"".concat(c===Number(e)?"active":"")},s.a.createElement("button",{type:"button",onClick:function(){return a(e)}},e))}));return s.a.createElement("div",{id:"pagination_container"},s.a.createElement("span",null,"Showing ",i," to ",o>t?t:o),s.a.createElement("div",{id:"pagination_btns_container"},c>1&&s.a.createElement("button",{type:"button",onClick:function(){return a(c-1)}},s.a.createElement(ue.a,{icon:["fas","chevron-left"]})),s.a.createElement("ul",{className:"list-unstyled",activePage:c},u),c!==_[_.length-1]&&s.a.createElement("button",{type:"button",onClick:function(){return a(c+1)}},s.a.createElement(ue.a,{icon:["fas","chevron-right"]}))))}}]),n}(a.Component)),sr=(n(1101),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){setTimeout((function(){a.props.getStudentRosteringFilters()}),700)},a.updateFilterDropdownSelectedValue=function(e,t){var n=Object(S.a)(a.state.filter_dropdowns);n.map((function(n){n.name===t.name&&(t.is_multi_select?n.selected=e.length>0?Object(S.a)(e):[]:(n.selected=e.length>0?[Object(g.a)(Object(g.a)({},e[0]),{},{filter_name:t.filter_name})]:[],"cc_stack_id"===n.filter_name&&(a.state.selected_cc_stack_id=t.selected.length>0?t.selected[0].value:null)))})),"cc_stack_id"===t.filter_name&&t.selected.length>0||"cc_stack_start_date"===t.filter_name&&t.selected.length,a.setState({filter_dropdowns:n})},a.updateAffectedFilterDropdownData=function(e,t){var n=[{label:"June 1, 2021",value:"2021-06-01"},{label:"May 31, 2021",value:"2021-05-31"},{label:"May 24, 2021",value:"2021-05-24"},{label:"May 23, 2021",value:"2021-05-23"},{label:"May 17, 2021",value:"2021-05-17"}],a=[{label:"Onsite Hybrid",value:"31"},{label:"Onsite Palestine",value:"47"},{label:"Onsite Web Development",value:"1"}];return t.map((function(t){var s=e.filter((function(e){return e.filter_name===t}))[0];"cc_stack_start_date"===s.filter_name?s.options=n:"program_type_id"===s.filter_name&&(s.options=a),s.selected=[]})),e},a.submitFilters=function(e){e&&(e.preventDefault(),a.resetToDefault(),a.state.is_all_students_checked=!1);var t={pagination:a.state.pagination,search_student_keyword:a.state.search_student_keyword},n=a.state.filter_dropdowns;n.map((function(e){e.selected.length>0&&(t[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)}));var s=0===n[0].selected.length&&0===n[1].selected.length&&!a.state.search_student_keyword;a.setState({is_show_program_filter_note:s}),a.state.is_processing_export_roster_list?t.event="export":(a.setState({is_loading:!0}),a.props.rostering.filters.search_student_keyword=a.state.search_student_keyword,a.state.latest_filter_params=t),a.props.getFilteredStudentRosteringData(t)},a.toggleLockStack=function(e){a.setState({is_process_lock_stack:!0}),a.props.unlockStudentNextStack(e)},a.toggleCheckStudents=function(e,t){var n=e.target.getAttribute("data-applicant-id"),s=Object(g.a)({},a.state.selected_students),i=Object(g.a)({},a.state.next_stack_params);if(t)a.setState({is_all_students_checked:e.target.checked}),e.target.checked?(a.state.students.map((function(e){s[e.applicant_id]=[e.name,e.program_type_id,e.location_id]})),a.state.is_all_students_triggered=!0,a.props.getNextStackOptionsList({program_type_ids:null,location_ids:null,all_selected:!0,latest_filter_params:a.state.latest_filter_params})):s={};else{var o=e.target.getAttribute("data-program-type-id"),r=e.target.getAttribute("data-location-id");e.target.checked?(i.program_type_ids.push(o),i.location_ids.push(r),s[n]=[e.target.getAttribute("data-name"),o,r]):(i.program_type_ids=a.removeFirstFromArray(i.program_type_ids,o),i.location_ids=a.removeFirstFromArray(i.location_ids,r),delete s[n],a.setState({is_all_students_checked:!1}))}a.setState({selected_students:s}),a.state.next_stack_params=i;var c=Object.keys(s).length>0;a.setState({is_show_assign_to_next_stack_popover:c})},a.removeFirstFromArray=function(e,t){var n=e.indexOf(t);return-1===n?e:[].concat(Object(S.a)(e.slice(0,n)),Object(S.a)(e.slice(n+1)))},a.resetToDefault=function(){a.state.selected_students={},a.state.next_stack_options=[],a.state.pagination.current_page=1,a.state.is_all_students_triggered=!1,a.state.next_stack_params={program_type_ids:[],location_ids:[]},a.setState({is_show_assign_to_next_stack_popover:!1})},a.submitAssignStudentsStack=function(e){a.setState({is_process_next_stack:!0}),a.props.processSelectedStudentsNextStack({cc_stack_id:e.cc_stack_id,stack_start_date:e.start_date,stack_end_date:e.end_date,selected_applicants_ids:Object.keys(a.state.selected_students),is_from_student_profile:!1,is_all_students_checked:a.state.is_all_students_checked})},a.sortTable=function(e){var t=Object(S.a)(a.state.students);e&&(["name","program","stack","stack_start_date","taught_by","receiving_stack","receiving_instructor","campus","region"].includes(e.key)?t.sort((function(t,n){return t[e.key]<n[e.key]?"caret-down"===e.direction?-1:1:t[e.key]>n[e.key]?"caret-down"===e.direction?1:-1:0})):t.sort((function(t,n){return"caret-down"===e.direction?t[e.key]-n[e.key]:n[e.key]-t[e.key]}))),a.setState({students:t}),a.props.rostering.student_list&&(a.props.rostering.student_list.result=t)},a.searchStudents=function(e){e.preventDefault(),a.resetToDefault(),a.submitFilters(null)},a.setSearchStudentsKeyword=function(e){e.preventDefault(),a.setState({search_student_keyword:e.target.value})},a.updateAPStatus=function(e,t){var n=Object(S.a)(a.state.students);n.map((function(n){n.id===t&&(n.ap=e)})),a.setState({students:n}),a.props.updateStudentAPStatus({applicant_id:t,ap_status:e})},a.updateStudentRegion=function(e,t,n){var s=Object(S.a)(a.state.students);s.map((function(n){n.id===t&&(n.region=e)})),a.setState({students:s}),a.props.updateStudentRegion({student_id:t,applicant_id:n,region:e})},a.paginateData=function(e){a.state.pagination.current_page=Number(e),a.submitFilters(null)},a.processExportFilteredStudents=function(){a.state.is_processing_export_roster_list=!0,a.setState({is_processing_export_roster_list:!0}),a.submitFilters(null)},a.clearAllFilters=function(){var e=Object(S.a)(a.state.filter_dropdowns);e.map((function(e){e.selected.length>0&&(e.selected=[])})),a.setState({filter_dropdowns:e})},a.state={navigation:po,table_head_columns:mo,filter_dropdowns:[],students:[],total_results:0,is_show_export_students_data_modal:!1,is_show_guidelines_modal:!1,is_show_assign_students_stack_modal:!1,is_all_students_checked:!1,is_all_students_triggered:!1,is_show_assign_to_next_stack_popover:!1,is_loading:!1,pagination:{current_page:1,students_per_page:30},search_student_keyword:"",selected_students:{},next_stack_options:[],is_process_next_stack:!1,is_process_lock_stack:!1,prev_search_key_not_set:!0,next_stack_params:{program_type_ids:[],location_ids:[]},is_processing_export_roster_list:!1,latest_filter_params:{},selected_cc_stack_id:null,is_show_program_filter_note:!1},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props.rostering;t.filters&&(this.state.filter_dropdowns=t.filters.result,""==this.state.search_student_keyword&&this.state.prev_search_key_not_set&&(this.state.search_student_keyword=t.filters.search_student_keyword,this.state.prev_search_key_not_set=!1)),this.state.is_processing_export_roster_list&&t.is_export?this.state.is_processing_export_roster_list=!1:t.is_export||(this.state.students=t.student_list?t.student_list.result:[],this.state.total_results=t.student_list?t.student_list.total_results:0,t.next_stack_options&&(this.state.is_show_assign_to_next_stack_popover||this.state.is_all_students_triggered)?(this.state.next_stack_options=t.next_stack_options.result,this.state.is_all_students_checked&&t.next_stack_options.status&&(this.state.is_show_assign_students_stack_modal||this.state.is_all_students_triggered)&&(this.state.selected_students=t.next_stack_options.all_filtered_students_info||(this.state.is_all_students_triggered?{}:this.state.selected_students))):this.state.next_stack_options=[]);var n={successfully_assigned_students:{},next_stack_assign_success:!1};t.processed_students_next_stack&&(n.successfully_assigned_students=t.processed_students_next_stack.success,n.next_stack_assign_success=t.processed_students_next_stack.status,this.state.is_process_next_stack&&n.successfully_assigned_students&&(this.state.students.map((function(t,a){var s=n.successfully_assigned_students[t.applicant_id];s&&null==e.state.students[a].receiving_user_track_id&&(e.state.students[a].receiving_stack=s.next_stack,e.state.students[a].receiving_instructor=s.next_instructor,e.state.students[a].receiving_stack_status=s.lock,e.state.students[a].receiving_stack_is_retake=s.retake>0,e.state.students[a].receiving_user_track_id=s.user_track_id,e.state.students[a].receiving_stack_start=s.stack_start_date)})),this.state.is_process_next_stack=!1)),t.unlock_stack_response&&this.state.is_process_lock_stack&&(t.unlock_stack_response.status&&this.state.students.map((function(n,a){n.applicant_id==t.unlock_stack_response.result.applicant_id&&n.receiving_user_track_id==t.unlock_stack_response.result.user_track_id&&(e.state.students[a].receiving_stack_status=t.unlock_stack_response.result.receiving_stack_status)})),this.state.is_process_lock_stack=!1);var a=this.state,i=a.navigation,o=a.table_head_columns,r=a.students,c=a.selected_students,_=a.is_show_assign_to_next_stack_popover,l=a.total_results,u=(a.filter_dropdowns,a.pagination),d=a.next_stack_options,p=u.current_page*u.students_per_page,m=p-u.students_per_page,f=[],E=[];if(this.state.is_all_students_triggered)for(var g=Object.keys(c),b=0;b<g.length;b++){var v=Object(O.a)(c[g[b]],3),k=(v[0],v[1]),T=v[2];f.push(k),E.push(T)}else f=this.state.next_stack_params.program_type_ids,E=this.state.next_stack_params.location_ids;return t.is_exporting||(this.state.is_show_export_students_data_modal=!1),s.a.createElement("div",{id:"admin_container"},s.a.createElement(go,null),s.a.createElement(bo,{navigation:i}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(Io,{onSearchStudents:this.searchStudents,onSetSearchStudentsKeyword:this.setSearchStudentsKeyword,search_student_keyword:this.state.search_student_keyword||"",profile:this.props.rostering.profile}),s.a.createElement(je,{is_admin_release_note:!0}),s.a.createElement("div",{id:"table_tools_container"},s.a.createElement(ko,{filter_dropdowns:this.state.filter_dropdowns||[],submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:this.clearAllFilters}),s.a.createElement("div",{id:"other_tools_container"},s.a.createElement("a",{href:"https://docs.google.com/document/d/11j7n3Jmb9UN-1EjHvVrdurRS6XgpBgNmtchK9NdmAKE",target:"_blank"},s.a.createElement(ue.a,{icon:["fas","question-circle"]})),s.a.createElement("button",{type:"button",onClick:function(){e.processExportFilteredStudents(),e.setState({is_show_export_students_data_modal:!0})}},s.a.createElement(ue.a,{icon:["fas","download"]})))),this.state.is_show_program_filter_note&&s.a.createElement("p",{id:"program_filter_note"},"*Only returning students\u2019 data of their LATEST stack, since Stack and Stack Start Date are not specified in filters."),s.a.createElement(Xo,{table_head_columns:o,students:r,selected_students:c,total_results:this.state.total_results,onToggleLockStack:this.toggleLockStack,onToggleCheckStudents:this.toggleCheckStudents,onSortTable:this.sortTable,is_loading:t.is_loading,onUpdateAPStatus:this.updateAPStatus,onUpdateStudentRegion:this.updateStudentRegion,is_all_students_checked:this.state.is_all_students_checked,is_export:t.is_export||!1}),this.state.total_results>=this.state.pagination.students_per_page&&s.a.createElement(ar,{pagination:u,total_results:this.state.total_results,last_record_index:p,first_record_index:m+1,onPaginateData:this.paginateData}),_&&s.a.createElement(nr,{toggleShowModal:function(){Object(h.v)(e,"is_show_assign_students_stack_modal",!0),e.state.is_all_students_checked||e.props.getNextStackOptionsList({program_type_ids:Object(S.a)(new Set(f)),location_ids:Object(S.a)(new Set(E)),all_selected:e.state.is_all_students_checked,latest_filter_params:e.state.is_all_students_checked?e.state.latest_filter_params:{}})},selected_students:c,total_results:l,is_all_students_checked:this.state.is_all_students_checked})),s.a.createElement(Zo,{toggleShowModal:function(){return Object(h.v)(e,"is_show_export_students_data_modal",!1)},show:this.state.is_show_export_students_data_modal,processExportFilteredStudents:this.processExportFilteredStudents,is_exporting:t.is_exporting||!1}),s.a.createElement(er,{toggleShowModal:function(){return Object(h.v)(e,"is_show_guidelines_modal",!1)},show:this.state.is_show_guidelines_modal}),s.a.createElement(tr,{toggleShowModal:function(){return Object(h.v)(e,"is_show_assign_students_stack_modal",!1)},show:this.state.is_show_assign_students_stack_modal,onSubmitAssignStudentsStack:this.submitAssignStudentsStack,next_stack_options:d,selected_students:c,roster_next_stack_process:n,total_results:l,is_all_students_checked:this.state.is_all_students_checked}))}}]),n}(a.Component)),ir=Eo.getFilteredStudentRosteringData,or=Eo.getStudentRosteringFilters,rr=Eo.updateRosteringFilterOptions,cr=Eo.getNextStackOptionsList,_r=Eo.processSelectedStudentsNextStack,lr=Eo.unlockStudentNextStack,ur=Eo.updateStudentAPStatus,dr=Eo.updateStudentRegion,pr=Object(h.p)(["rostering"],{getFilteredStudentRosteringData:ir,getStudentRosteringFilters:or,updateRosteringFilterOptions:rr,getNextStackOptionsList:cr,processSelectedStudentsNextStack:_r,unlockStudentNextStack:lr,updateStudentAPStatus:ur,updateStudentRegion:dr}),mr=pr.mapStateToProps,hr=pr.mapDispatchToProps,fr=Object(l.b)(mr,hr)(sr),Er=n(97),gr={title:"Management",links:[{name:"Student Rostering",link:"/admin/student_rostering/roster",sub_links:[{name:"Student Roster",link:"roster"},{name:"Instructor - Student Matching",link:"matching"}]}]},br=[{id:17,name:"John Michael Borja",is_selected:!1,is_veteran:!1,gender:0,region:"East",belt_score:6,belt_stack:3,belt_class:"red"},{id:17,name:"John Michael Borja",is_selected:!1,is_veteran:!1,gender:0,region:"East",belt_score:8.5,belt_stack:4,belt_class:"yellow"}],vr=[{name:"Name",sort_data:"name"},{name:"Vet",sort_data:"is_veteran"},{name:"Program",sort_data:"program_type"},{name:"Region",sort_data:"region"},{name:"Last Belt",sort_data:"belt_score"}],Sr=[{id:1001,instructor_name:"Kevin Lee",region:"East",stack_schedule:"Python April 1-16",male_count:1,female_count:1,others_count:1,veterans_count:2,is_open:!0,students:[{id:4,name:"Bob Latayan",is_selected:!1,is_veteran:!1,gender:0,region:"East",last_belt:"WebFun 8.8",belt_class:"red"},{id:5,name:"Rose ann Mabalacat",is_selected:!1,is_veteran:!0,gender:1,region:"West",last_belt:"WebFun 10",belt_class:"orange"},{id:6,name:"Lester Peralta",is_selected:!1,is_veteran:!0,gender:2,region:"West",last_belt:"WebFun 8.0",belt_class:"red"}]},{id:1002,instructor_name:"Cornellio Agno",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1003,instructor_name:"Michael Vernon",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1004,instructor_name:"Miguel Simion",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1005,instructor_name:"Marka Ordono",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0},{id:1006,instructor_name:"Melina Manansala",region:"West",stack_schedule:"PHP April 1-16",male_count:0,female_count:0,others_count:0,veterans_count:0,students:[],is_open:!0}],Or=[{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Jun 7, 2021 - Jul 2, 2021)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02"},{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Apr 5, 2021 - Apr 30, 2021)",date:"Apr 5, 2021 - Apr 30, 2021",start_date:"2021-04-05",end_date:"2021-04-30"},{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Feb 8, 2021 - Mar 5, 2021)",date:"Feb 8, 2021 - Mar 5, 2021",start_date:"2021-02-08",end_date:"2021-03-05"},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02"},{name:"Java",cc_stack_id:8,label:"Java (Apr 5, 2021 - Apr 30, 2021)",date:"Apr 5, 2021 - Apr 30, 2021",start_date:"2021-04-05",end_date:"2021-04-30"},{name:"Java",cc_stack_id:8,label:"Java (Feb 8, 2021 - Mar 5, 2021)",date:"Feb 8, 2021 - Mar 5, 2021",start_date:"2021-02-08",end_date:"2021-03-05"},{name:"MERN",cc_stack_id:16,label:"MERN (May 3, 2021 - May 28, 2021)",date:"May 3, 2021 - May 28, 2021",start_date:"2021-05-03",end_date:"2021-05-28"},{name:"MERN",cc_stack_id:16,label:"MERN (Mar 8, 2021 - Apr 2, 2021)",date:"Mar 8, 2021 - Apr 2, 2021",start_date:"2021-03-08",end_date:"2021-04-02"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Jun 7, 2021 - Jun 18, 2021)",date:"Jun 7, 2021 - Jun 18, 2021",start_date:"2021-06-07",end_date:"2021-06-18"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (May 3, 2021 - May 14, 2021)",date:"May 3, 2021 - May 14, 2021",start_date:"2021-05-03",end_date:"2021-05-14"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Apr 5, 2021 - Apr 16, 2021)",date:"Apr 5, 2021 - Apr 16, 2021",start_date:"2021-04-05",end_date:"2021-04-16"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Mar 8, 2021 - Mar 19, 2021)",date:"Mar 8, 2021 - Mar 19, 2021",start_date:"2021-03-08",end_date:"2021-03-19"},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Feb 8, 2021 - Feb 19, 2021)",date:"Feb 8, 2021 - Feb 19, 2021",start_date:"2021-02-08",end_date:"2021-02-19"},{name:"Python",cc_stack_id:4,label:"Python (Aug 30, 2021 - Sep 24, 2021)",date:"Aug 30, 2021 - Sep 24, 2021",start_date:"2021-08-30",end_date:"2021-09-24"},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02"},{name:"Python",cc_stack_id:4,label:"Python (May 3, 2021 - May 28, 2021)",date:"May 3, 2021 - May 28, 2021",start_date:"2021-05-03",end_date:"2021-05-28"},{name:"Python",cc_stack_id:4,label:"Python (Apr 5, 2021 - Apr 30, 2021)",date:"Apr 5, 2021 - Apr 30, 2021",start_date:"2021-04-05",end_date:"2021-04-30"},{name:"Python",cc_stack_id:4,label:"Python (Mar 8, 2021 - Apr 2, 2021)",date:"Mar 8, 2021 - Apr 2, 2021",start_date:"2021-03-08",end_date:"2021-04-02"},{name:"Python",cc_stack_id:4,label:"Python (Feb 8, 2021 - Mar 5, 2021)",date:"Feb 8, 2021 - Mar 5, 2021",start_date:"2021-02-08",end_date:"2021-03-05"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Aug 16, 2021 - Aug 27, 2021)",date:"Aug 16, 2021 - Aug 27, 2021",start_date:"2021-08-16",end_date:"2021-08-27"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jul 19, 2021 - Jul 30, 2021)",date:"Jul 19, 2021 - Jul 30, 2021",start_date:"2021-07-19",end_date:"2021-07-30"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (May 17, 2021 - May 28, 2021)",date:"May 17, 2021 - May 28, 2021",start_date:"2021-05-17",end_date:"2021-05-28"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Apr 19, 2021 - Apr 30, 2021)",date:"Apr 19, 2021 - Apr 30, 2021",start_date:"2021-04-19",end_date:"2021-04-30"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Mar 22, 2021 - Apr 2, 2021)",date:"Mar 22, 2021 - Apr 2, 2021",start_date:"2021-03-22",end_date:"2021-04-02"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Feb 22, 2021 - Mar 5, 2021)",date:"Feb 22, 2021 - Mar 5, 2021",start_date:"2021-02-22",end_date:"2021-03-05"},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jan 25, 2021 - Feb 5, 2021)",date:"Jan 25, 2021 - Feb 5, 2021",start_date:"2021-01-25",end_date:"2021-02-05"}],kr={acr:0,ap:0,applicant_id:125013,attendance_rate:0,belt:null,belt_bg:"red_bg",belt_color:"",belt_level:null,cache_course_count:5,campus:"Online",cc_stack_id:7,email:"hentscaa@gmail.com",gender:0,id:49002,img_link:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",is_checked:0,is_locked:0,is_veteran:0,location_id:5,name:"Aaron  Hentchel",program:"Online Full-Time Web Development",program_type_id:11,receiving_instructor:"",receiving_stack:"C#/.Net",receiving_stack_is_retake:"0",receiving_stack_status:0,receiving_user_track_id:191561,region:"",retake:0,stack:"C#/.Net",stack_attendance_count:null,stack_end:"2021-07-01T16:00:00.000Z",stack_progress_json:null,stack_start:"2021-06-06T16:00:00.000Z",stack_start_date:"Jun 7, 2021",status:4.5,taught_by:null,total_stack_scheds:2,user_track_id:191560},Tr=[{name:"C#/.Net",cc_stack_id:7,label:"C#/.Net (Jun 7, 2021 - Jul 2, 2021) (Neil M.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3093,crm_stack_schedule_id:2939,cc_stack_schedule_id:932},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Sadie  F.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3046,crm_stack_schedule_id:2889,cc_stack_schedule_id:825},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Brendan S.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:2831,crm_stack_schedule_id:2654,cc_stack_schedule_id:825},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Nick M.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3073,crm_stack_schedule_id:2919,cc_stack_schedule_id:825},{name:"Java",cc_stack_id:8,label:"Java (Jun 7, 2021 - Jul 2, 2021) (Saurabh D.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3070,crm_stack_schedule_id:2916,cc_stack_schedule_id:825},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Jun 7, 2021 - Jun 18, 2021) (Edward I.)",date:"Jun 7, 2021 - Jun 18, 2021",start_date:"2021-06-07",end_date:"2021-06-18",cc_stack_instructor_id:3121,crm_stack_schedule_id:2955,cc_stack_schedule_id:938},{name:"Programming Basics",cc_stack_id:38,label:"Programming Basics (Jun 7, 2021 - Jun 18, 2021) (Jim R.)",date:"Jun 7, 2021 - Jun 18, 2021",start_date:"2021-06-07",end_date:"2021-06-18",cc_stack_instructor_id:3120,crm_stack_schedule_id:2955,cc_stack_schedule_id:938},{name:"Python",cc_stack_id:4,label:"Python (Aug 30, 2021 - Sep 24, 2021) (Devon N.)",date:"Aug 30, 2021 - Sep 24, 2021",start_date:"2021-08-30",end_date:"2021-09-24",cc_stack_instructor_id:2405,crm_stack_schedule_id:2257,cc_stack_schedule_id:742},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Kaysee W.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3067,crm_stack_schedule_id:2913,cc_stack_schedule_id:926},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Ryan  M.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3062,crm_stack_schedule_id:2908,cc_stack_schedule_id:926},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Tyler T.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3049,crm_stack_schedule_id:2892,cc_stack_schedule_id:926},{name:"Python",cc_stack_id:4,label:"Python (Jun 7, 2021 - Jul 2, 2021) (Shawn C.)",date:"Jun 7, 2021 - Jul 2, 2021",start_date:"2021-06-07",end_date:"2021-07-02",cc_stack_instructor_id:3048,crm_stack_schedule_id:2891,cc_stack_schedule_id:926},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Aug 16, 2021 - Aug 27, 2021) (Narciso L.)",date:"Aug 16, 2021 - Aug 27, 2021",start_date:"2021-08-16",end_date:"2021-08-27",cc_stack_instructor_id:2404,crm_stack_schedule_id:2256,cc_stack_schedule_id:741},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jul 19, 2021 - Jul 30, 2021) (Narciso L.)",date:"Jul 19, 2021 - Jul 30, 2021",start_date:"2021-07-19",end_date:"2021-07-30",cc_stack_instructor_id:2403,crm_stack_schedule_id:2255,cc_stack_schedule_id:740},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Steven T.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:3047,crm_stack_schedule_id:2890,cc_stack_schedule_id:739},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Narciso L.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:2402,crm_stack_schedule_id:2254,cc_stack_schedule_id:739},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Mike M.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:3057,crm_stack_schedule_id:2903,cc_stack_schedule_id:739},{name:"Web Fundamentals",cc_stack_id:99,label:"Web Fundamentals (Jun 21, 2021 - Jul 2, 2021) (Edward I.)",date:"Jun 21, 2021 - Jul 2, 2021",start_date:"2021-06-21",end_date:"2021-07-02",cc_stack_instructor_id:3050,crm_stack_schedule_id:2893,cc_stack_schedule_id:739}],Cr=(n(1102),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).showStudentProfileModal=function(e,t){e.stopPropagation(),a.props.getStudentProfileDetails({user_id:45104,applicant_id:118916,next_stack_params:{program_type_ids:[27],location_ids:[5]},is_from_student_matching:!0}),a.setState({is_show_student_profile_modal:!0})},a.requestSort=function(e){var t="caret-down",n=Object(g.a)({},a.state.sort_config);n&&n.key===e&&"caret-down"===n.direction&&(t="caret-up"),n.key=e,n.direction=t,a.setState({sort_config:n},(function(){a.props.onSortTable(a.state.sort_config)}))},a.state={sort_config:null,is_show_student_profile_modal:!1,student_profile_data:kr,selected_applicant_id:1,offered_stack_schedules:Or,offered_stack_schedules_with_instructors:Tr},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.state.sort_config,n=this.props,a=n.students,i=n.all_student_checkbox,o=n.onClickTableRow,r=n.table_head_column_data,c=n.checkedAllStudent,_=n.is_data_processing,l=function(t){var n=e.state.sort_config;if(n)return n.key===t?n.direction:"caret-down"};return s.a.createElement("div",{id:"student_matching_table_container"},s.a.createElement("h4",null,"STUDENTS"),s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("input",{onChange:function(e){return c(e)},name:"student_matching_checkbox",checked:i,type:"checkbox",id:"student_checkbox"}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"student_checkbox"},s.a.createElement(ue.a,{icon:["fas","check"]}))),r.map((function(n){return s.a.createElement("th",{key:n.name},s.a.createElement("button",{type:"button",onClick:function(){return e.requestSort(n.sort_data)}},n.name," ","name"===n.sort_data?"("+a.length+")":"",s.a.createElement(ue.a,{className:"".concat(null!==t&&t.key===n.sort_data?"":"light"),icon:["fas",void 0===l(n.sort_data)?"caret-down":l(n.sort_data)]})))})))),s.a.createElement(Er.c,{droppableId:"main_student_table"},(function(t,n){return s.a.createElement("tbody",Object.assign({className:n.isUsingPlaceholder||_?"is_active_dragging":"",ref:t.innerRef},t.droppableProps),a.map((function(t,n){return s.a.createElement(Er.b,{key:t.id,draggableId:t.id.toString(),index:n,isDragDisabled:!t.is_selected},(function(a,i){return s.a.createElement("tr",Object.assign({key:"row_".concat(t.id),onClick:function(e){return o(e,n,void 0,t,void 0,void 0)}},a.draggableProps,a.dragHandleProps,{ref:a.innerRef,className:t.is_selected?i.isDragging?"is_dragging":"is_ghosting":"move_disable"}),s.a.createElement("td",null,s.a.createElement("input",{name:"student_matching_checkbox",checked:t.is_selected||"",readOnly:!0,type:"checkbox",id:"checkbox_".concat(t.id)}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"checkbox_".concat(t.id)},s.a.createElement(ue.a,{icon:["fas","check"]}))),s.a.createElement("td",null,s.a.createElement("span",null,t.name),i.isDragging&&e.props.selected_students.length>=2?s.a.createElement("span",{id:"student_count_on_drag"}," ","+ "+(e.props.selected_students.length-1)+" student/s"):""),s.a.createElement("td",null,t.is_veteran?s.a.createElement("span",{className:"is_veteran"}):""),s.a.createElement("td",null,s.a.createElement(ae.a,{placement:"top",overlay:s.a.createElement(se.a,{id:"program_type_tooltip"},t.program_type)},s.a.createElement("span",{className:"student_program"},t.program_type))),s.a.createElement("td",null,t.region),s.a.createElement("td",null,t.belt_score&&t.belt_stack_label?s.a.createElement("span",{className:"last_belt ".concat(m.i[t.belt_class])},t.belt_stack_label," ",t.belt_score.toFixed(1)):""))}))})),0===a.length&&s.a.createElement("tr",{className:"hidden_tr"},s.a.createElement("td",{colSpan:"6"})))})))),s.a.createElement(Wo,{toggleShowModal:function(){return Object(h.v)(e,"is_show_student_profile_modal",!1)},selected_applicant_id:this.state.selected_applicant_id,student_data:this.state.student_profile_data,show:this.state.is_show_student_profile_modal,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,offered_stack_schedules:this.state.offered_stack_schedules,offered_stack_schedules_with_instructors:this.state.offered_stack_schedules_with_instructors}))}}]),n}(a.Component)),Ar=Eo.getStudentProfileDetails,Rr=Object(h.p)(["rostering"],{getStudentProfileDetails:Ar}),yr=(Rr.mapStateToProps,Rr.mapDispatchToProps,Cr),wr=(n(1103),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).showStudentTable=function(e){var t=Object(S.a)(a.state.instructors);t[e].is_open=!t[e].is_open,a.setState({instructors:t})},a.state={instructors:a.props.instructors},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClickTableRow,a=t.receivingInstructorCheckedAllStudent,i=t.instructors,o=t.is_data_processing;return s.a.createElement("div",{id:"receiving_instructors_container"},s.a.createElement("h4",null,"RECEIVING INSTRUCTORS"),s.a.createElement("div",{className:"scroll_container"},s.a.createElement("ul",{id:"receiving_instructors_list"},i.map((function(t,i){var r=t.students.sort((function(e,t){return e.name<t.name?-1:0}));return s.a.createElement(Er.c,{key:i,droppableId:(i+1).toString()},(function(c,_){return s.a.createElement("li",Object.assign({ref:c.innerRef,key:t+"_"+i},c.droppableProps,{className:0!==t.students.length&&t.is_open?"has_student_content":""}),s.a.createElement("div",null,s.a.createElement("h5",null,s.a.createElement("span",null,null!==t.first_name?t.first_name[0]:"",null!==t.last_name?t.last_name[0]:""),t.first_name," ",t.last_name),s.a.createElement("p",null,s.a.createElement(ae.a,{placement:"top",overlay:s.a.createElement(se.a,{id:"program_type_tooltip"},t.program_type)},s.a.createElement("span",null,t.program_type)),s.a.createElement("span",null,t.location))),s.a.createElement("h6",null,t.students.length," Matched Students"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("span",{className:"veteran_icon"})," ",t.students.filter((function(e){return e.is_veteran})).length)),0!=t.students.length&&s.a.createElement("button",{type:"button",onClick:function(){return e.showStudentTable(i)}},s.a.createElement(ue.a,{icon:["fas",t.is_open?"angle-up":"angle-down"]})),s.a.createElement("div",{className:"scroll_container ".concat(t.is_open?"show":"hide")},s.a.createElement("table",null,0!=t.students.length&&s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("input",{onChange:function(e){return a(e,i)},checked:t.is_selected_instructor||"",name:"student_matching_checkbox",type:"checkbox",id:"receiving_instructor_checkbox_".concat(i)}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"receiving_instructor_checkbox_".concat(i)},s.a.createElement(ue.a,{icon:["fas","check"]}))),s.a.createElement("th",null,"STUDENT"),s.a.createElement("th",null,"Vet."),s.a.createElement("th",null,"R."),s.a.createElement("th",null,"Last Belt"))),s.a.createElement("tbody",Object.assign({className:_.isUsingPlaceholder||o?"is_active_dragging":"",ref:c.innerRef},c.droppableProps),r.map((function(a,o){return s.a.createElement(Er.b,{key:a.id,draggableId:a.id.toString(),index:o,isDragDisabled:!a.is_selected},(function(r,c){return s.a.createElement("tr",Object.assign({onClick:function(e){return n(e,o,i,a,t.cc_stack_schedule_id,t.cc_stack_instructor_id)},className:a.is_selected?c.isDragging?"is_dragging":"is_ghosting":"move_disable",key:"row_".concat(a.id)},r.draggableProps,r.dragHandleProps,{ref:r.innerRef}),s.a.createElement("td",null,s.a.createElement("input",{name:"student_matching_checkbox",checked:a.is_selected||"",readOnly:!0,type:"checkbox",id:"checkbox_".concat(a.id)}),s.a.createElement("label",{className:"checkbox_label",htmlFor:"checkbox_".concat(a.id)},s.a.createElement(ue.a,{icon:["fas","check"]}))),s.a.createElement("td",null,a.name," ",c.isDragging&&e.props.selected_students.length>=2?s.a.createElement("span",{id:"student_count_on_drag"}," ","+ "+(e.props.selected_students.length-1)+" Student/s"):""),s.a.createElement("td",null,a.is_veteran?s.a.createElement("span",{className:"is_veteran"}):""),s.a.createElement("td",null,a.region),s.a.createElement("td",null,a.belt_score&&a.belt_stack_label?s.a.createElement("span",{className:"last_belt ".concat(m.i[a.belt_class])},a.belt_stack_label," ",a.belt_score.toFixed(1)):""))}))}))))))}))})))))}}]),n}(a.Component)),Dr=(n(1104),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(fe.a,{id:"apply_filter_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},s.a.createElement(fe.a.Body,null,s.a.createElement("h2",null,"Apply Filters"),s.a.createElement("p",null,'Your search results seem to be too broad. Please add "Stack Assigned To" and "Stack Start Date" filters to find exactly what you want.'),s.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},"Got it")))}}]),n}(a.Component)),Ur=(n(1105),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.setState({selected_students:[]}),setTimeout((function(){a.props.fetchFilterOptions()}),125)},a.componentDidUpdate=function(){(a.props.admin.rostering.filter_dropdowns.length>0&&0===a.state.filter_dropdowns.length||a.props.admin.rostering.filter_dropdowns!==a.state.filter_dropdowns)&&a.setState({filter_dropdowns:a.props.admin.rostering.filter_dropdowns})},a.updateFilterDropdownSelectedValue=function(e,t){var n=Object(S.a)(a.state.filter_dropdowns);n.map((function(n){n.name===t.name&&(t.is_multi_select?n.selected=e.length>0?Object(S.a)(e):[]:(n.selected=e.length>0?[Object(g.a)(Object(g.a)({},e[0]),{},{filter_name:t.filter_name})]:[],"cc_stack_id"===n.filter_name&&(a.state.selected_cc_stack_id=t.selected.length>0?t.selected[0].value:null)))})),"cc_stack_id"===t.filter_name&&t.selected.length>0?a.props.updateFilterOptions({admin_page:"student_matching",cc_stack_id:a.state.selected_cc_stack_id}):"cc_stack_start_date"===t.filter_name&&t.selected.length>0&&(null==a.state.selected_cc_stack_id&&n.map((function(e){"cc_stack_id"===e.filter_name&&(a.state.selected_cc_stack_id=e.selected.length>0?e.selected[0].value:null)})),a.props.updateFilterOptions({admin_page:"student_matching",cc_stack_id:a.state.selected_cc_stack_id,cc_stack_start_date:t.selected[0].value})),a.setState({filter_dropdowns:n})},a.onDragEndTableRow=function(e){var t=e.destination,n=e.source,s=Object(S.a)(a.state.selected_students),i=a.props.admin.rostering,o=i.filtered_students,r=i.filtered_instructors,c=(i.filter_dropdowns,[]);if(e.destination&&n.droppableId!==t.droppableId){if("main_student_table"===n.droppableId){var _=parseInt(t.droppableId)-1,l=r[_],u=l.cc_stack_schedule_id,d=l.cc_instructor_stack_sched_id,p=l.instructor_id;s.map((function(e){c.push(e.applicant_id)})),a.props.assignStudentToInstructor({instructor_index:_,is_from_students_table:!0},{students:s,is_assign:!0,cc_stack_schedule_id:u,cc_instructor_stack_sched_id:d,instructor_id:p,applicant_ids:c})}else{var m=parseInt(n.droppableId)-1,h=null,f=null,E=null;if("main_student_table"!==t.droppableId){var g=r[parseInt(t.droppableId)-1];h=g.instructor_id,f=g.cc_stack_schedule_id,E=g.cc_instructor_stack_sched_id}else f=r[m].cc_stack_schedule_id;s.map((function(e){c.push(e.applicant_id)})),a.props.assignStudentToInstructor({instructor_index:m,is_from_students_table:!1,destination_instrutor_index:t.droppableId},{students:s,is_assign:"main_student_table"!==t.droppableId,cc_stack_schedule_id:f,cc_instructor_stack_sched_id:E,instructor_id:h,applicant_ids:c})}o.map((function(e){e.is_selected=!1})),a.setState({all_student_checkbox:!1,selected_students:[]})}},a.indexLocator=function(e,t){return e.map((function(e){return e.id})).indexOf(parseInt(t))},a.onClickTableRow=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;if(!e.defaultPrevented){e.stopPropagation(),e.preventDefault();var o=Object(S.a)(a.state.selected_students),r=a.props.admin.rostering.filtered_students,c=a.props.admin.rostering.filtered_instructors;if(void 0!==n)a.setState({active_instructor_index:n}),null==a.state.active_instructor_index||a.state.active_instructor_index==n?(r.map((function(e){return e.is_selected=!1})),a.state.active_instructor_index!=n?o=[]:c[a.state.active_instructor_index].is_selected_instructor=0):(c[a.state.active_instructor_index].students.map((function(e){return e.is_selected=!1})),o=[],c[a.state.active_instructor_index].is_selected_instructor=0),c[n].students[t].is_selected=!c[n].students[t].is_selected,c[n].students[t].is_selected?o.push({student_id:s.id,applicant_id:s.applicant_id,student_name:s.name,cc_stack_schedule_id:i,instructor_id:null,student_index:t}):o=o.filter((function(e){return e.student_id!==c[n].students[t].id}));else{var _=a.state.active_instructor_index;null!=_&&(c[_].students.map((function(e){return e.is_selected=!1})),o=[],c[_].is_selected_instructor=0,a.setState({active_instructor_index:null})),r[t].is_selected=!r[t].is_selected,r[t].is_selected?o.push({student_id:s.id,applicant_id:s.applicant_id,student_name:s.name,cc_stack_schedule_id:null,instructor_id:null,student_index:t}):o=o.filter((function(e){return e.student_id!==r[t].id}))}a.setState({selected_students:o,all_student_checkbox:!1})}},a.loadStudentMatchingTable=function(){a.setState({is_loading:!0}),setTimeout((function(){a.setState({is_loading:!1})}),2e3)},a.submitFilters=function(e){e.preventDefault();var t={};a.state.filter_dropdowns.map((function(e){e.selected.length>0&&(t[e.filter_name]=e.selected.length>1?e.selected.map((function(e){return e.value})):e.selected[0].value)})),void 0!==t.cc_stack_id&&void 0!==t.cc_stack_start_date?(a.loadStudentMatchingTable(),a.props.fetchFilteredStudents(t)):a.setState({is_show_apply_filter_modal:!0})},a.checkedAllStudent=function(e){e.stopPropagation();var t=a.state.active_instructor_index;if(null!=t){var n=a.props.admin.rostering.filtered_instructors;n[t].students.map((function(e){return e.is_selected=!1})),n[t].is_selected_instructor=!1}var s=Object(S.a)(a.state.selected_students);s=[],a.props.admin.rostering.filtered_students.map((function(e,t){var n=e.id;e.is_selected=!a.state.all_student_checkbox,e.is_selected&&!s.includes(e)?s.push({student_id:e.id,applicant_id:e.applicant_id,student_name:e.name,cc_stack_schedule_id:null,instructor_id:null,student_index:t}):s=s.filter((function(e){return e.student_id!==n}))})),a.setState({all_student_checkbox:!a.state.all_student_checkbox,selected_students:s})},a.receivingInstructorCheckedAllStudent=function(e,t){e.stopPropagation(),a.setState({active_instructor_index:t});var n=a.props.admin.rostering.filtered_instructors,s=a.state.active_instructor_index;s==t||null==s?n[t].is_selected_instructor=e.target.checked?1:0:(n[s].is_selected_instructor=0,n[t].is_selected_instructor=1,n[s].students.map((function(e){e.is_selected=!1}))),a.props.admin.rostering.filtered_students.map((function(e){return e.is_selected=!1}));var i=Object(S.a)(a.state.selected_students);i=[],n[t].students.map((function(a,s){a.is_selected=e.target.checked;var o=a.id;a.is_selected?i.push({student_id:o,applicant_id:a.applicant_id,student_name:a.name,cc_stack_schedule_id:n[t].cc_stack_schedule_id,instructor_id:null,student_index:s}):i=i.filter((function(e){return e.student_id!==o}))})),a.setState({selected_students:i,all_student_checkbox:!1})},a.sortTable=function(e){var t=Object(S.a)(a.props.admin.rostering.filtered_students);e&&t.sort((function(t,n){return t[e.key]<n[e.key]?"caret-down"===e.direction?-1:1:t[e.key]>n[e.key]?"caret-down"===e.direction?1:-1:0})),a.setState({students:t}),a.props.admin.rostering.filtered_students=t},a.clearAllFilters=function(){var e=Object(S.a)(a.state.filter_dropdowns);e.map((function(e){e.selected.length>0&&(e.selected=[])})),a.setState({filter_dropdowns:e})},a.state={navigation:gr,students:br,instructors:Sr,selected_students:[],table_head_column_data:vr,is_loading:!1,all_student_checkbox:!1,is_show_apply_filter_modal:!1,active_selected_student_table:0,active_instructor_index:null,selected_cc_stack_id:null,filter_dropdowns:[]},a}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.navigation,a=t.is_loading,i=t.filter_dropdowns,o=this.props.admin.rostering,r=o.filtered_students,c=o.filtered_instructors,_=o.is_data_processing;return s.a.createElement("div",{id:"admin_container",className:"admin_student_matching"},s.a.createElement(go,null),s.a.createElement(bo,{navigation:n}),s.a.createElement("div",{id:"admin_right_container"},s.a.createElement(Io,{profile:this.props.admin.profile}),s.a.createElement(je,{is_admin_release_note:!0}),s.a.createElement(ko,{filter_dropdowns:i,submitFilters:this.submitFilters,updateFilterDropdownSelectedValue:this.updateFilterDropdownSelectedValue,clearAllFilters:this.clearAllFilters}),s.a.createElement("div",{id:"student_matching_container"},a?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement(Er.a,{onDragEnd:this.onDragEndTableRow,onDragStart:this.onDragStartTableRow},s.a.createElement(yr,{students:r,all_student_checkbox:this.state.all_student_checkbox,checkedAllStudent:this.checkedAllStudent,onClickTableRow:this.onClickTableRow,table_head_column_data:this.state.table_head_column_data,is_data_processing:_,selected_students:this.state.selected_students,onSortTable:this.sortTable}),s.a.createElement(wr,{indexLocator:this.indexLocator,receivingInstructorCheckedAllStudent:this.receivingInstructorCheckedAllStudent,instructors:c,is_data_processing:_,onClickTableRow:this.onClickTableRow,selected_students:this.state.selected_students})))),s.a.createElement(Dr,{show:this.state.is_show_apply_filter_modal,toggleShowModal:function(){return Object(h.v)(e,"is_show_apply_filter_modal",!1)}}))}}]),n}(a.Component)),Ir=Wi.fetchFilterOptions,Mr=Wi.updateFilterOptions,Pr=Wi.fetchFilteredStudents,Nr=Wi.assignStudentToInstructor,Lr=Object(h.p)("admin",{fetchFilterOptions:Ir,updateFilterOptions:Mr,fetchFilteredStudents:Pr,assignStudentToInstructor:Nr}),jr=Lr.mapStateToProps,Fr=Lr.mapDispatchToProps,xr=Object(l.b)(jr,Fr)(Ur),Br=(n(1106),n(332),function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},this.props.filter_data.title),s.a.createElement(So.a,{key:this.props.filter_data.name,multi:!("duration"===this.props.filter_data.name),clearable:"duration"===this.props.filter_data.name&&this.props.is_selected.length>0,values:[],options:this.props.filter_data.options,labelField:"label",valueField:"value",onChange:function(t){return e.props.onChangeSelect(t,e.props.filter_data.name)}}))}}]),n}(a.Component)),Kr=new(function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(){var e;return Object(H.a)(this,n),(e=t.call(this)).fetchAssignmentMonitoringFilters=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/assignment_monitoring/filter_options"),e,!0).then(h.h).then((function(e){return e}))},e.fetchAssignmentMonitoringData=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/assignment_monitoring/filtered_data"),e,!0).then(h.h).then((function(e){return e}))},e.updateFilterDropdownList=function(e){return this.sendRequest("".concat(m.d.URL,"/admin/assignment_monitoring/update_filters"),e,!0).then(h.h).then((function(e){return e}))},e}return n}(J.a)),Wr=new function e(){Object(H.a)(this,e),this.fetchAssignmentMonitoringFilters=function(){return function(e){e(Object(h.i)({type:m.h.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST},{})),Kr.fetchAssignmentMonitoringFilters().then((function(t){e(Object(h.i)({type:m.h.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS},{filters:t.result}))}),(function(t){var n=Object(h.a)(t);e(Object(h.i)({type:m.h.FETCH_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE},{error:n}))}))}},this.fetchFilteredAssignmentMonitoringData=function(e){return function(t){Object.keys(e).length>0?(t(Object(h.i)({type:m.h.FETCH_ASSIGNMENT_MONITORING_DATA_REQUEST},{})),Kr.fetchAssignmentMonitoringData(e).then((function(e){t(Object(h.i)({type:m.h.FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS},{assignment_monitoring_data_list:e.result}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.h.FETCH_ASSIGNMENT_MONITORING_DATA_FAILURE},{error:n}))}))):t(Object(h.i)({type:m.h.FETCH_ASSIGNMENT_MONITORING_DATA_SUCCESS},{assignment_monitoring_data_list:{filtered_data:[]}}))}},this.updateFilterDropdownList=function(e){return function(t){t(Object(h.i)({type:m.h.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_REQUEST},{})),Kr.updateFilterDropdownList(e).then((function(e){e&&!e.status&&alert(e.error),t(Object(h.i)({type:m.h.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_SUCCESS},{updated_filters:e.result}))}),(function(e){var n=Object(h.a)(e);t(Object(h.i)({type:m.h.UPDATE_ASSIGNMENT_MONITORING_FILTER_OPTIONS_FAILURE},{error:n}))}))}}},Hr=m.h.ASSIGNMENT_MONITORING_FILTERS,$r=m.h.DEFAULT_VALUES,qr=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).onChangeSelect=function(e,t){var n=Object(re.a)(a),s=n.state,i=n.dependent_filters,o=Object(S.a)(s.filter_values),r=o.map((function(e){return e.name})).indexOf(t),c=[];if(e.length>0){if(0===o.filter((function(e){return e.name==t})).length?(o.push({name:t,values:t===Hr.user?e[0].value:[e[0].value]}),c=[e[0].value]):(c=e.map((function(e){return e.value})),t===Hr.user&&e.length>1&&(c=e[0].value.concat(e[1].value)),o[r].values=c),i.includes(t)){var _={admin_page:"assignment_monitoring"};c.length>0?(t===Hr.stack?_.cc_stack_id=c:t===Hr.stack_start_date&&(_.cc_stack_start_date=c),a.props.updateFilterDropdownList(_)):a.props.fetchAssignmentMonitoringFilters({requested_filters:t})}}else o[r]=o[o.length-1],o.pop();a.setState({filter_values:o})},a.updateFilterDropdownSelectedValue=function(e,t){var n=Object(S.a)(a.props.assignment_monitoring.filters);n.map((function(n){n.name===t.name&&(t.is_multi_select?n.selected=e.length>0?Object(S.a)(e):[]:(n.selected=e.length>0?[Object(g.a)(Object(g.a)({},e[0]),{},{filter_name:t.filter_name})]:[],"cc_stack_id"===n.filter_name&&(a.state.selected_cc_stack_id=t.selected.length>0?t.selected[0].value:null)))})),a.setState({filter_dropdowns:n})},a.onSubmitAssignmentMonitoringFilterForm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;e&&e.preventDefault();var s=a.state,i=s.filter_values,o=s.last_used_sort,r=s.sort_config,c={};if(i.length>0){var _=r[o]?"DESC":"ASC";c={sort_by:n||[o,_]},i.map((function(e){c[e.name]=e.values})),c.limit=(null===t||void 0===t?void 0:t.limit)||$r.records_per_page,c.go_to_page=(null===t||void 0===t?void 0:t.go_to_page)||$r.first_page}return a.props.fetchFilteredAssignmentMonitoringData(c),a.setState({is_loading:!0}),!1},a.convertDateFormat=function(e){var t=Ge()(e).tz(a.iana_local_timezone).format("z"),n="MM/DD h:mm a";return n+="+"===t[0]||"-"===t[0]?" (UTC Z)":" (z)",Ge()(e).tz(a.iana_local_timezone).format(n)},a.onSwitchToAnotherPage=function(e){var t={go_to_page:e,limit:$r.records_per_page};a.onSubmitAssignmentMonitoringFilterForm(null,t)},a.toggleSort=function(e,t){var n=a.state.sort_config,s=Object.entries(n),i={go_to_page:a.state.pagination.current_page,limit:$r.records_per_page};s.map((function(e){e[0]===t?n[t]=!n[t]:n[e[0]]=!1})),a.setState({sort_config:n,last_used_sort:t}),a.onSubmitAssignmentMonitoringFilterForm(e,i,[t,n[t]?"DESC":"ASC"])},a.state={last_used_sort:m.h.SORTABLE_COLUMNS.time_asked,is_loading:!1,current_page:null,filters:[],filter_values:[],results:[],sort_config:{date_posted:!0,reply_count:!1,upvote_count:!1,total_answers_likes:!1,total_endorsed_answers:!1}},a.dependent_filters=[Hr.stack,Hr.stack_start_date],a.iana_local_timezone=Ge.a.tz.guess(),a}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAssignmentMonitoringFilters()}},{key:"render",value:function(){var e=this,t=this.state,n=t.filters,a=t.results,i=t.is_loading,o=t.filter_values,r=t.sort_config,c=t.pagination,_=m.h.SORTABLE_COLUMNS,l=a.length>0;return s.a.createElement("div",{id:"assignment_monitoring"},s.a.createElement("div",{id:"assignment_monitoring_container"},s.a.createElement("form",{action:"",updateFilterDropdownSelectedValue:function(t){return e.updateFilterDropdownSelectedValue(t)},onSubmit:function(t){return e.onSubmitAssignmentMonitoringFilterForm(t)}},n.map((function(t){return s.a.createElement(Br,{onChangeSelect:e.onChangeSelect,filter_data:t,name:t.name,is_selected:o.filter((function(e){return e.name===t.name}))})})),s.a.createElement("button",{type:"submit",className:"btn outline-primary"},"Submit")),i?s.a.createElement("div",{id:"table_loading_container"},s.a.createElement("div",null),s.a.createElement("span",null,"Loading...")):s.a.createElement("div",{className:"scroll_container"},s.a.createElement("table",{className:"table striped bordered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Question"),s.a.createElement("th",null,"Track Name"),s.a.createElement("th",null,"Course Name"),s.a.createElement("th",null,"Chapter Name"),s.a.createElement("th",null,"Assignment Title"),s.a.createElement("th",null,"Question Title"),s.a.createElement("th",null,"Who Asked"),s.a.createElement("th",null,"Time Asked ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.time_asked)}},s.a.createElement(ue.a,{icon:"caret-".concat(r.date_posted?"up":"down")}))),s.a.createElement("th",null,"Reply ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.reply_view)}},s.a.createElement(ue.a,{icon:"caret-".concat(r.reply_count?"up":"down")}))),s.a.createElement("th",null,"# of likes for questions ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.total_question_likes)}},s.a.createElement(ue.a,{icon:"caret-".concat(r.upvote_count?"up":"down")}))),s.a.createElement("th",null,"# of Liked Answers ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.total_answers_likes)}},s.a.createElement(ue.a,{icon:"caret-".concat(r.total_answers_likes?"up":"down")}))),s.a.createElement("th",null,"# Endorsed Answers ",l&&s.a.createElement("button",{onClick:function(t){return e.toggleSort(t,_.endorsed_answers)}},s.a.createElement(ue.a,{icon:"caret-".concat(r.total_endorsed_answers?"up":"down")}))),s.a.createElement("th",null,"Last Answered Time"),s.a.createElement("th",null,"Last Answered by"))),s.a.createElement("tbody",null,l?a.map((function(t){return s.a.createElement("tr",null,s.a.createElement("td",null,t.question_id),s.a.createElement("td",null,t.track),s.a.createElement("td",null,t.course),s.a.createElement("td",null,t.chapter_name),s.a.createElement("td",null,s.a.createElement(Q.b,{to:"/m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.chapter_module_id),target:"_blank"},t.assignment_title)),s.a.createElement("td",null,s.a.createElement(ae.a,{placement:"top",overlay:s.a.createElement(se.a,{id:"assignment_monitoring_tooltip"},t.question_title)},s.a.createElement(Q.b,{to:"/m/".concat(t.track_id,"/").concat(t.chapter_id,"/").concat(t.chapter_module_id,"/forum_question/").concat(t.question_id),target:"_blank"},t.question_title))),s.a.createElement("td",null,t.querier),s.a.createElement("td",null,e.convertDateFormat(t.date_posted)),s.a.createElement("td",null,t.reply_count),s.a.createElement("td",null,t.upvote_count),s.a.createElement("td",null,t.total_answers_likes?t.total_answers_likes:"0"),s.a.createElement("td",null,t.total_endorsed_answers),s.a.createElement("td",null,t.last_replier_details?e.convertDateFormat(t.last_replier_details.replied_on):"N/A"),s.a.createElement("td",null,t.last_replier_details?t.last_replier_details.last_replier_name:"N/A"," "))})):s.a.createElement("tr",{id:"no_results_found_tr"}," ",s.a.createElement("td",{colSpan:"14"},"No results found. Use the filters to fetch the records.")," ")))),l&&!i&&c.total_records/c.records_per_page>1&&s.a.createElement("div",null,s.a.createElement(ar,{pagination:c,total_results:c.total_records,last_record_index:c.last_record_index,first_record_index:c.first_record_index,onPaginateData:this.onSwitchToAnotherPage}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.assignment_monitoring;return n.filters!==t.filters?{filters:n.filters}:n.results!==t.results?{results:n.results,is_loading:n.is_loading,pagination:n.pagination}:null}}]),n}(a.Component),Gr=Wr.fetchAssignmentMonitoringFilters,Qr=Wr.fetchFilteredAssignmentMonitoringData,Vr=Wr.updateFilterDropdownList,zr=Object(h.p)("assignment_monitoring",{fetchAssignmentMonitoringFilters:Gr,fetchFilteredAssignmentMonitoringData:Qr,updateFilterDropdownList:Vr}),Yr=zr.mapStateToProps,Jr=zr.mapDispatchToProps,Xr=Object(l.b)(Yr,Jr)(qr);h.l.listen((function(e){Y.a.set({page:e.pathname}),Y.a.pageview(e.pathname)}));var Zr=function(e){Object(q.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=Object(h.g)();!0===e.status?a.current_user=e.user_details:localStorage.setItem("redirect_path",window.location.pathname),Y.a.pageview(window.location.pathname)},a.current_user=null,a.userSubscription=te.a.getCurrentUser().subscribe((function(e){void 0!==e&&null!==e&&!0===e.is_logged_in?a.current_user=e.user_details:a.current_user=null})),a}return Object($.a)(n,[{key:"componentWillMount",value:function(){var e=Object(h.g)();!0===e.status?this.current_user=e.user_details:"/bug"!==window.location.pathname&&(window.location.href="/login")}},{key:"componentWillUnmount",value:function(){void 0!==this.userSubscription&&this.userSubscription.unsubscribe()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.a,null,s.a.createElement(V.d,null,s.a.createElement(V.b,{path:"/modules/edit/:track_id/:chapter_id/:module_id",render:function(e){return s.a.createElement(uo,e)}}),s.a.createElement(V.b,{path:"/bug",render:function(e){return s.a.createElement(Bi,e)}}),s.a.createElement(V.b,{path:"/admin/student_rostering/roster",render:function(e){return s.a.createElement(fr,e)}}),s.a.createElement(V.b,{path:"/admin/student_rostering/matching",render:function(e){return s.a.createElement(xr,e)}}),s.a.createElement(V.b,{path:"/admin/assignment_monitoring",render:function(e){return s.a.createElement(Xr,e)}}))))}}]),n}(a.Component);n(1109),n(1110),n(1111),n(1112),n(1113);B.b.add(K.a,W.a);if(Y.a.initialize("UA-115891107-2"),["staging","production"].includes("production")){r.a({dsn:"https://bdc02751f3a044fb8607a430793a5f4d@o351953.ingest.sentry.io/5551526",environment:"production",autoSessionTracking:!0,integrations:[new _.a.BrowserTracing]});var ec=Object(h.g)(),tc="Anonymous";!0===ec.status&&(tc=ec.user_details.email_address),c.b((function(e){e.setUser({email:tc})}))}window.self===window.top?o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,{store:x},-1===window.location.pathname.indexOf("modules/edit")&&-1===window.location.pathname.indexOf("admin/")&&-1===window.location.pathname.indexOf("bug")?s.a.createElement(xi,null):s.a.createElement(Zr,null)))),document.getElementById("root")):o.a.render(s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{style:{color:"red"}},"If you see this page, The CD Learning Platform link you have clicked on is under Clickjacking security attack."),s.a.createElement("h2",null,"Please inform team with the reference of the application from where you clicked this link."),s.a.createElement("h2",null,"Click ",s.a.createElement("a",{href:window.self.location.href,title:"Learning Platform",target:"blank"},"here")," to access the Learning Platform safely.")),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},120:function(e,t,n){},127:function(e,t,n){"use strict";var a=n(3),s=n(7),i=n(29),o=n(6),r=n(5),c=n(0),_=n.n(c),l=n(16),u=n(2),d=n(44),p=n(9),m=(n(411),function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).handleSubmitReportMistake=function(e){if(e.preventDefault(),s.handleValidation()){var t=document.getElementById("upload_issue_input").files[0],n=Object(i.a)(s);if(t){var a=new FileReader;a.onload=function(e){n.setState({feature:n.state.fields.feature,description:n.state.fields.description,base64ImageData:e.target.result,file_name:t.name,file_size:t.size},(function(){n.reportAnIssueBackend(n.state)}))},a.readAsDataURL(t)}else n.setState({feature:n.state.fields.feature,description:n.state.fields.description},(function(){n.reportAnIssueBackend(n.state)}))}},s.reportAnIssueBackend=function(e){e.operating_system=navigator.platform,e.browser=navigator.vendor,e.browser_version=navigator.appVersion,e.url=window.location.href,e.referrer=window.location.hostname;var t=(s.props.location&&s.props.location.state||{from:{pathname:"/report_an_issue"}}).from;s.props.reportAnIssue(e,t),s.props.onAddActivityLog("3.9.18"),s.setState({is_success:!0})},s.onCloseModal=function(e){s.props.toggleShowModal(!1),s.setState({is_success:!1,fields:{},errors:{}}),s.props.onAddActivityLog("3.9.13")},s.state={fields:{},errors:{},is_success:!1,base64ImageData:"",operating_system:"",browser_version:"",browser:"",url:"",referrer:"",feature:"",description:"",file_name:"",file_size:0},s}return Object(s.a)(n,[{key:"handleValidation",value:function(){var e=this.state.fields,t={},n=!0;return e.description||(n=!1,t.description=!0),e.feature||(n=!1,t.feature=!0),e.img_url&&(void 0!==document.getElementById("upload_issue_input").files[0]&&document.getElementById("upload_issue_input").files[0].size/1024/1024)>20&&(n=!1,t.img_url=!0),this.setState({errors:t}),n}},{key:"handleOnChangeField",value:function(e,t){var n=this.state.fields;n[e]=t.target.value,this.setState({fields:n})}},{key:"render",value:function(){var e=this.state.errors,t=e.feature,n=e.description,a=e.img_url,s=this.state,i=s.fields,o=s.is_success;return _.a.createElement(p.a,{id:"report_issue_modal",show:this.props.show,onHide:this.onCloseModal},_.a.createElement("div",{className:"blk ".concat(o?"hidden":"")},_.a.createElement(p.a.Header,null,_.a.createElement("h4",null,"Report an Issue"),_.a.createElement("h1",null,this.props.modal_status),_.a.createElement("button",{onClick:this.onCloseModal},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(p.a.Body,null,_.a.createElement("span",{className:"bug_icon"}),_.a.createElement("p",null,"Had a technical issue? ",_.a.createElement("br",null)," Let us know so we can fix it."),_.a.createElement("form",{action:"",onSubmit:this.handleSubmitReportMistake},_.a.createElement("label",{htmlFor:"feature_select"},"Issue found in"),_.a.createElement("select",{id:"feature_select",defaultValue:"0",onChange:this.handleOnChangeField.bind(this,"feature"),className:"form-control ".concat(t?"border_red":"")},_.a.createElement("option",{value:"0",disabled:!0},"Select page/feature"),_.a.createElement("option",{value:"Assignments / Todos"},"Assignments / Todos"),_.a.createElement("option",{value:"Tuition / Enrollment"},"Tuition / Enrollment"),_.a.createElement("option",{value:"Stack Access"},"Stack Access"),_.a.createElement("option",{value:"Search Bar"},"Search Bar"),_.a.createElement("option",{value:"Bookmarks"},"Bookmarks"),_.a.createElement("option",{value:"Belt Exams"},"Belt Exams"),_.a.createElement("option",{value:"Checklist / Progress"},"Checklist / Progress"),_.a.createElement("option",{value:"Lesson / Course Page"},"Lesson / Course Page"),_.a.createElement("option",{value:"Dashboard / Tracks Page"},"Dashboard / Tracks Page"),_.a.createElement("option",{value:"Login / Account"},"Login / Account"),_.a.createElement("option",{value:"Admin Pages"},"Admin Pages"),_.a.createElement("option",{value:"Others"},"Others")),_.a.createElement("label",{htmlFor:"description_textarea"},"Describe the issue"),_.a.createElement("textarea",{id:"description_textarea",className:"form-control ".concat(n?"border_red":""),onChange:this.handleOnChangeField.bind(this,"description"),placeholder:"Describe in details about the issue you encountered"},i.description),_.a.createElement("label",{id:"upload_issue_label",htmlFor:"upload_issue_input",className:a?"border_red":""},"Click to ",void 0===i.img_url?"add":"change"," a screenshot",_.a.createElement("input",{id:"upload_issue_input",className:"hidden",onChange:this.handleOnChangeField.bind(this,"img_url"),type:"file",accept:"image/*"}),_.a.createElement("small",null,i.img_url)),_.a.createElement("button",{type:"submit"},"Submit")))),_.a.createElement("div",{className:"blk success_container ".concat(o?"":"hidden")},_.a.createElement(p.a.Header,null,_.a.createElement("h4",null,"Report an Issue"),_.a.createElement("button",{onClick:this.onCloseModal},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(p.a.Body,null,_.a.createElement("span",{className:"success_icon"}),_.a.createElement("p",null,"Your report has been successfully sent to us.",_.a.createElement("br",null)," If you\u2019ll need further assistance regarding admission, instruction, tuition or funding, feel free to contact ",_.a.createElement("a",{href:"mailto: admissions@codingdojo.com"},"admissions@codingdojo.com"),"."),_.a.createElement("p",null,"Thank you!"))))}}]),n}(c.Component)),h=Object(u.p)(void 0,{reportAnIssue:d.a.reportAnIssue}),f=h.mapStateToProps,E=h.mapDispatchToProps;t.a=Object(l.b)(f,E)(m)},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(3),s=n(6),i=n(5),o=n(1),r=n(2),c=new(function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).fetch_user_enrolled_tracks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.sendRequest("".concat(o.d.URL,"/tracks/fetch_track_courses"),e||{},!0).then(r.h).then((function(e){return e}))},e.fetch_track_progress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.sendRequest("".concat(o.d.URL,"/tracks/fetch_track_progress"),e||{},!0).then(r.h).then((function(e){return e}))},e.searchLearningContent=function(e){return this.sendRequest("".concat(o.d.URL,"/tracks/search_learning_content"),e,!0).then(r.h).then((function(e){return e}))},e}return n}(n(26).a))},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(3),s=n(1),i=n(6),o=n(5),r=n(2),c=new(function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).fetchUserForumSummary=function(e){return this.sendRequest("".concat(s.d.URL,"/user_forum_summaries/fetch_user_forum_summary"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e}return n}(n(26).a)),_=new function e(){Object(a.a)(this,e),this.fetchUserForumSummary=function(e){return function(t){t(Object(r.i)({type:s.gb.FETCH_USER_FORUM_SUMMARY_REQUEST},{})),c.fetchUserForumSummary(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.gb.FETCH_USER_FORUM_SUMMARY_SUCCESS},{forum_summary_details:e.result})):t(Object(r.i)({type:s.gb.FETCH_USER_FORUM_SUMMARY_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.gb.FETCH_USER_FORUM_SUMMARY_FAILURE},{error:n}))}))}},this.resetUserForumSummaries=function(){return function(e){e(Object(r.i)({type:s.gb.RESET_USER_FORUM_SUMMARIES},{}))}}}},157:function(e,t,n){"use strict";var a=n(3),s=n(7),i=n(6),o=n(5),r=n(0),c=n.n(r),_=n(249),l=n.n(_),u=(n(1039),l.a.Quill.import("ui/icons"));u.bold="<i class='bold_icon'></i>",u.italic="<i class='italic_icon'></i>",u.strike="<i class='strike_icon'></i>",u.link="<i class='link_icon'></i>",u["code-block"]="<i class='code_block_icon'></i>",u.list="<i class='list_icon'></i>",u.bullet="<i class='bullet_icon'></i>",u.image="<i class='image_icon'></i> Attach image";var d=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).modules={toolbar:[["bold","italic","strike","link","code-block",{list:"ordered"},{list:"bullet"}],["image"]]},s.formats=["bold","italic","link","strike","code-block","list","bullet","image"],s.state={},s}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(l.a,{theme:"snow",modules:this.modules,formats:this.formats,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.updateDescription(t)}})}}]),n}(r.Component);t.a=d},186:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1119),react_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(162),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12),react_responsive__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(32),react_responsive__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_responsive__WEBPACK_IMPORTED_MODULE_10__),_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2),_actions_user_actions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(44),_actions_dashboard_actions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(45),_config_constants__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1),_assets_images_global_profile_placeholder_png__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(218),_assets_images_global_profile_placeholder_png__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_assets_images_global_profile_placeholder_png__WEBPACK_IMPORTED_MODULE_15__),_user_modals_my_files_modal__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(343),_mobile_sub_navigation_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(344),_user_modals_reset_password_modal__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(346),_profile_component_scss__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(414),_profile_component_scss__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_profile_component_scss__WEBPACK_IMPORTED_MODULE_19__),UserProfile=function(_Component){Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(UserProfile,_Component);var _super=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(UserProfile);function UserProfile(props){var _this;Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,UserProfile),_this=_super.call(this,props),_this.componentDidMount=function(){var url_parameter=new URLSearchParams(window.location.search),is_multipage=eval(url_parameter.get("multipage"));is_multipage&&"/m/1/4635/20395"===window.location.pathname&&(document.getElementById("show_profile_modal").click(),document.getElementsByTagName("body")[0].className="is_last_platform_demo")},_this.userLogout=function(){window.location.href="/logout"},_this.redirectToEnrollApp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault(),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3"),_this.props.get_enroll_app_link(t,n)},_this.displayProfileModal=function(){void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.6"),_this.setState({is_show_profile:!_this.state.is_show_profile})},_this.displayMyFilesModal=function(){Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__.v)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(_this),"is_show_my_files_modal",!0),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.redirectToMattermost=function(){void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.redirectToReferralPage=function(){void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.displayResetPasswordModal=function(){Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__.v)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(_this),"is_show_reset_password_modal",!0),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.3")},_this.handleUploadedProfilePicture=function(e){0!=e.target.files.length&&(_this.setState({is_uploading_profile_pic:!0}),_this.props.upload_user_profile_pic({pic_upload:e.target.files[0]}),void 0!==_this.props.onAddActivityLog&&_this.props.onAddActivityLog("3.2.14"))},_this.state={is_show_reset_password_modal:!1,is_show_my_files_modal:!1,is_uploading_profile_pic:!1,is_show_profile:!1};var get_user_details=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__.g)();if(!0===get_user_details.status){var is_skip_walkthrough=localStorage.getItem("SKIP_WALKTHROUGH");_this.state={profile:get_user_details.user_details},_this.state.profile.show_notification_indicator=!0,is_skip_walkthrough&&!0===get_user_details.user_details.workspace_custom_data.customizations.is_show_platform_demo&&!1===["?startProductTour=true","?multipage=true"].includes(window.location.search)&&(localStorage.setItem("SKIP_WALKTHROUGH",!0),window.location.href="/dashboard?startProductTour=true")}else _this.userLogout(),_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__.l.push("/login");return _this}return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(UserProfile,[{key:"render",value:function(){var e,t,n,a=this,s=this.state.profile,i=s.general,o=i.email_address,r=i.first_name,c=i.last_name,_=i.user_level_id,l=i.access_expiration,u=s.workspace_custom_data,d=u.bootcamp_info,p=u.enrollment,m=(null===(e=this.props.user)||void 0===e||null===(t=e.user_details)||void 0===t||null===(n=t.general)||void 0===n?void 0:n.image_url)||null;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"profile_nav_dropdown",id:"show_profile_modal",title:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{maxWidth:768},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"hamburger_menu_btn"})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{minWidth:769},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:m||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:m?"".concat(r," ").concat(c):"user icon"}))),onClick:function(e){return a.displayProfileModal()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"basic_info_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("label",{htmlFor:"upload_profile_pic_input",title:"Upload Profile Picture",className:this.props.user.is_uploading_profile_pic?"is_uploading":""},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{id:"upload_profile_pic_input",onChange:function(e){return a.handleUploadedProfilePicture(e)},type:"file",accept:"image/*"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","upload"]}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{className:"loading",src:"https://assets.codingdojo.com/learn_platform/global/loader.gif",alt:"loading icon"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:m||"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:m?"".concat(r," ").concat(c):"user icon"})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,{className:"name"},r," ",c),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,{className:"light"},o),d&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,{className:"light location"},d.program_type,d.location_id!==_config_constants__WEBPACK_IMPORTED_MODULE_14__.lb?" at ".concat(d.location):""),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,null,"Access Expires: ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"bold"},l&&null!==l?new Date(l.toString()).toLocaleDateString([],{year:"numeric",month:"long",day:"numeric"}):"")," "),p&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a.Text,null,"Career Services: ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"bold"},p.is_cs_enrolled&&p.is_cs_enrolled===_config_constants__WEBPACK_IMPORTED_MODULE_14__.U?"Opted-in":"Opted-out")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{maxWidth:768},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(e){return document.getElementById("show_profile_modal").click()},id:"close_right_nav_btn"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-up"]})))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{maxWidth:768},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_mobile_sub_navigation_component__WEBPACK_IMPORTED_MODULE_17__.a,{onAddActivityLog:this.props.onAddActivityLog,history:this.props.history,handleOnChangeDarkMode:this.props.handleOnChangeDarkMode,is_dark_mode:this.props.is_dark_mode,onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"profile_navigation_container"},void 0!==this.state.profile&&!0===_config_constants__WEBPACK_IMPORTED_MODULE_14__.b.includes(_)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",href:"https://learn.codingdojo.com/admin/access"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon admin_icon"}),"Admin View (LP2)"),void 0!==this.state.profile&&!0===_config_constants__WEBPACK_IMPORTED_MODULE_14__.b.includes(_)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{href:"/admin/student_rostering/roster"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon admin_icon"}),"Admin View (LP3)"),p&&p.has_payment_record===_config_constants__WEBPACK_IMPORTED_MODULE_14__.U&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(e){return a.redirectToEnrollApp(e,!1)}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon dollar_icon"}),"My Payment"),p&&p.student_file_urls&&null!==p.student_file_urls&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(e){return a.displayMyFilesModal()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon file_icon"}),"My Files"),this.state.profile&&!0===[_config_constants__WEBPACK_IMPORTED_MODULE_14__.hb.STUDENT,_config_constants__WEBPACK_IMPORTED_MODULE_14__.hb.GRADUATE,_config_constants__WEBPACK_IMPORTED_MODULE_14__.hb.ALUMNI_PASS_USER].includes(_)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",onClick:function(e){return a.redirectToReferralPage()},href:"https://www.codingdojo.com/referral"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon user_icon"}),"Refer a Friend")),this.state.profile&&_===_config_constants__WEBPACK_IMPORTED_MODULE_14__.hb.ALUMNI_PASS_USER&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",href:"https://www.codingdojo.com/alumni_pass/update-card-login/70eba9eb6d94c3deff697e806192d81b/?email_address=".concat(o)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon alumni_pass_icon"}),"Alumni Pass Settings"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"show_reset_password_btn",type:"button",onClick:function(e){return a.displayResetPasswordModal()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon lock_icon"}),"Reset Password"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_responsive__WEBPACK_IMPORTED_MODULE_10___default.a,{minWidth:769},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(){return window.location.href="/dashboard?startProductTour=true"}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon platform_demo_icon"}),"Platform Demo"))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"sticky_footer_container"},this.state.profile&&_===_config_constants__WEBPACK_IMPORTED_MODULE_14__.hb.ALUMNI_PASS_USER&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{target:"_blank",href:"https://www.codingdojo.com/alumni_pass/cancellation/?first_name=".concat(r,"&last_name=").concat(c,"&email_address=").concat(o)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon close_icon"}),"Cancel Subscription"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:this.userLogout},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"profile_btn_icon logout_icon"}),"Log Out"))),p&&p.student_file_urls&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_user_modals_my_files_modal__WEBPACK_IMPORTED_MODULE_16__.a,{show:this.state.is_show_my_files_modal,is_dark_mode:this.props.is_dark_mode,user_files:p.student_file_urls,toggleShowModal:function(e){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__.v)(a,"is_show_my_files_modal",!1)}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_user_modals_reset_password_modal__WEBPACK_IMPORTED_MODULE_18__.a,{is_dark_mode:this.props.is_dark_mode,show:this.state.is_show_reset_password_modal,toggleShowModal:function(e){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__.v)(a,"is_show_reset_password_modal",!1)},onAddActivityLog:this.props.onAddActivityLog}))}}]),UserProfile}(react__WEBPACK_IMPORTED_MODULE_5__.Component),_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_11__.p)(["user","dashboard"],{logout:_actions_user_actions__WEBPACK_IMPORTED_MODULE_12__.a.logout,upload_user_profile_pic:_actions_user_actions__WEBPACK_IMPORTED_MODULE_12__.a.upload_user_profile_pic,get_enroll_app_link:_actions_dashboard_actions__WEBPACK_IMPORTED_MODULE_13__.a.get_enroll_app_link}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps;__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_8__.b)(mapStateToProps,mapDispatchToProps)(UserProfile)},188:function(e,t,n){"use strict";var a=n(3),s=n(7),i=n(6),o=n(5),r=n(0),c=n.n(r),_=n(9),l=n(12),u=n(16),d=n(2),p=n(111),m=(n(391),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).renderBookmarkClassIcon=function(e){return{0:"lesson",1:"quiz",2:"todo",3:"chapter_survey"}[e]},s.fetchUserBookmarks=function(){s.props.get_user_bookmarks()},s.clickedBookmarkIcon=function(e){s.props.onAddActivityLog("bookmarked"===e?"3.12.19":"3.12.20")},s.removeHTMLTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},s}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.user_bookmarks,a=t.show;return c.a.createElement(_.a,{show:a,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)},onShow:function(){return e.fetchUserBookmarks()},id:"bookmarks_modal"},c.a.createElement(_.a.Header,null,c.a.createElement(_.a.Title,null,"Bookmarked Content"),c.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},c.a.createElement("span",{className:"close_icon"}))),c.a.createElement(_.a.Body,null,0===n.bookmark_list.length&&c.a.createElement("p",null,"You haven't yet saved any bookmarks."),c.a.createElement("ul",{className:"list-unstyled"},n.bookmark_list.map((function(t){return c.a.createElement("li",{key:t.user_bookmark_id},c.a.createElement("form",{action:"",onSubmit:function(n){return!0===t.deleted?e.props.onAddBookmark(n,t):e.props.onRemoveBookmark(n,t.chapter_module_id,t.user_bookmark_id)}},c.a.createElement("button",{type:"submit",className:"".concat(!0===t.deleted?"outline_button":"")},c.a.createElement(l.a,{icon:!0===t.deleted?["far","bookmark"]:["fas","bookmark"],onClick:function(){return e.clickedBookmarkIcon(!0===t.deleted?"bookmarked":"unbookmarked")}}))),c.a.createElement("a",{onClick:function(e){return e.nativeEvent.stopImmediatePropagation()},href:"/".concat(t.chapter_module_url),target:"_blank"},c.a.createElement("div",{className:"left_container"},c.a.createElement("h5",null,t.title),c.a.createElement("div",{className:"icons_container"},c.a.createElement("span",{className:"".concat(e.renderBookmarkClassIcon(t.module_type))},c.a.createElement("i",{className:"icon"})),c.a.createElement("img",{src:t.course_icon_src,alt:"Course Icon"}))),c.a.createElement("div",{className:"right_container"},c.a.createElement("ul",{className:"list-unstyled"},c.a.createElement("li",null,t.course_alias),c.a.createElement("li",null,t.chapter_title),c.a.createElement("li",null,t.chapter_module_title)),c.a.createElement("p",null,e.removeHTMLTags(t.content_description)))))})))))}}]),n}(r.Component)),h=Object(d.p)("user_bookmarks",{get_user_bookmarks:p.a.get_user_bookmarks}),f=h.mapStateToProps,E=h.mapDispatchToProps;t.a=Object(u.b)(f,E)(m)},2:function(e,t,n){"use strict";n.d(t,"v",(function(){return E})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return T})),n.d(t,"m",(function(){return C})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return y})),n.d(t,"s",(function(){return w})),n.d(t,"j",(function(){return D})),n.d(t,"u",(function(){return U})),n.d(t,"c",(function(){return M})),n.d(t,"o",(function(){return P})),n.d(t,"f",(function(){return N})),n.d(t,"t",(function(){return L})),n.d(t,"r",(function(){return j})),n.d(t,"q",(function(){return F})),n.d(t,"e",(function(){return x})),n.d(t,"n",(function(){return B}));var a=n(64),s=n(19),i=n(34),o=n.n(i),r=n(57),c=(n(24),n(4)),_=n(40),l=n(60),u=n(341),d=n(339),p=n(50),m=n(1),h=(n(340),n(35)),f=n.n(h),E=function(e,t,n){return e.setState(Object(_.a)({},t,n))},g=function(e,t){t.setState(Object(_.a)({},e.target.name,e.target.value))},b=Object(u.a)({forceRefresh:!0}),v=function(e,t){return Object.assign({},e,t)},S=function(e,t){return{mapStateToProps:function(t){if(void 0!==e){var n={};if(e.constructor===Array)for(var a=0;a<e.length;a++)n[e[a]]=t[e[a]]||{};else n[e]=t[e];return n}return t},mapDispatchToProps:function(e){return Object(c.a)({dispatch:e},Object(l.b)(t,e))}}},O=function(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(n.is_logout=n.is_logout);var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}))},k=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=void 0!==e.message&&-1==e.toString().indexOf("TypeError: Failed to fetch")?e.message.toString():"Something went wrong. Please try again or contact your technical support!";return!0===e.is_logout||e.toString().indexOf("TypeError: Failed to fetch")>-1||!0===t?(s=void 0!==e.info?e.info.message:s,(!1===n||!0===n&&!0===a)&&A()):window.location.href="/dashboard",s},T=function(){var e=localStorage.getItem("JWT88")||null,t=localStorage.getItem("__BarioOtsoOtso__")||null;try{if(null!==e&&null!==t)return{status:!0,user_details:Object(d.a)(t)};throw new Error("User not logged in!")}catch(n){return{status:!1,error:n}}},C=function(){var e=localStorage.getItem("PANAGSIPNGET");return e||(localStorage.setItem("PANAGSIPNGET",!1),e=!1),!0===e||"true"===e},A=function(){p.a.logout().then((function(e){return R(),{type:m.cb.LOGOUT}}),(function(e){R()}))},R=function(){localStorage.removeItem("JWT88"),localStorage.removeItem("__BarioOtsoOtso__"),"/login"!==window.location.pathname&&"/learn_autologin"!==window.location.pathname&&(window.location.href="/login")},y=function(e,t){return(e.getTime()-t.getTime())/864e5},w=function(e,t,n){var a=m.e.s3,s=a.bucket,i=a.path_directory;return!(!e||!t||t&&!Number.isInteger(t))&&{Bucket:"".concat(s,"/").concat(i,"/user").concat(t,"/assignment_uploads"),Key:"".concat(n?"".concat(n,"-"):"").concat((new Date).getTime(),"-").concat(e.name),Body:e,ACL:"public-read"}},D=function(e,t){t.setState(Object(_.a)({},e.target.name,e.target.checked))},U=function(e){return e.replace(/<[^>]*>?/gm,"")},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.filter((function(e){return-1!==t.indexOf(e)}));return n?a:a.length>0},M=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return n=e.sent,a=Math.floor(1e9*Math.random()),e.abrupt("return",new File([n],"COMMENT_IMG"+a,{type:"image/png"}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e,t){var n,a=(null===e||void 0===e?void 0:e.general)&&m.b.includes(null===e||void 0===e?void 0:e.general.user_level_id);if(!a&&(null===e||void 0===e||null===(n=e.workspace_custom_data)||void 0===n?void 0:n.stack_info)){var s=e.general,i=e.workspace_custom_data.stack_info,o=[parseInt(i.current.program_type_id)],r=[parseInt(i.current.stack_id)],c=[i.current.start_date];if([m.ab.ASSIGNMENT_FORUM_AND_NOTIFICATIONS.id].includes(t))for(var _=0,l=Object.values(m.ab[t]);_<l.length;_++){var u=l[_];if(u.user_level_ids){var d=u.user_level_ids,p=u.allowed_stack_ids,h=u.allowed_program_type_ids,E=u.allowed_stack_start_dates,g=u.visible_on;if(a=d.includes(s.user_level_id)&&(!p||I(r,p))&&(!h||I(o,h))&&(!E||I(c,E))&&(!g||g<=f()().format("YYYY-MM-DD")))break}}}return a},N=function(e){var t=f()(e);return f()(new Date).diff(t,"days")>7?"on "+f()(t).format("MMM DD, YYYY"):f()(e).fromNow()},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{if("object"!==typeof e||"object"!==typeof t)throw new Error("Invalid arguments passed. Check document for parameters.");var s=null,i=null;n&&(s=Object.keys(n)[0],i=n[s]),e.sort((function(e,t){return new Date(t[a])-new Date(e[a])})),i.length>0?e.map((function(n){i&&i.includes(n[s])&&e.sort((function(e,n){return e[t[0]]&&!n[t[0]]?-1:!e[t[0]]&&n[t[0]]?1:n[t[1]]-e[t[1]]}))})):e.sort((function(e,n){return n[t[0]]-e[t[0]]}))}catch(o){console.log(o)}return e},j=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,a,s,i,r,c,_,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=/(data:image\/[^;]+;base64[^"]+)/g,a=/(<img[^;]+src=[^;]+data:application[^;]+;base64[^;]+">)/g,s=t.html_string,i=t.uploaded_base64_images,r=!1,c=null,_=i,l=s.replace(a,""),u=l.length!==s.length,(l.match(n)||[]).map((function(e){if(!i.includes(e)){var t=e.length;Math.floor(3*t/4-18)<=m.C.comment_img_file?c=e:(l=s.replace(e,""),r=!0)}})),e.abrupt("return",{new_html_string:l,to_upload_attachment:c,base64_images:_,is_file_too_large:r,is_not_image:u});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var a,s,i,r,c,_,l,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:void 0,s=/(data:image\/[^;]+;base64[^"]+)/g,i=[],r=t.uploaded_attachments,c=t.uploaded_base64_images,_=n.match(s)||[],r.length>0&&0===_.length?i=r:(c.map((function(e,t){n=n.replace(e,r[t])})),i=_.filter((function(e){return!c.includes(e)}))),l=n.length+(a?a.length+25:0),e.abrupt("return",{comment_description:n,total_character_length:l,unused_attachments:i});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e,t,n){var a=[];if(e&&n){var i=e.match(/"https?:\/\/cd-student-files.+?"/g)||[];t=[].concat(Object(s.a)(t),Object(s.a)(i))}return t.map((function(e){var t=e.replaceAll('"',"");n.includes(t)||a.push(t)})),a},B=function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.replace(/<[\S]*?>/g,"").replace(/\s/g,"").length<1)return!0}}catch(s){n.e(s)}finally{n.f()}}},202:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAxCAYAAACoJ+s+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAb7SURBVHgB1ZnbbxRVHMe/Z3Z39n6hUglNCku5tJQC5eKFINoGiLwY64saQKgPJkQ04IM++MKDf4A8GGN4ocYXXwzok4kkJRIDMWLLRcCllHJTQS5LL7ttd2aOv3NmZndmu9s2dFriN5k9Z+acmd9nvucyZ2YZPFLTPp4O+NAt8jrHG5e+ZL3wQAo8UsCPVg6kxUYX7YBH8gwQBlKYBXkHOEtyATa/x1tFX8JTUvogT7Xs423OY0XA5vd5p6Kix+9DD+VbMccSxsQL6AENtJb9vHsCIGXSVjalMHTPJaQ9A/ASAxxcpvwqDlPSO9eQ5XCUDmg63p0A2HuYZf0BtM8lZCU4XUf7la/YwATAuYacDtwEwJlA+lQcF0EomzWA4/AATohVu0grDXmtIB9dNpgAXyJuoNo5YpoQ6cAkdYRolPbY150MTqjqRF3JSUwhATYVnFNTwQkxTENyjlQwcPELdhIeSDaxgraCgZOTwf0vNC0Hm3ZfbQNje+GRGHiWg5+78s2KrqnrTgb29uU0C/iPLq8PtK1pCCESZJwuzEqncXkJZmbED2MUnSoxZ3mxnlWWH+M4c3kUd/7VBvh4of3KtysHqjFMupphaqB7x/Oxtv0dNWioU8VClBnEZ1A8zhk3DCZTOi7LdJpfaGOi3NyYK7XLFtb48fFbNXj1uUiaqf5jkzH4qxU0vZPpXFoXSG/dGOXf/TzEfs+MYlNL1FGDM3c6fZ04O4ym+gBe2xzH1TuFVk6xqjV3VUDGlEPt66PI3CqwzK1xHP10MaIhb5aPI3kDHxy+jUa67tb1MfTfGRf9u6tS3YoRV+7u60jFlPSiBUGcupDDzu01nsEJRcMKdm2fR06OoH6BivRCtU0OxOkCUrc68HJrDPezOh4Nati2MQ6vtWlVFPceaei7M441y8JiAB3CdACX78y0JmO+tlVLIujuHZbuzYaEi69vSaLnah4tFCsYVCq6OAEw4FMObG6J4+Ggzu89LGDN0jBmSx0vpaj/jWE4z7GhMVrRRRegmPfiMaWzMR3BqXNDbDXBPTvPj9mS7eKvl0ewdnkUQZVcJAZUA1QCgUONiyLknoZrdGe7Zql5nRIuZm7loWlMQjLVd9DFZGcEOQ2OzhWLorzv9ii2rI3Oqnu2hIvrV4TRkxnGqiVRqAHf3nRnT2oCIAuoB5bXU2dVfezCtZE5cc+WaObzFFMzFBBDKmJEDroAWzuvp8B4x+plCfx5M4cXmiNz4p6thoVBNC4K4sqNHKUxenIrB2wXJeCoXuhYUhdOB1U/ejND2LbB+3lvKomJ+9L1YZpu/GROsOiiBBSPtZUNSfTdztHd+LF6FqeWalrdEKYFSQB/3x9Dc0NCuigBxaJgfkqV7mVukHsbE3haEi5e7B/EvEQI81OhlGBjK/f0XX9xbe1iscg7fe7ehJMa6oL46M1amXqp/r/GcOSHB7jQn59Qtmnts3IJSTwnCfAq37G53lHsXozefZDD9dtZHPmk3rMFw116Bn/4+S00L5uPZ5IhisSdy9pivR9/uWn2wXGd8YLOYG6wNjNfk4ogHgvjp98G4ZUuXMsjEQ8jEQvJGJoVW3PFN+tKQPoWwgqaBWUwXl5xXjKCMxdz8Eonzg7JGy/BlWIV9zU3IAr0GJFwGsGKioYiQcUWCqm4ea+AkVEDM5VYrAoHo5GQCWOYUJo0RimBGqwEWKDnIIFBt+BoI1BOedH0om8o9E7hx/m+PGYqMSji1LT0saTolJkKMzg0R1MXAQWt2GyLaZNNrhnFfSQT1MyXRjBTnb44gppkzBkLukzJHMM0RBijOQGtO2F2YbE/Fqzmpi0Rj+H0HzMHPN8/imA45Op3446BqTkGjZB84Gq6PcilmPNdVr7IMrHvoyMqPvv6H8TCTzbdDFP/e5xjqKkNwHbICmhHt9+5i+/eEtBsb4UXq4iXXfqVWVmREjpWW1uLgQfjMIwnHyx1dRFzhDIXmBW6dMQ+7nSw7P2WsVI1q0wJIBjyo/IHCXeoajJf5Mvr8grXcAGKLwWyMndN5WQkYTLuuhSrzMbKvnag/JnkDM+c59p9yMxTUPP7iQVI8bNjBZ5UFFHJKjHrc/PKbjxZXB7dsV883aKSvcXkZ8XzmetkZpth/ihEyJmuy5k66zegfz8y9HhPKJYqIpmNyy0OVnLActRBD+cTlEs3nB+XzMj2vt04Vhe34OwymAet1hjL5YSXx1lT5+W0jwd7wsm6lEL/RTghnB22vGHlZy4b1rx7lPZLLV5Jk5fTvFjIIT94N2uwsXWyWjO9rNOD4phPTaQVf9h9Mi/r/qwUgJfmBlcT2/WcMJxXwSkDNbQ89LGhLLV0+6WuFb3FYuEkdF8bDdVX8BRFHepc3jfcNdC1Tn7r/g+BmJJT/wKdyAAAAABJRU5ErkJggg=="},210:function(e,t,n){"use strict";var a=n(19),s=n(3),i=n(7),o=n(6),r=n(5),c=n(0),_=n.n(c),l=n(9),u=n(345),d=n.n(u),p=(c.Component,n(409),function(e){return _.a.createElement("div",{id:"coming_soon_container"},_.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/coming_soon.png",alt:"Coming Soon Image"}),_.a.createElement("h5",null,"Coming Soon."),_.a.createElement("p",null,"We are working on some awesome things you can look forward to. Stay tuned!"))}),m=(n(410),function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={videos:[{id:1,is_active:!0,video_url:"https://player.vimeo.com/video/170021157",title:"Nearing graduation!",date_release:"August 10, 2020",img_overlay:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:2,is_active:!1,title:"Anyone can learn to code!",video_url:"https://player.vimeo.com/video/170021053",date_release:"August 11, 2020",img_overlay:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=752&q=80"},{id:3,is_active:!1,title:"Falling behind?",video_url:"https://player.vimeo.com/video/170021052",date_release:"August 12, 2020",img_overlay:"https://images.unsplash.com/photo-1504639725590-34d0984388bd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80"},{id:4,is_active:!1,title:"Belt Exams",video_url:"https://player.vimeo.com/video/170020509",date_release:"August 13, 2020",img_overlay:"https://images.unsplash.com/photo-1555099962-4199c345e5dd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:5,is_active:!1,title:"Staying Focused",video_url:"https://player.vimeo.com/video/170020469",date_release:"August 14, 2020",img_overlay:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:6,is_active:!1,title:"Improving your bootcamp experience",video_url:"https://player.vimeo.com/video/170020422",date_release:"August 15, 2020",img_overlay:"https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:7,is_active:!1,title:"Aha Moments",video_url:"https://player.vimeo.com/video/170021050",date_release:"August 16, 2020",img_overlay:"https://images.unsplash.com/photo-1580927752452-89d86da3fa0a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},{id:8,is_active:!1,title:"Imposter Syndrome",video_url:"https://player.vimeo.com/video/170021054",date_release:"August 17, 2020",img_overlay:"https://images.unsplash.com/photo-1503252947848-7338d3f92f31?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=889&q=80"},{id:9,is_active:!1,title:"Being Proactive!",video_url:"https://player.vimeo.com/video/170021060",date_release:"August 18, 2020",img_overlay:"https://images.unsplash.com/photo-1562813733-b31f71025d54?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=749&q=80"},{id:10,is_active:!1,title:"Being ahead",video_url:"https://player.vimeo.com/video/165821795",date_release:"August 19, 2020",img_overlay:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"}],active_videos:[],show_more_videos:!0},e.handleChangeActiveVideos=function(){var t=Object(a.a)(e.state.videos).filter((function(e){return e.is_active}));e.setState({active_videos:t})},e.handleInputChange=function(t){var n=t.target.value;if(n.length>=2)e.setState((function(e){return{active_videos:e.videos.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())})),show_more_videos:!1}}));else{e.handleChangeActiveVideos();var a=e.state.active_videos.length>2;e.setState({show_more_videos:!a})}},e.showMoreVideos=function(){var t=Object(a.a)(e.state.videos),n=0;t.map((function(e){n<=5&&(n++,e.is_active=!0)})),e.handleChangeActiveVideos(),e.setState({show_more_videos:!1})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.handleChangeActiveVideos()}},{key:"render",value:function(){var e=this;return _.a.createElement(l.a,{id:"daily_tip_modal",show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)}},_.a.createElement(l.a.Header,null,_.a.createElement("h4",null,"Daily Tip"),_.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(!1)}},_.a.createElement("span",{className:"close_icon"}))),_.a.createElement(l.a.Body,null,_.a.createElement(p,null)))}}]),n}(c.Component));t.a=m},218:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABiCAYAAACvUNYzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABSFSURBVHgB7V1rjBxVdr5V1e+emZ7xYwyYYIMJYDDYEghkodiGjYIgUbJKYkuRkgUlUjYbKT+SSHmgZAGL9Z8oCT9wiET8YwmrSEEQJVjJIgUJL0sEUgA7yAg72B4PBgM2np5Hd08/qmrPd+qemtvtnpme7qqeGZgj3anqruqae8/7nHvuLaXWYA3WYA3WoAOw5MT3ffls0bmlv7PkO+OaWoMe4Mknn7TpYMtRN8s4t/fv3++0XG9tTCRpaoXBSusQkA3Ec7+KxeKWgYGBvZZlbaWPW/RxKx0LdBxu+W2REDxJxzF9fqLRaJyge8+lUqkTuMEHBQhwanz8RouJqUZsQvhNruv+sed5b9B3E350MIFn4tmVSuVG1SIdauUxYnwgA8YRquOTTz5ZV6/XnyIEjbVizfN8v+H6ft31/Grd82epVWpBK1fdplapufw97sG9tYbHv8Uz2sA5EAMEV82q7WtNCB6g6GvixAc1p1+F8CojuhnBpdmGP12p+8WZqv/V5OxVbWJ6lq9NlWptiYNngpCtBEEfqtXqr1OfHLUMhIj9H/mh2mWwidv3Oo7zffpub3BdKY8aMazyPF9+o+oNV9Xqrmo0PD53PU8tBZIJR+H/ppKObonwmm1byiFUJ+ym4Y+RVBx8+umnf4gPxChsJ1TMECcBzGdbxPH70ul0E+KBdGJKPgfSK7N1NVtrENJdIkr0YwcRsumkSqUcIoCtwBc2/Uk6lhIeoX6cJ4n43Ww2e4w+evo732CiSCGh4gHprXXhwoWR66677ggN4NfwBfBadwPEA2r1hioT4muEeC9mvx3/Cw2QTadUNpNgoqAvji2EsLZkMpnXSRp+OD09ffCZZ54Z0z+PpXORklUbWCU6hzjp2+QCHqHT4VaOByJmyrUQIcsFkISBXJqIkeTPCScgBADSQK7sQRoD1JLowEgJYasIAXh/6qmnmOuJg/6eOv4yfT0MZq+SLicDq6rE6Vcmy9yWG/kA2JbJmYq6dGWG+4M+kifFzAJpSCaTR8hu/R15ayOqOdKOBKJ6UKhyvvjiixs3btz4OjovXN9gleOp6Zkq6fi6WskA1TSQT7FkQBpgqCHPkIZLly59a9OmTee0TYhEEnolgKU7w+5bqVTamcvlXlda5YDrcSzP1tRMqRq7jo8KTLUE5KcTthjpsXK5/Bv5fP64Cmyz6pUQPRNANzKitcdIXP+WToeh52Fo4VbOlKuqVKmp1Qj5TIoJAbc1mbDYUBMUSSX9qbYLfq/S0LMNQO5GI5+NLVROrQG146nLE6VVi3xAiST3crFEatTjMYGpCIYxVhrzo/gAm+f3INldSYAOrhDVqscff1yQzx1scHPVxGRlycHTSgWopJGhrEpQcGd6SSQJvwdJQECNz91IQrcqCGlg6/nnn99VKBT+mz4Pm8i/UiyvGn3fKcDDW1/ItRKhSDbhW2QTkG0FEfpCAIuQbz/77LNbxdvpJ/IRuaYpmnU4nRBoUEgaVF697sYqdSYRQICEJsKXX355D7wjNUeAjhGwJAIgkQa1o6Pbd4F8N9T58SIfESsMIvI6CwHiDNiduGIMkwgpbZjhop46deru7du3Tyg919Dp8zpORUhSDapndHT0CfHz69rHh86PA/ng+MJgRqVTyY7uT6cS3CrVOru+UUsEDO7EVEWtG85RktBWdjJIX9xyyy3fp8t/ogLkW53mjzqSAO3vst5/4YUXHqNcyT+Jnw9XE95OHKIPFYOBiqpZKqBPkMq4+rZhOK9sUkMSJ8zMzOwfHBz8NxhljfxFObJTFcT+vhnlit6fLs3G4mr2inyBOImAQK0wkG0yyqdPn/75W2+9daJTInRCAAm2bMrvHLFt+zui95E+Rh4lDoDb16naWQxgD5B7igMG8xmVz6ZUmlQR1CUh/t8JR7+p5ryiBQnQKXtZJF57gXx8EL2PKDcOQD4mKuQDZB4gDgAOXB2oQS0j7Q5cQV3rWxZk8sUIICUgFuV4wmAL/ygOAyeAZFjUkCcPKg6AfZyemQ0nmACEq7+mxF1HEfKCBEB5CFESqYbvhNlNIgBEGl5GHABu7VXvt4MEzUEu5sJ2C5jFA05cN5SCvUePHt174MABW0ps5oOFLiLVwJPoNHH9MQgAMYP+R+48Nu4nTh2IiVuhLuJSmyDuukKe4wLEB8T9x0hl/6JaxBbMx2osPidPnrRoWu7bwv1APgxvnNGmOXkeNWCiPi5AAQFLgTcnBcVicZ9aZBJnXllH1PXSSy9ZNDn9R/isM4GxcVA/wHGiV20mCG7EFgwNDf3Vvn37pHa17W/a9UgohaKprY7j7MEHRLkBhePNcDpOPNUH/YBQCgxbcPDgQZ7KnC9t3ZYlkGzDkYIurmQQsYL6iRtcN75EnteH9HiZglKMwNXI3r17NzQIp+5VGzXUVgLuuOMOzmdQrpvVD2UcmPPj8nxMcN34kNRw4ydAlaTA9+bKbkiDIHaCN2m1yw1ZbT6z708pVqSb/x+ERJVAnFGvCVmaBiwMZFQcMDld6QsTSXScSQY5orNnz96ybds2pKs9NVfewtAkAaKj7r77bosMCKsfyXD2o+OAWfo/vhePGoKO7gdUdeWHqKHNmzf/qlxrtQNNBNAyYr377rt+IpHgH4nU9quGBx3EXGzUELf7bEId1SBc6xp81rhsKloTCAkglNFuk0266y58Fu+nn4DsapRSEGfeqh1wcTFNUEmxMQVkO+lgEW6l+jqEkABCmTfeeENdvHgRPxgOimb7J7oCGMBUeVZFBXHmreYD4CxYhsO4LZw5c2YLvtfeUAitXhCroIGBAb7ZU374sH4DVEYUXItn9Mt+mYAKb4CvcXjNNdfsBXPzd8ZatSYVhMQbGWBF7ickINRhvdS99AJAHjKN3QBnKWmyaLki97o2noYdAFNzfs00A2HipWkVRaCzlKjheqP/EiAAg4xso1nBvBjAZk1Ozy5rXRLiGTbEehEI8mnt7jMzXz6CBSTg9CpEhn4EL4uBVDCDm+FfJxJ2U9IO3I4BB2lhd0VUXQM8VkAc04KpWQKUTnQKv5sEsDCJ8OGHH8rNPDDPW34CCIAQU6XojHPcgLSKJGAFp+QJKWOpbGADRMeLkVCyBld7QWvQHbSkVYbb3cMEAEWgfhAB64+sgoB7z1ujQC8gDGyqdQ2sg0IviHL//uDg4Bq24wXL0DIMdstF6+abb1ZrECs0zY6FNgAxAE4//vhjtQbxAeIsgNjdJhWEo5aAIv7EtDT2GwMo7hAUEsIngVtKdDKzS9wVEkBmbLQETMr3K2mKEOUqmFjHnEFWLx8KAjTKvWMBNsUG9griGl46N9edomgXYnYc5txQEAMBmNzpuu55+T7uiez5AIgEYodocgblHpvWD6qN6wbU+uE8T9igCQFwPjyYpftyapTuw734DX4LwiwXURAEy78mnI7ffvvtnJ/DNgi+1kEciOH8wIED4Q8p+BqndHQwNdbHzoODZV+HXoqozD0icnpyDRF9BWmNaqNvKQqsIbDmRGASQa7ZR77H+MDUgZ6CBCSTyUCHecFKlLg6HXB6kmtB46pcA6AyDlOFg/mAGCVKa1Rj3B4h6QRjEf7F5lFyzUxJi36Ryi2fMqF+vV4/b/44joImIB7qA2oFiIkT+a0AYhRIZa0fyXMf4iiFtHQSTjR4tVpdkACyTRjngj777LOfBBe1mCSi7SASakA8Bm8tk34GyIJsrEOIunpaGEpU0MTExDi5oKENkPva1gHedttt58kOTCJ8toyH9QoYMDivn9zeCUi/oAqjSmPDjgV5ncAFfeCBB06MjY1ddV/I2k888QQoEy61JDvwf3wDrxJ3+NgLyIqXlYZ8E4C0KFblBM+awxlwSchfuDi3xRX1SWe9ihPoMFxL9OCORrXcqB8gfe2F4WSuwtD/r8IFpVT0VVXSTVOSOhpm+fvoo4+YANKRTA86ciCfXhXIF0BfEVd0CzJzJy78Bx98cBRHIxEXEsGUAKEO0tLePffcA0/oPMcCtmIj1Q1XYDBxLQ+KE3qJRQL1E+h/xFS7d+8eI+cGEnDVve0q4zgtTfGAVy6Xf4Qvgj1zsPBg6bX7nc7jrkToZq0C1rfxXkOaWUul0mGlF2mQBIQRsEA7vYAbUZjrv/LKK8/yTXbgTOWyS0fmalI9rdBN33mPIf5tQIDTp0//h1wz3U+Bq4pz9YQx76F5/fXXO+fOnXstkUj8gqwLvjJZWlKdkCxotuzl8/e7AeBhqQvQMVbEN7JMiaLfNymj8EtkgD1SQVKYO39xLv4vFhLom/wLFy74n3/++SFc0BtTLHn9Fk+kl1fPRLrA1MzS4wE4GwDZzoaCL6gfNTo6yoj32xRYtWPLsESdKGcT5RKUmvgxpEAW6S1VCrhzMS6+ixq6WczXyv0wvqRBtl+8eBE1MkCWb6yeD6GtDcAfmjTwYbnpIaEUYNsu/LwbRK6Wrcu6XUlZ0G6rcP/09PQPCPlhYIv8TycLNMLvkRsiY2yTGnLIkjvj4+M/Nm1BcbrMqd2lwkqWBGwuONVFKSQ8H+zoInsI6XT+dtIgDagfwuO8S1XnM/N848aNGzFH7IOSpi0A1ZDB7CYuiHOtbi+APnWDfE7o5VOME7GTlMz8Lh1geNn1VAusE15wobYKgjKH5jF5x3MKqf+V3NNfQQ69Wg8WUnRbPAuuGSKjtdzeEZfC0xi6raDmJB6mQ/XmTbOzsz/KZrO/T5egHoTz5zWYCzm6TLGbbrop1GMvvvjid5HZs61A1LCtI1LL3UClqnckXMbCX9SQwtXsFvkYO5APXAD5UD3Hjx//wdatWxlnsKOqxe1shcUiDREbdqMoYzpx+fJliFeoinqZ0ICbByL0u5JZStexhU23/1fmElj1aCmenJw8REgfy+VyTACsNl2stH8x+Q8XbevzxLXXXmufOXPmb0jM/pB3zeJ9lnvfFIlzRhRFosUVPfP6M/LEsJa3l6lIyZgm6JjWKyFJPR/OZDJ/pgJ1YwZdC/6jjrJNMltGlFUUGUMt/e/OnTv3kxEuBBMOFs3pOlwe3u24fF6L5jJyUFUMGkRVkRFskV9jSavSeS+zwFC/jHwn2LTP1qrn5Zdffuydd96pTE1NdYR4gUUtoE5NSHDmyPHtt9++8d577/0fzJrBLa3LtpUk1lEV9ILTJCuZpGnRRIdz07yBUs1VNbIvVdLvUU28m8g3Xc633nrr4T179pwjt9NtSTmEZejzQacuSLjjB3lFtvaKHMpz7yI9959xEqEV5NUkrdKBUnBelYI1DTHt3tiKfDgkp06denj79u3HkT0ml93FrKKRdFu0I53KeOjLEvI9zBfQuXfnnXceLxaLf44bZOM6dBAFUnHp8eDdMg2u8TGbbCQSB/JDne80bdiqvvrqq78g5KPaAfGSp70epS1vNCqozf2hOiJ3y6a5TvvKlSu/MzIy8o+4QSQhzt0K+wnmdKqJfPIGv0eB6gsqUDWc61Ftsp2LwVLZ1Cyr8NavX+/C5123bt2LlPn7A4gkOgjjBA9hw0i+6zhhJQD6jjFgLDwmrXaA/B07dvyzat4Ny1vU52wDXYWhWOeKtDURQoyy2ISdZIj+xbbtG8RFRY/i2sU2LoC+xyZ/IAAGJ64mkH/y5MlHSPWeoCSlR26nR0eXphq9bl971W0eQNQQ91enre1NmzY5NLG/5f777/8vJoJSelNvvc1laXkWTS8FMqmkGhxIX/UKE3g7x44de+TBBx8cI6l3SfWyuoHRRUlPty9x6CURw7+VrCma0q8FfO6550YeffTRxxGs4R5+o0YjWLAJXx/bxqw0aTA3B+diNHJ7xY+oVCr/QIx1iMaEzblNP190v1JdcD+g10yYZcQJIglsoMlA4fy3yT78JaQBN4uBBqwUtdSKeMnriMqhTPD3Nm/e/CplADw65ygX9T1GilmpLpEP6NVXNDvA857aRXUvXbrkwlBBbGu1WlBdQYPDJkYYIJJYmEFCHX+/y1ag46Fq8L/hMgP56BN0fUK/VY/6fPTIkSM7du3ahfooN5/PhymGqJAPiCQX3BIti1EOjTPOKX+0h3TncyINsvU9AjaWZUSvpJ6wSUccK905g0tBXCYdbGOM7rZyPICmX39K+fxD1Nc3VXt1YxrbnoOOSKIlWV+g3TAzFEeneU5027Ztx2iW6A64cDBo+Alcu0wqcPGQagBiwJHXbBhi7gxUQ6Kr8ngYUVTzcfUzPSuQtpzKUQrdYVfZbuJ4IP7s2bO/TPMdD993330/0X1nrtdS7RueTlceT7+AOR+vGlcB96O6KUUchbUqWdKluQ0bNgx++umnv0Vi/qZ/1etsg/cBV1peSYs2VcbrbGv+xHT7V9riGl55i1ffNr3OtorX2bpt3y+MPpB0PkJ9GyQvLo/+0Tn6igAmocchEr2qgLc9xgDIaIEIUPSYDM7oQeapDbz22ms7kM7Aqhy/BeT9wng5MxA4W9cvbm5DnOCFzsE9AbLnf6Ez/tfMzMyhw4cP/xz6oPvCiKecTlr3FY2Rr9+BvLpAB4VsE/QARBpCQlDLgetUgIRBIQa4ktRU0Y8I8Cw8E8/G/8D/UnOIz+q+oE/M9WAY3Wcz3okF+iFWnJIlsLCbuF6i2WqsWxvf8/777981Ojp6Q6FQuDORSNxFBrxAduQGXjjSsvcCPX8SDasRG43GOCH9PPnv4++9995PH3rooXG6xSPXGBsnwZ3kn6hgTRwn0nTpuDKi2vDR6usAkAg0eaV5i2oSqUhTaM92ApJhSIe0Qd2G5JzijCHje2nmb/JqjtNNbk+SccX/FW5vZYavLZhqSfQrE0IjJKWbqClBXNawHaK6uOnzHK7re9CyMPxoWq/jmUxsTXg0R1SNH+zj9rVGfCvwoI2Bm3bCtBcmUYQwTU0jOCPnFJGnNDGlyTMdk9u/iUhfCBgZghTDcJst0dIEuQmTq1UzskM3cg3hSwADWZbhkbDK0tccI9aw2zV5hm9sE7nSYFVwgz+X6jA9Egm/576YW/G/6GT4GqwBw88AwVo9oT3+bs4AAAAASUVORK5CYII="},229:function(e,t){},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),s=(n(2),function e(){var t=this;Object(a.a)(this,e),this.sendRequest=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.api_header.headers=!1===s?{"Content-Type":"application/json"}:{},t.api_header.body=!1===s?JSON.stringify(n):n,!0===a&&(t.api_header.headers.Authorization="Bearer ".concat(localStorage.getItem("JWT88"))),fetch("".concat(e),t.api_header)},this.api_header={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({}),mode:"cors",credentials:"include"}})},261:function(e,t,n){},306:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},342:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CourseReducer}));var _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_config_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_helpers_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),initialState={track:{chapters:[]},todo_upload_error:null,end_chapter_survey_response_status:null,is_late_assignment:!1,user_details:null};function CourseReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.FETCH_COURSE_PAGE_DATA_REQUEST:return{track:{chapters:[]},todo_upload_error:state.todo_upload_error,end_chapter_survey_response_status:state.end_chapter_survey_response_status,is_show_check_solution_timer:!1};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.FETCH_COURSE_PAGE_DATA_SUCCESS:var is_show_check_solution_timer=!1;is_show_check_solution_timer=new Date(action.track.assignment_remaining_time)<Date.now()||action.track.assignment_remaining_time;var get_user_details=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_3__.g)();return state.user_details=get_user_details.status&&get_user_details.user_details.general,{track:action.track,end_chapter_survey_response_status:null,quiz_module:action.quiz_module,assignment_tasks:action.assignment_tasks,user_details:state.user_details,is_show_check_solution_timer:is_show_check_solution_timer};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.FETCH_COURSE_PAGE_DATA_FAILURE:return{track:{chapters:[]}};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.o.SAVE_CHAPTER_SURVEY_DATA_REQUEST:return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{is_chapter_survey_form_submitted:!1}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.o.SAVE_CHAPTER_SURVEY_DATA_SUCCESS:return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{is_chapter_survey_form_submitted:!1,proceed_to_next_link:!0}),end_chapter_survey_response_status:action.chapter_survey,assignment_tasks:state.assignment_tasks};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.o.SAVE_CHAPTER_SURVEY_DATA_FAILURE:return{track:state.track,end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.UPLOAD_TODO_FILE_REQUEST:case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.UPLOAD_TODO_GITHUB_REQUEST:return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.UPLOAD_TODO_FILE_SUCCESS:case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.UPLOAD_TODO_GITHUB_SUCCESS:if(void 0!==action.todo.file_data){var tracks_data=state.track,_is_core_assignment=state.track.active_module.checklist.is_optional===_config_constants__WEBPACK_IMPORTED_MODULE_2__.v&&state.track.active_module.checklist.is_practice===_config_constants__WEBPACK_IMPORTED_MODULE_2__.v;return tracks_data.completed_chapter_module_ids&&(action.todo.is_late_assignment?0==tracks_data.completed_chapter_module_ids.within_stack_sched.includes(parseInt(tracks_data.chapter_module_id))&&tracks_data.completed_chapter_module_ids.outside_stack_sched.push(parseInt(tracks_data.chapter_module_id)):(tracks_data.completed_chapter_module_ids.outside_stack_sched=tracks_data.completed_chapter_module_ids.outside_stack_sched.filter((function(e){return![tracks_data.chapter_module_id].includes(e)})),tracks_data.completed_chapter_module_ids.within_stack_sched.push(parseInt(tracks_data.chapter_module_id)))),{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},tracks_data),{},{user_files:[action.todo.file_data],todo_solution:action.todo.todo_solution,cd_survey_scheds:action.todo.cd_survey_scheds,assignment_remaining_time:action.todo.assignment_remaining_time}),todo_upload_error:null,end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,is_late_assignment:action.todo.is_late_assignment,is_show_check_solution_timer:!_is_core_assignment,user_details:state.user_details}}return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.UPLOAD_TODO_FILE_FAILURE:case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.UPLOAD_TODO_GITHUB_FAILURE:return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),todo_upload_error:action.error,end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.DELETE_USER_TODO_FILE_REQUEST:return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.DELETE_USER_TODO_FILE_SUCCESS:var is_core_assignment=state.track.active_module.checklist.is_optional===_config_constants__WEBPACK_IMPORTED_MODULE_2__.v&&state.track.active_module.checklist.is_practice===_config_constants__WEBPACK_IMPORTED_MODULE_2__.v;if(state.track.user_files.length>0&&void 0!==action.todo.user_file_id){var new_user_file_list=state.track.user_files.filter((function(e){return parseInt(e.id)!==parseInt(action.todo.user_file_id)}));return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{user_files:new_user_file_list,todo_solution:action.todo.todo_solution}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,is_show_check_solution_timer:!is_core_assignment,user_details:state.user_details}}return state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.START_TASK_SUCCESS:return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{is_show_todo_modal:!1,user_module:[action.start_todo],assignment_remaining_time:action.start_todo.assignment_remaining_time}),end_chapter_survey_response_status:null,is_show_check_solution_timer:!0,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.FETCH_USER_TODO_SOLUTION_REQUEST:var current_todo_solution_request=state.track.todo_solution;return void 0===action.post_data.dir_path&&delete current_todo_solution_request.solution_content,{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_request}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.FETCH_USER_TODO_SOLUTION_SUCCESS:var current_todo_solution=state.track.todo_solution;if(void 0===current_todo_solution.solution_content)current_todo_solution.solution_content=action.todo_solution_content,current_todo_solution.active_solution_content=action.todo_solution_content.length>0?action.todo_solution_content[0].children:[],current_todo_solution.active_tab_index=0;else if(action.todo_solution_content.length>0){for(var _current_active_tab_index=parseInt(state.track.todo_solution.active_tab_index),content_keys_array=action.todo_solution_content[0].id.split("."),key_finder="current_todo_solution.solution_content",active_key_finder="current_todo_solution.active_solution_content",ctr=0;ctr<content_keys_array.length-1;ctr++)key_finder+="[".concat(content_keys_array[ctr],"].children");eval(key_finder+" = action.todo_solution_content"),eval(active_key_finder+" = current_todo_solution.solution_content[".concat(content_keys_array[0],"].children")),current_todo_solution.active_tab_index=parseInt(content_keys_array[0]),_current_active_tab_index!==parseInt(content_keys_array[0])&&void 0!==current_todo_solution.active_file_content&&(current_todo_solution.active_file_content.content=void 0)}return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.CHANGE_ACTIVE_TAB_CONTENT_REQUEST:var active_current_todo_solution=state.track.todo_solution,current_active_tab_index=parseInt(state.track.todo_solution.active_tab_index);return current_active_tab_index!==parseInt(action.id)&&void 0!==active_current_todo_solution.active_file_content&&(active_current_todo_solution.active_file_content.content=void 0),active_current_todo_solution.active_solution_content=action.todo_solution_content,active_current_todo_solution.active_tab_index=action.id,{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:active_current_todo_solution}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.FETCH_USER_TODO_SOLUTION_FILE_REQUEST:var current_todo_solution_file_object=state.track.todo_solution;return current_todo_solution_file_object.is_loading_file_content=!0,{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_file_object}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.FETCH_USER_TODO_SOLUTION_FILE_SUCCESS:var current_todo_solution_object=state.track.todo_solution;if(current_todo_solution_object.active_file_content=action.todo_solution_content,current_todo_solution_object.is_loading_file_content=void 0,void 0===action.todo_solution_content.is_image){for(var _content_keys_array=action.todo_solution_content.content_key_id.split("."),_key_finder="current_todo_solution_object.solution_content",_ctr=0;_ctr<_content_keys_array.length;_ctr++)_key_finder+=_ctr+1===_content_keys_array.length?"[".concat(_content_keys_array[_ctr],"].content"):"[".concat(_content_keys_array[_ctr],"].children");eval(_key_finder+" = action.todo_solution_content.content")}return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_object}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.CHANGE_ACTIVE_FILE_CONTENT_REQUEST:var current_todo_solution_content_request_object=state.track.todo_solution;return current_todo_solution_content_request_object.active_file_content=action.active_file_data,{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{todo_solution:current_todo_solution_content_request_object}),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.COMPLETE_LESSON_MODULE_DATA_REQUEST:return{lesson_module:action.lesson_module,track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.COMPLETE_LESSON_MODULE_DATA_SUCCESS:return{lesson_module:{message:action.error},track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.COMPLETE_LESSON_MODULE_DATA_FAILURE:return{lesson_module:{status:!1},track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.SUBMIT_ASSIGNMENT_TASK_SUCCESS:var assignment_remaining_time_value=!!state.track.is_admin_user||action.assignment_remaining_time;return{lesson_module:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.lesson_module),track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},{assignment_remaining_time:assignment_remaining_time_value}),assignment_tasks:action.assignment_tasks,is_show_check_solution_timer:assignment_remaining_time_value};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.CHANGE_PROPS_VALUE_REQUEST:return{track:Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.track),{},Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},action.modal_name,action.new_value)),end_chapter_survey_response_status:null,assignment_tasks:state.assignment_tasks,user_details:state.user_details};case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.START_QUIZ_REQUEST:return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state),{},{quiz_module:{},assignment_tasks:state.assignment_tasks,user_details:state.user_details});case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.START_QUIZ_SUCCESS:return state.quiz_module=action.quiz_details,state.quiz_module.current_index=0,state.quiz_module.questions=state.track.active_module.content.constructor===Object?state.track.active_module.content.data.questions:JSON.parse(state.track.active_module.content).data.questions,state.quiz_module.questions.map((function(e,t){e.is_active=0===t,e.choices.map((function(e){e.is_selected=!1}))})),state;case _config_constants__WEBPACK_IMPORTED_MODULE_2__.p.NAVIGATE_QUIZ_SUCCESS:return state.quiz_module=action.quiz_details,state;default:return state}}},343:function(e,t,n){"use strict";var a=n(3),s=n(7),i=n(6),o=n(5),r=n(0),c=n.n(r),_=n(9),l=n(12),u=n(1),d=(n(390),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).resetModalOnHide=function(){s.props.toggleShowModal(!1)},s}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.user_files,n=[];if(null!==t&&void 0!==t){var a=JSON.parse(t),s=a.file_link.split(","),i=a.file_types.split(",");if(s.length>0)for(var o=0;o<s.length;o++){var r=null;r=s[o].includes(".pdf")?"file-pdf":s[o].includes(".docs")?"file-word":s[o].includes(".png")||s[o].includes(".jpeg")||s[o].includes(".jpg")?"file-image":s[o].includes(".txt")?"file-code":"file-alt",n.push({id:o,file_type:r,link:s[o],description:void 0!==u.Z[i[o]]?u.Z[i[o]]:"Others"})}}return c.a.createElement(_.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"my_files_modal"},c.a.createElement(_.a.Header,null,c.a.createElement(_.a.Title,null,"My Files"),c.a.createElement("button",{onClick:function(t){return e.props.toggleShowModal(t,"reset_password_modal",!1)}},c.a.createElement("span",{className:"close_icon"}))),c.a.createElement(_.a.Body,null,c.a.createElement("ul",null,n.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("a",{href:e.link,target:"_blank"},c.a.createElement(l.a,{icon:["far",e.file_type]}),c.a.createElement("span",{className:"description"},e.description)))})))))}}]),n}(r.Component));t.a=d},344:function(e,t,n){"use strict";var a=n(19),s=n(3),i=n(7),o=n(29),r=n(6),c=n(5),_=n(0),l=n.n(_),u=n(2),d=n(1),p=n(16),m=n(90),h=n(188),f=n(210),E=n(127),g=(n(412),function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var i;Object(s.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.props.get_lp2_exam_link()},i.componentDidUpdate=function(){var e=Object(a.a)(i.state.links),t=e[4];i.props.exams.lp2_exam_link&&"exams"===t.to&&(t.to=i.props.exams.lp2_exam_link,i.setState({links:e}))},i.openReportIssueModal=function(){i.props.history.push("/contact")},i.openBookmarksModal=function(){i.props.onAddActivityLog("3.12.12"),Object(u.v)(Object(o.a)(i),"is_show_bookmarks_modal",!0)},i.openDailyTipModal=function(){i.props.onAddActivityLog("3.13.12"),Object(u.v)(Object(o.a)(i),"is_show_daily_tip_modal",!0)},i.state={is_show_bookmarks_modal:!1,is_show_daily_tip_modal:!1,is_show_report_issue_modal:!1,links:[{name:"Tracks",to:"/tracks"},{name:"Course",to:"/tracks"},{name:"Assignment Checklist",to:"/progress"},{name:"Belt Exam History",to:"/belt_exam_history"},{name:"Take Exams",to:"exams"}]};var r=Object(u.g)();if(!0===r.status){var c=r.user_details.workspace_custom_data.bootcamp_info,_=i.state.links[1].to;if(-1===(_=c&&null!==c.last_visited_url?c.last_visited_url:"/tracks").indexOf("http")&&"/"===_.substring(0,1))_="".concat(d.d.LP3_FRONTEND_URL).concat(_);else{var l=_.split("/m");_="".concat(d.d.LP3_FRONTEND_URL,"m").concat(l[1])}i.state.links[1].to=_}return i}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"mobile_sub_navigation_container"},l.a.createElement("button",{type:"button",id:"bookmarks_btn",onClick:function(){return e.openBookmarksModal()}}," ",l.a.createElement("span",{className:"icon"})," Bookmarked Content"),l.a.createElement("button",{type:"button",id:"daily_news_btn",onClick:function(){return e.openDailyTipModal()}}," ",l.a.createElement("span",{className:"icon"})," Daily Tip"),l.a.createElement("button",{type:"button",id:"report_mistake_btn",onClick:function(){return e.openReportIssueModal()}}," ",l.a.createElement("span",{className:"icon"})," Contact"),l.a.createElement("div",{className:"form-group"},l.a.createElement("span",{id:"dark_mode_icon",className:"icon"}),l.a.createElement("span",null,"Dark Mode"),l.a.createElement("input",{type:"checkbox",id:"switch_dark_mode_input",defaultChecked:this.props.is_dark_mode,onChange:function(t){return e.props.handleOnChangeDarkMode(t)}}),l.a.createElement("label",{htmlFor:"switch_dark_mode_input"})),l.a.createElement(h.a,{onRemoveBookmark:this.props.onRemoveBookmark,onAddBookmark:this.props.onAddBookmark,onAddActivityLog:this.props.onAddActivityLog,onUpdateUserSessionPage:this.props.onUpdateUserSessionPage,user_bookmarks:this.props.user_bookmarks,show:this.state.is_show_bookmarks_modal,toggleShowModal:function(t){return Object(u.v)(e,"is_show_bookmarks_modal",!1)}}),l.a.createElement(f.a,{show:this.state.is_show_daily_tip_modal,toggleShowModal:function(t){return Object(u.v)(e,"is_show_daily_tip_modal",!1)}}),l.a.createElement(E.a,{show:this.state.is_show_report_issue_modal,toggleShowModal:function(t){return Object(u.v)(e,"is_show_report_issue_modal",!1)},modal_status:this.state.is_show_report_issue_modal,onAddActivityLog:this.props.onAddActivityLog}))}}]),n}(_.Component)),b=Object(u.p)(["exams"],{get_lp2_exam_link:m.a.get_lp2_exam_link}),v=b.mapStateToProps,S=b.mapDispatchToProps;t.a=Object(p.b)(v,S)(g)},346:function(e,t,n){"use strict";var a=n(24),s=n(4),i=n(19),o=n(3),r=n(7),c=n(6),_=n(5),l=n(0),u=n.n(l),d=n(16),p=n(44),m=n(2),h=n(9),f=(n(413),function(e){Object(c.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),_=0;_<r;_++)c[_]=arguments[_];return(e=t.call.apply(t,[this].concat(c))).state={inputs:[{name:"old_password",type:"password",error_message:"Incorrect Old Password",label:"Old Password",value:"",is_valid:!0},{name:"new_password",type:"password",error_message:"Password does not match",label:"New Password",value:"",is_valid:!0},{name:"confirm_password",type:"password",error_message:"Password does not match",label:"Confirm Password",value:"",is_valid:!0}]},e.handleInputChange=function(t,n){var a=Object(i.a)(e.state.inputs),o=a.indexOf(n);a[o]=Object(s.a)({},n),a[o].value=t.target.value,e.setState({inputs:a})},e.handleSubmitRetrieveForm=function(t){t.preventDefault();var n=Object(i.a)(e.state.inputs);if(n.map((function(e){return e.is_valid=""!==e.value,e.error_message=""===e.value?"Must be filled out":"",e})),n[1].value!==n[2].value){n[1].error_message="Password doesn\u2019t match";for(var s=1;s<n.length;s++)n[s].is_valid=!1}if(e.setState({inputs:n}),0===n.filter((function(e){return!1===e.is_valid})).length){var o=Object(a.a)(n,3),r=o[0],c=o[1],_=o[2],l=(e.props.location&&e.props.location.state||{from:{pathname:"/change_password"}}).from;e.props.resetPassword(r.value,c.value,_.value,l),e.props.onAddActivityLog("3.2.18")}},e.resetModalOnHide=function(){var t=Object(i.a)(e.state.inputs);t.map((function(e){e.is_valid=!0,e.value=""})),e.setState({inputs:t}),e.props.user.is_password_reset=!1,e.props.toggleShowModal(!1)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement(h.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"reset_password_modal"},u.a.createElement(h.a.Header,null,u.a.createElement(h.a.Title,null,"Reset Your Password"),u.a.createElement("button",{onClick:function(){return e.resetModalOnHide()}},u.a.createElement("span",{className:"close_icon"}))),u.a.createElement(h.a.Body,null,this.props.user.is_password_reset?u.a.createElement("div",{id:"reset_password_success_container"},u.a.createElement("div",{className:"lock_icon is_locked"}),u.a.createElement("p",null,"Your password has been reset successfully!")):u.a.createElement("form",{action:"",id:"reset_password_form",onSubmit:this.handleSubmitRetrieveForm},this.state.inputs.map((function(t){return u.a.createElement("div",{className:"form-group ".concat(t.is_valid?"":"error"),key:t.name},u.a.createElement("label",{htmlFor:""},t.label),u.a.createElement("span",{className:"error_message"},t.error_message),u.a.createElement("input",{type:t.type,name:t.name,className:"form-control",onChange:function(n){return e.handleInputChange(n,t)},value:t.value}))})),u.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Reset"))))}}]),n}(l.Component)),E=Object(m.p)(void 0,{resetPassword:p.a.resetPassword}),g=E.mapStateToProps,b=E.mapDispatchToProps;t.a=Object(d.b)(g,b)(f)},352:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),_config_constants__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12),moment__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(35),moment__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_10__),react_bootstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(69),react_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(91),_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(68),_actions_user_forum_summaries_actions__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(138),_modals_delete_forum_answer_modal__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(353),_modals_ask_forum_question_modal__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(354),_modals_delete_forum_question_modal__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(355),_assignment_forum_question_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(356),_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(109),_assignment_forum_component_scss__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1043),_assignment_forum_component_scss__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_assignment_forum_component_scss__WEBPACK_IMPORTED_MODULE_20__),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(202),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_21__),AssignmentForum=function(_Component){Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(AssignmentForum,_Component);var _super=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(AssignmentForum);function AssignmentForum(e){var t;Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,AssignmentForum),(t=_super.call(this,e)).componentDidUpdate=function(e,n){var a=t.props,s=a.pathParams,i=a.history,o=a.forum,r=document.URL.split("/"),c=parseInt(r.pop());t.props&&e.pathParams.module_id!==t.props.pathParams.module_id&&t.props.fetchAssignmentForumData({track_id:t.props.pathParams.track_id,chapter_id:t.props.pathParams.chapter_id,chapter_module_id:t.props.pathParams.module_id}),o.new_question_id&&o.new_question_id!==c&&e.forum!==o&&(r.includes("forum_question")?window.location.href="/m/"+s.track_id+"/"+s.chapter_id+"/"+s.module_id+"/forum_question/"+o.new_question_id:i.push("/m/"+s.track_id+"/"+s.chapter_id+"/"+s.module_id+"/forum_question/"+o.new_question_id),window.scrollTo({top:document.querySelector("#assignment_forum_container").offsetTop-30,behavior:"smooth"})),r.includes("forum_question")&&o.question_id&&o.question_id!==c&&(window.location.href="/m/"+s.track_id+"/"+s.chapter_id+"/"+s.module_id+"/forum_question/"+c)},t.showMoreQuestions=function(){t.setState({default_showed_questions_count:t.state.default_showed_questions_count+5})},t.votePost=function(e,n){t.props.toggleVoteComment({comment_id:e,vote_type:n})},t.handleCreateNewQuestion=function(e){e.path_params=t.props.pathParams,e.is_question=!0,t.props.submitNewComment(e)},t.handleCreateNewAnswer=function(e){e.path_params=t.props.pathParams,e.is_question=!1,t.props.submitNewComment(e)},t.handleDeleteQuestion=function(e){e.preventDefault();var n=t.props.forum.action;t.props.setCommentToArchive({comment_id:t.state.question_id_to_be_delete}),t.setState({is_show_delete_question_modal:!1},(function(){t.props.history.push("/m/".concat(n.track_id,"/").concat(n.chapter_id,"/").concat(n.chapter_module_id))}))},t.handleDeleteAnswer=function(e){e.preventDefault(),t.props.setCommentToArchive({comment_id:t.state.answer_id_to_be_delete}),t.setState({is_show_delete_answer_modal:!1})},t.toggleEndorseAnswer=function(e,n){var a=t.props.forum.forum_assignment_answers,s=t.state.user_details,i=[],o=!1;a.map((function(e){e.comment_id===n?(e.is_answer_endorsed=!e.is_answer_endorsed,e.is_show_full_description=!0,e.is_answer_endorsed?(e.endorsed_by={user_id:s.id,name:s.first_name+" "+s.last_name.charAt(0)+"."},i.push(e.comment_id)):o=!0):e.is_answer_endorsed&&i.push(e.comment_id)})),t.props.toggleVoteComment({parent_comment_id:e,comment_id:n,vote_type:_config_constants__WEBPACK_IMPORTED_MODULE_7__.jb.endorsement}),n=o?[]:i;var r=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__.t)(a,["is_answer_endorsed","cache_upvotes_count"],{comment_id:n},"date_posted");t.setState({forum_assignment_answers:r})},t.toggleShowAnswerEditor=function(e,n){var a=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(t.props.forum.forum_assignment_answers);a.map((function(t){t.comment_id===n&&(t.is_show_editor=e)})),t.setState({forum_assignment_answers:a})},t.showDeleteModal=function(e,n){e?t.setState({is_show_delete_question_modal:!0,question_id_to_be_delete:n}):t.setState({is_show_delete_answer_modal:!0,answer_id_to_be_delete:n})},t.showUpdateQuestionModal=function(e){t.setState({is_show_ask_forum_question_modal:!0,selected_question:e})},t.handleUpdateQuestion=function(e){t.props.updateCommentRecord({comment_id:t.state.selected_question.comment_id,title:e.question_title,description:e.question_description,post_type:e.active_post_type.label,user_details:t.state.user_details})},t.viewFullQuestion=function(e,n){var a=t.props.pathParams;null===e.target.closest(".edit_btn, .delete_btn")&&t.props.history.push("/m/"+a.track_id+"/"+a.chapter_id+"/"+a.module_id+"/forum_question/"+n),window.scrollTo({top:document.querySelector("#assignment_forum_container").offsetTop-30,behavior:"smooth"})},t.renderPostTypeIcon=function(e){return 0===e?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",fill:"#394A64"})):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.0035 10.3334H16.5032V8.49891C16.5032 6.01207 14.4872 3.99609 12.0004 3.99609C9.51354 3.99609 7.49757 6.01207 7.49757 8.49891V10.3334H6.99725C6.26041 10.3334 5.66309 10.9307 5.66309 11.6676V18.6719C5.66309 19.4088 6.26041 20.0061 6.99725 20.0061H17.0035C17.7403 20.0061 18.3377 19.4088 18.3377 18.6719V11.6676C18.3377 10.9307 17.7403 10.3334 17.0035 10.3334ZM10.6662 14.3359C10.6633 13.6877 11.1267 13.1312 11.7647 13.0167C12.4028 12.9022 13.0308 13.2629 13.2534 13.8716C13.476 14.4804 13.2288 15.1612 12.6675 15.4853V17.0042C12.6675 17.3726 12.3688 17.6713 12.0004 17.6713C11.632 17.6713 11.3333 17.3726 11.3333 17.0042V15.4853C10.9218 15.2486 10.6675 14.8106 10.6662 14.3359ZM12.0004 5.6638C10.4346 5.6638 9.16527 6.93312 9.16527 8.49891V9.99984C9.16527 10.1841 9.31461 10.3334 9.49882 10.3334H14.5019C14.6861 10.3334 14.8355 10.1841 14.8355 9.99984V8.49891C14.8355 6.93312 13.5662 5.6638 12.0004 5.6638Z",fill:"#5E6871"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"5",y:"3",width:"14",height:"18"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.0035 10.3334H16.5032V8.49891C16.5032 6.01207 14.4872 3.99609 12.0004 3.99609C9.51354 3.99609 7.49757 6.01207 7.49757 8.49891V10.3334H6.99725C6.26041 10.3334 5.66309 10.9307 5.66309 11.6676V18.6719C5.66309 19.4088 6.26041 20.0061 6.99725 20.0061H17.0035C17.7403 20.0061 18.3377 19.4088 18.3377 18.6719V11.6676C18.3377 10.9307 17.7403 10.3334 17.0035 10.3334ZM10.6662 14.3359C10.6633 13.6877 11.1267 13.1312 11.7647 13.0167C12.4028 12.9022 13.0308 13.2629 13.2534 13.8716C13.476 14.4804 13.2288 15.1612 12.6675 15.4853V17.0042C12.6675 17.3726 12.3688 17.6713 12.0004 17.6713C11.632 17.6713 11.3333 17.3726 11.3333 17.0042V15.4853C10.9218 15.2486 10.6675 14.8106 10.6662 14.3359ZM12.0004 5.6638C10.4346 5.6638 9.16527 6.93312 9.16527 8.49891V9.99984C9.16527 10.1841 9.31461 10.3334 9.49882 10.3334H14.5019C14.6861 10.3334 14.8355 10.1841 14.8355 9.99984V8.49891C14.8355 6.93312 13.5662 5.6638 12.0004 5.6638Z",fill:"white"})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("g",{mask:"url(#mask0)"}))},t.determineAuthorType=function(e){return _config_constants__WEBPACK_IMPORTED_MODULE_7__.b.includes(e)?"instructor":"student"},t.state={is_show_ask_forum_question_modal:!1,is_show_delete_question_modal:!1,is_show_delete_answer_modal:!1,answer_id_to_be_delete:null,question_id_to_be_delete:null,default_showed_questions_count:5,selected_question:void 0,user_details:void 0,forum_assignment_questions:[],unused_attachments:[]};var n=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__.g)();return!0===n.status&&(t.state.user_details=n.user_details.general),t}return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(AssignmentForum,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchAssignmentForumData({track_id:this.props.pathParams.track_id,chapter_id:this.props.pathParams.chapter_id,chapter_module_id:this.props.pathParams.module_id});var url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step"));2===step&&"/m/1/4635/34300"===window.location.pathname&&this.setState({is_show_ask_forum_question_modal:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.is_show_ask_forum_question_modal,a=t.is_show_delete_question_modal,s=t.is_show_delete_answer_modal,i=t.default_showed_questions_count,o=t.user_details,r=t.selected_question,c=this.props,_=c.pathParams,l=c.forum,u=c.notification_count,d=c.raw_notifications,p=c.markNotificationAsRead,m=c.user_forum_summaries;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"assignment_forum_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"forum_head_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",null,"Assignment Forum ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,"This feature is only visible to and tested by beta student groups. More guidelines coming in Spring 2022.")," "),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{href:"/dashboard?startForumTour=true"},"Watch Forum Demo"),0!==l.forum_assignment_questions.length&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"forum_menu_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{className:"".concat(!1===document.URL.split("/").includes("forum_question")?"not_visible":""),onClick:function(){return e.props.history.push("/m/"+_.track_id+"/"+_.chapter_id+"/"+_.module_id)},id:"back_to_questions_list_btn",type:"button"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-left"]})," Back to Questions List"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{id:"ask_question_btn",type:"button",onClick:function(){return e.setState({is_show_ask_forum_question_modal:!0,selected_question:void 0})}},"Ask Question"))),0===l.forum_assignment_questions.length?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"no_question_available_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_21___default.a,alt:"No one has asked any questions!"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,"No one has asked any questions!"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(){return e.setState({is_show_ask_forum_question_modal:!0,selected_question:void 0})}},"Be The First To Ask A Question")):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,document.URL.split("/").includes("forum_question")?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_assignment_forum_question_component__WEBPACK_IMPORTED_MODULE_18__.a,{notification_count:u,raw_notifications:d,markNotificationAsRead:p,pathParams:_,votePost:this.votePost,user_details:o,onShowDeleteModal:this.showDeleteModal,onHandleCreateNewAnswer:this.handleCreateNewAnswer,onToggleEndorseAnswer:this.toggleEndorseAnswer,onToggleShowAnswerEditor:this.toggleShowAnswerEditor,onShowUpdateQuestionModal:this.showUpdateQuestionModal,onRenderPostTypeIcon:this.renderPostTypeIcon,uploadImageToS3:this.props.uploadImageToS3,is_uploading:l.is_uploading,uploaded_attachments:l.uploaded_attachments,deleteAttachedFiles:this.props.deleteAttachedFiles,deleted_attachments:l.deleted_attachments,unable_to_delete:l.unable_to_delete,determine_author_type:this.determineAuthorType,fetchUserForumSummary:this.props.fetchUserForumSummary,resetUserForumSummaries:this.props.resetUserForumSummaries,user_forum_summaries:m}):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"questions_list_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,l.forum_assignment_questions.length)," question",l.forum_assignment_questions.length>1?"s ranked by top votes.":""),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ul",{id:"questions_list"},l.forum_assignment_questions.slice(0,i).map((function(t){var n=t.author_details.user_id===o.id;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",{key:t.comment_id},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"voting_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"forum_tooltip"},n?"You can't up vote your question":"This question is useful")},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(){return!n&&e.votePost(t.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_7__.jb.up_vote)},className:"up_vote_btn ".concat(t.vote_state!==_config_constants__WEBPACK_IMPORTED_MODULE_7__.U||n?"":"selected","\n                                                                ")},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-up"]}))),_config_constants__WEBPACK_IMPORTED_MODULE_7__.y?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,!_config_constants__WEBPACK_IMPORTED_MODULE_7__.z&&t.cache_downvotes_count>t.cache_upvotes_count?_config_constants__WEBPACK_IMPORTED_MODULE_7__.nb:t.cache_upvotes_count-t.cache_downvotes_count):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,t.cache_upvotes_count),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"forum_tooltip"},n?"You can't down vote your question":"This question is not useful")},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(){return!n&&e.votePost(t.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_7__.jb.down_vote)},className:"\n                                                                    down_vote_btn \n                                                                    ".concat(t.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_7__.v?"selected":"","\n                                                                    ").concat(0===t.cache_downvotes_count&&!t.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_7__.v?"disabled":"","\n                                                                ")},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]})))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"post_container",onClick:function(n){return e.viewFullQuestion(n,t.comment_id)}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h5",null,t.title),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"post_description",dangerouslySetInnerHTML:{__html:t.description}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"menu_container"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",className:"answers_btn"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,t.total_replies," Answer",t.total_replies>1?"s":"")),t.total_endorsed_answers>0&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",className:"endorse_btn"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,t.total_endorsed_answers," Endorsed Answer",t.total_endorsed_answers>1?"s":"")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",{className:"".concat("anonymous"===t.post_type?"anonymous":e.determineAuthorType(t.author_details.type),"_type")},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("i",{className:"user_type_icon"}),"anonymous"!==t.post_type?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{trigger:["hover","hover"],overlay:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__.a,{person_details:t.author_details,determine_author_type:e.determineAuthorType,fetchUserForumSummary:e.props.fetchUserForumSummary,resetUserForumSummaries:e.props.resetUserForumSummaries,user_forum_summaries:m})},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,t.author_details.first_name," ",t.author_details.last_name[0],".")):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,"Anonymous User"),"asked ",Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__.f)(t.date_posted),void 0!==t.is_edited&&t.is_edited?" (Edited)":null),t.author_details.user_id===o.id&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",className:"edit_btn",onClick:function(){return e.showUpdateQuestionModal(t)}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,"Edit Question")),(t.author_details.user_id===o.id||_config_constants__WEBPACK_IMPORTED_MODULE_7__.b.indexOf(o.user_level_id)>-1)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return e.showDeleteModal(!0,t.comment_id)}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",null,"Delete Question")))))}))),l.forum_assignment_questions.length-i>0&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{type:"button",onClick:function(){return e.showMoreQuestions()}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]}),"View ",l.forum_assignment_questions.length-i<5?l.forum_assignment_questions.length-i:5," More Questions"))),n&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_modals_ask_forum_question_modal__WEBPACK_IMPORTED_MODULE_16__.a,{show:n,selected_question:r,onHandleCreateNewQuestion:this.handleCreateNewQuestion,onHandleUpdateQuestion:this.handleUpdateQuestion,user_details:o,onRenderPostTypeIcon:this.renderPostTypeIcon,uploadImageToS3:this.props.uploadImageToS3,is_uploading:l.is_uploading,uploaded_attachments:l.uploaded_attachments,deleteAttachedFiles:this.props.deleteAttachedFiles,deleted_attachments:l.deleted_attachments,unable_to_delete:l.unable_to_delete,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__.v)(e,"is_show_ask_forum_question_modal",!1)}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_modals_delete_forum_question_modal__WEBPACK_IMPORTED_MODULE_17__.a,{show:a,onHandleDeleteQuestion:this.handleDeleteQuestion,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__.v)(e,"is_show_delete_question_modal",!1)}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_modals_delete_forum_answer_modal__WEBPACK_IMPORTED_MODULE_15__.a,{show:s,onHandleDeleteAnswer:this.handleDeleteAnswer,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__.v)(e,"is_show_delete_answer_modal",!1)}}))}}]),AssignmentForum}(react__WEBPACK_IMPORTED_MODULE_5__.Component),fetchUserForumSummary=_actions_user_forum_summaries_actions__WEBPACK_IMPORTED_MODULE_14__.a.fetchUserForumSummary,resetUserForumSummaries=_actions_user_forum_summaries_actions__WEBPACK_IMPORTED_MODULE_14__.a.resetUserForumSummaries,submitNewComment=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__.a.submitNewComment,fetchAssignmentForumData=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__.a.fetchAssignmentForumData,toggleVoteComment=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__.a.toggleVoteComment,setCommentToArchive=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__.a.setCommentToArchive,updateCommentRecord=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__.a.updateCommentRecord,uploadImageToS3=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__.a.uploadImageToS3,deleteAttachedFiles=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_13__.a.deleteAttachedFiles,_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_6__.p)(["forum","user_forum_summaries"],{submitNewComment:submitNewComment,fetchAssignmentForumData:fetchAssignmentForumData,toggleVoteComment:toggleVoteComment,setCommentToArchive:setCommentToArchive,updateCommentRecord:updateCommentRecord,uploadImageToS3:uploadImageToS3,deleteAttachedFiles:deleteAttachedFiles,fetchUserForumSummary:fetchUserForumSummary,resetUserForumSummaries:resetUserForumSummaries}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps;__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_8__.b)(mapStateToProps,mapDispatchToProps)(AssignmentForum)},353:function(e,t,n){"use strict";var a=n(3),s=n(7),i=n(6),o=n(5),r=n(0),c=n.n(r),_=n(9),l=(n(306),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(_.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"delete_forum_modal"},c.a.createElement(_.a.Header,null,c.a.createElement(_.a.Title,null,"You are about to delete this answer")),c.a.createElement(_.a.Body,null,c.a.createElement("p",null,"This answers will be permanently removed. Users won\u2019t be able to see them again after the deletion."),c.a.createElement("p",null,"Are you sure you want to delete this answer?")),c.a.createElement(_.a.Footer,null,c.a.createElement("form",{onSubmit:function(t){return e.props.onHandleDeleteAnswer(t)}},c.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),c.a.createElement("button",{type:"submit"},"Yes, Delete it"))))}}]),n}(r.Component));t.a=l},354:function(e,t,n){"use strict";var a=n(34),s=n.n(a),i=n(57),o=n(19),r=n(3),c=n(7),_=n(6),l=n(5),u=n(0),d=n.n(u),p=(n(12),n(9)),m=n(31),h=n(2),f=n(157),E=(n(1040),n(218),n(1)),g=(n(150),function(e){Object(_.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.selected_question;if(void 0!==e){var t=Object(o.a)(a.state.post_type);t.map((function(t){t.is_active=t.label===e.post_type})),a.setState({question_title:e.title,question_description:e.description,old_question_description:e.description,post_type:t})}},a.componentWillUnmount=Object(i.a)(s.a.mark((function e(){var t,n,i,o,r,c,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.uploaded_attachments,i=t.deleteAttachedFiles,o=a.state,r=o.old_question_description,c=o.final_comment_description,e.next=4,Object(h.e)(r,n,c);case 4:(_=e.sent).length>0&&i({file_url:_});case 6:case"end":return e.stop()}}),e)}))),a.componentDidUpdate=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,i,r,c,_,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,i=n.is_uploading,r=n.user_details,c=a.state,_=c.to_upload_attachment,l=c.uploaded_base64_images,!_||!1!==i){e.next=8;break}return e.next=5,Object(h.c)(_);case 5:u=e.sent,a.props.uploadImageToS3({file:u,user_id:r.id}),a.setState({to_upload_attachment:null,uploaded_base64_images:[].concat(Object(o.a)(l),[_])});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.resetModalOnHide=function(){a.props.toggleShowModal(!1),a.setState({question_title:"",question_description:"",uploaded_base64_images:[],uploaded_attachments:[]})},a.handleChangePostType=function(e){var t=Object(o.a)(a.state.post_type);t.map((function(t){t.is_active=t.id===e})),a.setState({post_type:t})},a.handleSubmitForm=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var i,o,r,c,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(h.n)([n.question_description,n.question_title]);case 3:if(e.sent){e.next=14;break}return i=a.props.uploaded_attachments,o=a.state.uploaded_base64_images,e.next=9,Object(h.q)({uploaded_attachments:i,uploaded_base64_images:o},n.question_description,n.question_title);case 9:r=e.sent,c=r.comment_description,_=r.total_character_length,n.question_description=c,_<=E.F.STRING.text?(void 0!==a.props.selected_question?a.props.onHandleUpdateQuestion(n):a.props.onHandleCreateNewQuestion(n),a.setState({uploaded_base64_images:[],is_max_char_length:!1,final_comment_description:c}),a.props.toggleShowModal(!1)):a.setState({is_max_char_length:!0});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onChangeListener=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,i,o,r,c,_,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,i=n.uploaded_base64_images,o=n.question_description,t===o){e.next=11;break}return e.next=4,Object(h.r)({html_string:t,uploaded_base64_images:i});case 4:r=e.sent,c=r.new_html_string,_=r.to_upload_attachment,l=r.base64_images,u=r.is_file_too_large,d=r.is_not_image,a.setState({question_description:c,to_upload_attachment:_,uploaded_base64_images:l,is_file_too_large:u,is_not_image:d});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={question_title:"",question_description:"",post_type:[{id:0,label:"public",is_active:!0},{id:1,label:"anonymous",is_active:!1}],is_uploading:!1,to_upload_attachment:null,uploaded_base64_images:[],is_file_too_large:!1,is_max_char_length:!1,old_question_description:null,final_comment_description:""},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.post_type,a=t.question_title,s=t.question_description,i=t.is_file_too_large,o=t.is_max_char_length,r=this.props,c=r.user_details,_=r.selected_question,l=r.is_uploading,u=n.filter((function(e){return e.is_active}))[0],E=void 0!==_,g=Object(h.n)([s,a])||l;return d.a.createElement(p.a,{show:this.props.show,onHide:function(){return e.resetModalOnHide()},centered:!0,id:"ask_forum_question_modal"},d.a.createElement(p.a.Header,null,d.a.createElement(p.a.Title,null,E?"Update":"Ask"," Question"),d.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},d.a.createElement("span",{class:"close_icon"}))),d.a.createElement(p.a.Body,null,d.a.createElement("div",{id:"best_practices_container"},d.a.createElement("h5",null,"Best Practices to ask a good question"),d.a.createElement("ul",null,d.a.createElement("li",null,"Share a code snippet of the piece of code where you're experiencing the error.",d.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/code_snippet_img.png",alt:"Share a Code Snippet"})),d.a.createElement("li",null,"What is the expected behavior?"),d.a.createElement("li",null,"What is the existing behavior?"),d.a.createElement("li",null,"What steps have you taken to solve?"))),d.a.createElement("form",{action:"",onSubmit:function(t){return e.handleSubmitForm(t,{question_title:a,question_description:s,active_post_type:u})}},d.a.createElement("div",{className:"form_head_container"},d.a.createElement("p",null,d.a.createElement("img",{src:(null===c||void 0===c?void 0:c.image_url)?c.image_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:c.first_name+" "+c.last_name.charAt(0)+"."}),c.first_name+" "+c.last_name.charAt(0)+"."," asked"),d.a.createElement(m.a,{className:"forum_post_type_dropdown"},d.a.createElement(m.a.Toggle,{variant:"default"},this.props.onRenderPostTypeIcon(u.id),u.label,d.a.createElement("i",{className:"arrow_down"})),d.a.createElement(m.a.Menu,null,n.map((function(t){return d.a.createElement(m.a.Item,{key:t.id,as:"button",type:"button",className:"".concat(t.is_active?"active":""),onClick:function(){return e.handleChangePostType(t.id)}},t.label)}))))),d.a.createElement("input",{type:"text",value:a,onChange:function(t){return e.setState({question_title:t.target.value})},placeholder:"Type your question here."}),d.a.createElement(f.a,{placeholder:"Include context, code snippet, picture, or link.",value:s,updateDescription:function(t){return e.onChangeListener(t)}}),d.a.createElement("div",{className:"warning_msg"},o&&d.a.createElement("p",null,"Maximum characters reached"),i&&d.a.createElement("p",null,"File is > 20 MB")),d.a.createElement("div",{className:"button_container"},d.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),d.a.createElement("button",{type:"submit",className:"".concat(g?"disabled":"")},E?"Update":"Ask"," Question")))))}}]),n}(u.Component));t.a=g},355:function(e,t,n){"use strict";var a=n(3),s=n(7),i=n(6),o=n(5),r=n(0),c=n.n(r),_=n(9),l=(n(306),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(_.a,{show:this.props.show,onHide:function(){return e.props.toggleShowModal(!1)},centered:!0,className:"delete_forum_modal"},c.a.createElement(_.a.Header,null,c.a.createElement(_.a.Title,null,"You are about to delete this question")),c.a.createElement(_.a.Body,null,c.a.createElement("p",null,"The quesion and all of its answers will be permanently removed. Users won\u2019t be able to see them again after the deletion."),c.a.createElement("p",null,"Are you sure you want to delete the question?")),c.a.createElement(_.a.Footer,null,c.a.createElement("form",{onSubmit:function(t){return e.props.onHandleDeleteQuestion(t)}},c.a.createElement("button",{type:"button",onClick:function(){return e.props.toggleShowModal(!1)}},"Cancel"),c.a.createElement("button",{type:"submit"},"Yes, Delete it"))))}}]),n}(r.Component));t.a=l},356:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_config_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12),react_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(69),react_bootstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91),react_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(31),moment__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(35),moment__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_13__),interweave__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(250),react_redux__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(16),_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2),_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(68),_assignment_quill_editor_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(157),_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(109),_modals_forum_image_modal__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(357),_assignment_forum_question_component_scss__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1042),_assignment_forum_question_component_scss__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_assignment_forum_question_component_scss__WEBPACK_IMPORTED_MODULE_21__),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(202),_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22__),AssignmentForumQuestion=function(_Component){Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(AssignmentForumQuestion,_Component);var _super=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_6__.a)(AssignmentForumQuestion);function AssignmentForumQuestion(e){var t;Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,AssignmentForumQuestion),(t=_super.call(this,e)).componentDidMount=function(){var e=t.props,n=e.pathParams,a=e.forum,s=t.getActiveQuestionId();t.autoMarkAsRead(),a.new_question_id||t.props.fetchAnswerComments({question_id:s,chapter_module_id:n.module_id}),window.scrollTo({top:document.querySelector("#assignment_forum_container").offsetTop-30,behavior:"smooth"})},t.componentWillUnmount=function(){t.props.resetForumAnswerComments()},t.componentDidUpdate=function(){var e=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(n,a){var s,i,o,r,c,_,l,u,d,p;return _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.props,i=s.is_uploading,o=s.user_details,r=s.deleteAttachedFiles,c=t.state,_=c.to_upload_attachment,l=c.uploaded_base64_images,u=c.unused_attachments,d=t.getActiveQuestionId(),void 0!==a.question&&a.question.comment_id!==d&&t.setState({question:t.props.forum.forum_assignment_questions.filter((function(e){return e.comment_id===d}))[0]}),!_||!1!==i){e.next=10;break}return e.next=7,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.c)(_);case 7:p=e.sent,t.props.uploadImageToS3({file:p,user_id:o.id}),t.setState({to_upload_attachment:null,uploaded_base64_images:[].concat(Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(l),[_])});case 10:(null===u||void 0===u?void 0:u.length)>0&&(r({file_url:u}),t.setState({unused_attachments:[]}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.getActiveQuestionId=function(){var e=document.URL.split("/");return Number(e[e.length-1].split("?")[0])},t.showMoreAnswers=function(){t.setState({default_showed_answers_count:t.state.default_showed_answers_count+5})},t.copyQuestionLinkToClipboard=function(){t.setState({is_show_share_question_tooltip:!0},(function(){var e=document.createElement("textarea");e.value=window.location.href,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),setTimeout((function(){t.setState({is_show_share_question_tooltip:!1})}),1e3)}))},t.handleChangePostType=function(e){var n=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(t.state.post_type);n.map((function(t){t.is_active=t.id===e})),t.setState({post_type:n})},t.handleCreateNewAnswer=function(){var e=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(n,a){var s,i,o,r,c,_,l,u;return _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s=t.props,i=s.uploaded_attachments,o=s.deleteAttachedFiles,r=t.state.uploaded_base64_images,e.next=5,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.q)({uploaded_attachments:i,uploaded_base64_images:r},a.answer_description);case 5:c=e.sent,_=c.comment_description,l=c.total_character_length,u=c.unused_attachments,a.answer_description=_,l<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.F.STRING.text?(u.length>0&&o({file_url:u}),t.props.onHandleCreateNewAnswer(a),t.setState({uploaded_base64_images:[],is_max_char_length:!1}),t.hideAnswerForm()):t.setState({is_max_char_length:!0});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.hideAnswerForm=function(){t.setState({is_show_answer_form:!1,answer_description:""})},t.viewMyAnswer=function(){var e=t.props.forum.forum_assignment_answers.filter((function(e){return e.author_details.user_id===t.props.user_details.id}))[0].comment_id;t.setState({default_showed_answers_count:t.props.forum.forum_assignment_answers.length},(function(){window.scrollTo({top:document.querySelector("#answers_list li[data-answer-id='"+e+"']").offsetTop-30,behavior:"smooth"}),t.showFullAnswerDescription(e)}))},t.showAnswerEditor=function(e,n){var a,s=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(t.state.post_type),i=[];s.map((function(e){e.is_active=e.label===n.post_type})),(null===(a=t.props.forum.uploaded_attachments)||void 0===a?void 0:a.length)>0&&(i=t.props.forum.uploaded_attachments),t.setState({answer_description:n.description,post_type:s,original_answer_description:n.description,unused_attachments:i}),t.props.onToggleShowAnswerEditor(e,n.comment_id)},t.submitUpdateAnswer=function(){var e=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(n,a,s){var i,o,r,c,_,l,u,d,p,m;return _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i=t.props,o=i.uploaded_attachments,r=i.deleteAttachedFiles,c=t.state,_=c.uploaded_base64_images,l=c.original_answer_description,e.next=5,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.q)({uploaded_attachments:o,uploaded_base64_images:_},s.answer_description);case 5:u=e.sent,d=u.comment_description,p=u.total_character_length,m=u.unused_attachments,s.answer_description=d,p<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.F.STRING.text?((l.match(t.comment_image_regex)||[]).map((function(e){var t=e.replace(/"/g,"");s.answer_description.includes(t)||m.push(t)})),m.length>0&&r({file_url:m}),t.props.updateCommentRecord({comment_id:a,description:s.answer_description,post_type:s.active_post_type.label,user_details:t.state.user_details})):t.setState({is_max_char_length:!0}),t.setState({uploaded_base64_images:[],unused_attachments:[]});case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),t.showFullAnswerDescription=function(e){var n=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(t.props.forum.forum_assignment_answers);n.map((function(t){t.comment_id===e&&(t.is_show_full_description=!0)})),t.setState({forum_assignment_answers:n})},t.onChangeListener=function(){var e=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(n){var a,s,i,o,r,c,_,l,u;return _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state,s=a.uploaded_base64_images,i=a.answer_description,n===i){e.next=11;break}return e.next=4,Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.r)({html_string:n,uploaded_base64_images:s});case 4:o=e.sent,r=o.new_html_string,c=o.to_upload_attachment,_=o.base64_images,l=o.is_file_too_large,u=o.is_not_image,t.setState({answer_description:r,to_upload_attachment:c,uploaded_base64_images:_,is_file_too_large:l,is_not_image:u,is_max_char_length:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.autoMarkAsRead=function(){var e=t.getActiveQuestionId(),n=t.props,a=n.notification_count,s=n.raw_notifications;a>0&&s.map((function(n){n.parent_comment_id===e&&n.notification_type_id===_config_constants__WEBPACK_IMPORTED_MODULE_8__.K.QUESTION&&n.is_read===_config_constants__WEBPACK_IMPORTED_MODULE_8__.v&&t.props.markNotificationAsRead({notification_id:[n.id]})}))},t.showQuillImage=function(e){"IMG"===e.target.tagName&&e.target.src&&t.setState({is_show_forum_image_modal:!0,forum_image_src:e.target.src})},t.getCommentVisualLength=function(e){var n=0,a=0;if(e){var s,i,o,r=e;n+=(null===(s=r.match(/&.*?;/gm))||void 0===s?void 0:s.length)||0,n+=(null===(i=r.match(/<li>|<br>|<p>|<pre>/gm))||void 0===i?void 0:i.length)||0,a=(null===(o=r.replace(/<.*?>|&.*?;/gm,""))||void 0===o?void 0:o.length)+n}return{actual_length:null===e||void 0===e?void 0:e.length,visual_length:a,collapsed_html_string:null===e||void 0===e?void 0:e.substr(0,t.maximum_answer_characters)}},t.state={is_show_share_question_tooltip:!1,is_show_answer_form:!1,answer_description:"",default_showed_answers_count:5,post_type:[{id:0,label:"public",is_active:!0},{id:1,label:"anonymous",is_active:!1}],question:void 0,forum_assignment_answers:[],is_uploading:!1,to_upload_attachment:null,uploaded_base64_images:[],is_file_too_large:!1,is_show_forum_image_modal:!1,forum_image_src:null,original_answer_description:"",is_max_char_length:!1,unused_attachments:[]},t.comment_image_regex=/"https?:\/\/cd-student-files.+?"/g,t.maximum_answer_characters=420;var n=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.g)();return!0===n.status&&(t.state.user_details=n.user_details.general),t}return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(AssignmentForumQuestion,[{key:"render",value:function render(){var _this2=this,_this$props6=this.props,votePost=_this$props6.votePost,forum=_this$props6.forum,is_uploading=_this$props6.is_uploading,determine_author_type=_this$props6.determine_author_type,uploaded_attachments=_this$props6.uploaded_attachments,_this$state4=this.state,default_showed_answers_count=_this$state4.default_showed_answers_count,post_type=_this$state4.post_type,is_show_share_question_tooltip=_this$state4.is_show_share_question_tooltip,is_show_answer_form=_this$state4.is_show_answer_form,answer_description=_this$state4.answer_description,is_max_char_length=_this$state4.is_max_char_length,is_file_too_large=_this$state4.is_file_too_large,user_details=_this$state4.user_details,active_post_type=post_type.filter((function(e){return e.is_active}))[0],active_question_id=this.getActiveQuestionId(),question=forum.forum_assignment_questions.filter((function(e){return e.comment_id===active_question_id}))[0],answers=forum.forum_assignment_answers,is_admin=_config_constants__WEBPACK_IMPORTED_MODULE_8__.b.includes(user_details.user_level_id),is_not_allowed_to_post=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.n)([answer_description])||is_max_char_length||is_uploading,current_answer="";if(question){var is_question_owner=question.author_details.user_id===user_details.id,url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step"));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{id:"assignment_forum_question_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"user_details"},"anonymous"!==question.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,Object.assign({},step?{show:5===step}:null,{trigger:["hover","hover"],placement:5===step?"right":"auto",overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__.a,{person_details:question.author_details,determine_author_type:determine_author_type,fetchUserForumSummary:this.props.fetchUserForumSummary,resetUserForumSummaries:this.props.resetUserForumSummaries,user_forum_summaries:this.props.user_forum_summaries})}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"normal_details"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:question.author_details.profile_img_url?question.author_details.profile_img_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"".concat(question.author_details.first_name," ").concat(question.author_details.last_name[0])}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type ".concat(determine_author_type(question.author_details.type))},_config_constants__WEBPACK_IMPORTED_MODULE_8__.b.includes(question.author_details.type)?"instructor":"student"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_name sss"},"".concat(question.author_details.first_name," ").concat(question.author_details.last_name[0]),"."))),"anonymous"===question.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"anonymous"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Anonymous User"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type anonymous"},"Anonymous User")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"date_posted"},"asked ",Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.f)(question.date_posted),void 0!==question.is_edited&&question.is_edited?" (Edited)":null)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"voting_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},is_question_owner?"You can't up vote your question":"This question is useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return!is_question_owner&&votePost(question.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.jb.up_vote)},className:"up_vote_btn ".concat(question.vote_state!=_config_constants__WEBPACK_IMPORTED_MODULE_8__.U||is_question_owner?"":"selected")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-up"]}))),_config_constants__WEBPACK_IMPORTED_MODULE_8__.y?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,!_config_constants__WEBPACK_IMPORTED_MODULE_8__.z&&question.cache_downvotes_count>question.cache_upvotes_count?_config_constants__WEBPACK_IMPORTED_MODULE_8__.nb:question.cache_upvotes_count-question.cache_downvotes_count):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,question.cache_upvotes_count),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},is_question_owner?"You can't down vote your question":"This question is not useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return!is_question_owner&&votePost(question.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.jb.down_vote)},className:"\n                                        down_vote_btn \n                                        ".concat(question.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.v?"selected":"","\n                                        ").concat(question.cache_upvotes_count-question.cache_downvotes_count<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.v&&!question.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.v?"disabled":"","\n                                    ")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]})))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h5",null,question.title),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_description",dangerouslySetInnerHTML:{__html:question.description},onClick:function(e){return _this2.showQuillImage(e)}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"menu_container"},question.author_details.user_id===user_details.id&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"edit_btn",onClick:function(){return _this2.props.onShowUpdateQuestionModal(question)}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Edit Question")),answers&&answers.filter((function(e){return e.author_details.user_id===user_details.id})).length>0?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"view_answer_btn",onClick:function(){return _this2.viewMyAnswer()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"View My Answer")):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"answer_btn",onClick:function(){return _this2.setState({is_show_answer_form:!is_show_answer_form,answer_description:""})}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Answer")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{placement:"right",show:is_show_share_question_tooltip,overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{id:"share_question_tooltip"},"Question link copied to clipboard")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"share_btn",onClick:function(){return _this2.copyQuestionLinkToClipboard()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Share"))),(question.author_details.user_id===user_details.id||_config_constants__WEBPACK_IMPORTED_MODULE_8__.b.indexOf(user_details.user_level_id)>-1)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"delete_btn",onClick:function(){return _this2.props.onShowDeleteModal(!0,question.comment_id)}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Delete Question"))),is_show_answer_form&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",{onSubmit:function(e){return _this2.handleCreateNewAnswer(e,{question:question,answer_description:answer_description,active_post_type:active_post_type})}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"form_head_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:(null===user_details||void 0===user_details?void 0:user_details.image_url)?user_details.image_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:user_details.first_name+" "+user_details.last_name.charAt(0)+"."})," ",user_details.first_name+" "+user_details.last_name.charAt(0)+"."," answered"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"forum_post_type_dropdown"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Toggle,{variant:"default"},this.props.onRenderPostTypeIcon(active_post_type.id),active_post_type.label,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"arrow_down"})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Menu,null,post_type.map((function(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Item,{key:e.id,as:"button",type:"button",className:"".concat(e.is_active?"active":""),onClick:function(){return _this2.handleChangePostType(e.id)}},e.label)}))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_assignment_quill_editor_component__WEBPACK_IMPORTED_MODULE_18__.a,{placeholder:"Write your answer here",value:answer_description,updateDescription:function(e){return _this2.onChangeListener(e)}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"warning_msg"},is_max_char_length&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Maximum characters reached"),is_file_too_large&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"File is > 20 MB")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"button_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.setState({is_show_answer_form:!1,answer_description:"",unused_attachments:uploaded_attachments,uploaded_base64_images:[]})}},"Cancel"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"submit",className:"".concat(is_not_allowed_to_post?"disabled":"")},"Post"))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{id:"forum_question_answers_container"},0===answers.length?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"no_question_available_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:_assets_images_courses_no_question_placeholder_png__WEBPACK_IMPORTED_MODULE_22___default.a,alt:"There is no answer to this question yet!"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"There is no answer to this question yet!"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.setState({is_show_answer_form:!0,answer_description:""})}},"Be The First To Answer")):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,answers.length)," ","Answer".concat(answers.length>1?"s ranked by top votes":"")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul",{id:"answers_list"},answers.slice(0,default_showed_answers_count).map((function(e){var t;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li",{key:e.comment_id,"data-answer-id":e.comment_id},e.is_show_editor?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",{onSubmit:function(t){return _this2.submitUpdateAnswer(t,e.comment_id,{answer_description:answer_description,active_post_type:active_post_type})}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"form_head_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:(null===(t=e.author_details)||void 0===t?void 0:t.profile_img_url)?e.author_details.profile_img_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:e.author_details.name}),e.author_details.name," answered"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"forum_post_type_dropdown"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Toggle,{variant:"default"},_this2.props.onRenderPostTypeIcon(active_post_type.id),active_post_type.label,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"arrow_down"})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Menu,null,post_type.map((function(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_12__.a.Item,{key:e.id,as:"button",type:"button",className:"".concat(e.is_active?"active":""),onClick:function(){return _this2.handleChangePostType(e.id)}},e.label)}))))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_assignment_quill_editor_component__WEBPACK_IMPORTED_MODULE_18__.a,{placeholder:"Write your answer here",value:answer_description,updateDescription:function(e){return _this2.onChangeListener(e)}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"warning_msg"},is_max_char_length&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Maximum characters reached"),is_file_too_large&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"File is > 20 MB")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"button_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.showAnswerEditor(!1,e)}},"Cancel"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"submit",className:"".concat(is_not_allowed_to_post?"disabled":"")},"Save"))):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"user_details"},"anonymous"!==e.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{trigger:["hover","hover"],placement:"auto",overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_global_components_profile_popover_component__WEBPACK_IMPORTED_MODULE_19__.a,{person_details:e.author_details,determine_author_type:determine_author_type,fetchUserForumSummary:_this2.props.fetchUserForumSummary,resetUserForumSummaries:_this2.props.resetUserForumSummaries,user_forum_summaries:_this2.props.user_forum_summaries})},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"normal_details"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:e.author_details.profile_img_url?e.author_details.profile_img_url:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:e.author_details.name}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type ".concat(determine_author_type(e.author_details.type))},determine_author_type(e.author_details.type)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_name "},e.author_details.first_name," ",e.author_details.last_name[0],"."))),"anonymous"===e.post_type&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"anonymous"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:"https://assets.codingdojo.com/learn_platform/global/profile_placeholder.png",alt:"Anonymous"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"user_type anonymous"},"Anonymous User")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"date_posted"},"answered ",Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.f)(e.date_posted)),e.is_edited?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"is_edited_label"},"(Edited)"):null),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"voting_container"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"}," ",e.author_details.user_id===user_details.id?"You can't up vote your answer":"This answer is useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return e.author_details.user_id!==user_details.id&&votePost(e.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.jb.up_vote)},className:"up_vote_btn ".concat(e.author_details.user_id!==user_details.id&&e.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.U?"selected":"")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-up"]}))),_config_constants__WEBPACK_IMPORTED_MODULE_8__.y?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,!_config_constants__WEBPACK_IMPORTED_MODULE_8__.z&&e.cache_downvotes_count>e.cache_upvotes_count?_config_constants__WEBPACK_IMPORTED_MODULE_8__.nb:e.cache_upvotes_count-e.cache_downvotes_count):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,e.cache_upvotes_count),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},e.author_details.user_id===user_details.id?"You can't down vote your answer":"This answer is not useful")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return e.author_details.user_id!==user_details.id&&votePost(e.comment_id,_config_constants__WEBPACK_IMPORTED_MODULE_8__.jb.down_vote)},className:"\n                                                                        down_vote_btn \n                                                                        ".concat(e.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.v?"selected":"","\n                                                                        ").concat(question.cache_upvotes_count-question.cache_downvotes_count<=_config_constants__WEBPACK_IMPORTED_MODULE_8__.v&&!e.vote_state===_config_constants__WEBPACK_IMPORTED_MODULE_8__.v?"disabled":"","\n                                                                    ")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]})))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_container"},(current_answer=_this2.getCommentVisualLength(e.description),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"post_description",onClick:function(e){return _this2.showQuillImage(e)}},current_answer.visual_length<_this2.maximum_answer_characters||e.is_show_full_description?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",{className:"answer_description"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(interweave__WEBPACK_IMPORTED_MODULE_14__.a,{content:e.description})):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",{className:"answer_description"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(interweave__WEBPACK_IMPORTED_MODULE_14__.a,{content:current_answer.collapsed_html_string}),"...(",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{className:"show_full_answer_description_btn",onClick:function(){return _this2.showFullAnswerDescription(e.comment_id)},type:"button"},"More"),")"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"menu_container"},e.author_details.user_id===user_details.id&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"edit_btn",onClick:function(){return _this2.showAnswerEditor(!0,e)}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Edit")),(e.author_details.user_id===user_details.id||is_admin)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",className:"delete_btn ".concat(is_admin&&e.author_details.user_id!==user_details.id?"is_admin_btn":""),onClick:function(){return _this2.props.onShowDeleteModal(!1,e.comment_id)}},is_admin&&e.author_details.user_id!==user_details.id?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},"Delete this answer")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"})):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,"Delete")),is_admin||e.is_answer_endorsed?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",Object.assign({disabled:!is_admin,type:"button",className:"endorse_btn \n                                                                                ".concat(e.is_answer_endorsed?"answer_endorsed":""," \n                                                                                ").concat(is_admin?"is_admin_btn":"","\n                                                                                ").concat(question.author_details.user_id===user_details.id||e.author_details.user_id===user_details.id?"is_owner_btn":"","\n                                                                            ")},is_admin&&{onClick:function(){return _this2.props.onToggleEndorseAnswer(question.comment_id,e.comment_id)}}),is_admin?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a,{className:"forum_tooltip"},e.is_answer_endorsed?"Unendorse":"Endorse"," this answer")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"})):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"btn_icon"}),e.endorsed_by?e.endorsed_by.user_id===user_details.id?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"You endorsed this answer"):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Answer endorsed by ",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,e.endorsed_by.name)):null):null))))}))),answers.length-default_showed_answers_count>0&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{type:"button",onClick:function(){return _this2.showMoreAnswers()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__.a,{icon:["fas","chevron-down"]}),"View ",answers.length-default_showed_answers_count<5?answers.length-default_showed_answers_count:5," More Answers"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_modals_forum_image_modal__WEBPACK_IMPORTED_MODULE_20__.a,{show:this.state.is_show_forum_image_modal,forum_image_src:this.state.forum_image_src,toggleShowModal:function(){return Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.v)(_this2,"is_show_forum_image_modal",!1)}}))}return!1}}]),AssignmentForumQuestion}(react__WEBPACK_IMPORTED_MODULE_7__.Component),fetchAnswerComments=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__.a.fetchAnswerComments,updateCommentRecord=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__.a.updateCommentRecord,resetForumAnswerComments=_actions_forum_actions__WEBPACK_IMPORTED_MODULE_17__.a.resetForumAnswerComments,_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_16__.p)(["forum"],{fetchAnswerComments:fetchAnswerComments,updateCommentRecord:updateCommentRecord,resetForumAnswerComments:resetForumAnswerComments}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps;__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_15__.b)(mapStateToProps,mapDispatchToProps)(AssignmentForumQuestion)},357:function(e,t,n){"use strict";var a=n(3),s=n(7),i=n(6),o=n(5),r=n(0),c=n.n(r),_=n(9),l=(n(1041),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(_.a,{id:"forum_image_modal",show:this.props.show,centered:!0,onHide:function(){return e.props.toggleShowModal(!1)}},c.a.createElement(_.a.Header,null,c.a.createElement("button",{onClick:function(){return e.props.toggleShowModal(!1)}},c.a.createElement("span",{className:"close_icon"}))),c.a.createElement(_.a.Body,null,c.a.createElement("img",{src:this.props.forum_image_src,alt:"Forum Image"})))}}]),n}(r.Component));t.a=l},359:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16),intro_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(203),intro_js_react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(intro_js_react__WEBPACK_IMPORTED_MODULE_6__),_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),_actions_user_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(44),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(329),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_9__),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(330),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_10__),ProductTourComponent=function(_Component){Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(ProductTourComponent,_Component);var _super=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(ProductTourComponent);function ProductTourComponent(props){var _this;return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ProductTourComponent),_this=_super.call(this,props),_this.onStepsBeforeChange=function(e){var t=_this.props.history.location.pathname;return(6!==e&&4!==e||"/tracks"===t)&&((3!==e||"/dashboard"===t)&&((7!==e&&8!==e||"/m/1/4635/13614"===t)&&((9!==e||"/m/1/4635/20395"===t)&&void 0)))},_this.onStepsPreventChange=function(e){var t=_this.props.history.location;4===e&&"/dashboard"!==t.pathname?window.location.href="/dashboard?multipage=true":3!==e&&7!==e||"/tracks"===t.pathname?6!==e&&9!==e||"/m/1/4635/13614"===t.pathname?8===e&&"/m/1/4635/20395"!==t.pathname&&(window.location.href="/m/1/4635/20395?multipage=true"):window.location.href="/m/1/4635/13614?multipage=true":window.location.href="/tracks?multipage=true"},_this.onExit=function(){_this.setState({is_enable:!1}),_this.props.finish_platform_walkthrough()},_this.componentDidMount=function(){var pathname=_this.props.history.location.pathname,url_parameter=new URLSearchParams(window.location.search),is_multipage=eval(url_parameter.get("multipage")),get_user_details=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.g)();!1!==get_user_details.status||-1!==window.location.pathname.indexOf("/autologin")||["/login","/learn_autologin"].includes(window.location.pathname)?!0===get_user_details.status&&(!0===get_user_details.user_details.is_show_platform_demo?localStorage.setItem("is_platform_demo",!0):localStorage.removeItem("is_platform_demo"),setTimeout((function(){"/dashboard"===pathname&&is_multipage?_this.setState({is_enable:!0,initial_step:3}):"/tracks"===pathname&&is_multipage?setTimeout((function(){_this.setState({is_enable:!0,initial_step:4})}),2e3):"/m/1/4635/13614"===pathname&&is_multipage?_this.setState({is_enable:!0,initial_step:7}):"/dashboard"===pathname&&eval(url_parameter.get("startProductTour"))?_this.setState({is_enable:!0,initial_step:0}):"/m/1/4635/20395"===pathname&&is_multipage&&_this.setState({is_enable:!0,initial_step:9})}),1e3)):window.location.href="/login"},_this.state={is_enable:!1,initial_step:void 0,steps:[{element:".main_links_container",intro:"Use the tabs to navigate yourself between main sections",position:"left",tooltipClass:"myTooltipClass",highlightClass:"myHighlightClass"},{element:"#progress_container",intro:"Check your learning progress",position:"right"},{element:"#tracks_list > li:nth-child(1)",intro:"To start learning, select your stack or click continue to resume from your previous spot",position:"bottom"},{element:"#daily_news_btn",intro:"We\u2019ve moved \u201cDaily Video Tips\u201d to here",position:"left"},{element:"#tracks_list > li:nth-child(1) > ul > li:nth-child(1) > a",intro:"Click a course icon to start learning",position:"bottom"},{element:"#sub_navigation_container > ul",intro:"Use these tabs to navigate further",position:"bottom"},{element:"#sub_navigation_container > ul > li:nth-child(3)",intro:"We\u2019ve renamed the \u201cchecklist\u201d from the previous version as \u201cMy Progress\u201d here",position:"bottom"},{element:"#bookmark_module_btn",intro:"You can use the bookmark feature to save important content",position:"left"},{element:"#bookmarks_btn",intro:"    Reach your saved content later here",position:"left"},{element:"#show_reset_password_btn",intro:"If this is the first time you log into this platform,\n                    don\u2019t forget to reset your default password here. <br/><br/><br/>\n                    Enjoy the platform!",position:"left",tooltipClass:"last_step"}]},_this}return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ProductTourComponent,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,void 0!==this.state.initial_step&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(intro_js_react__WEBPACK_IMPORTED_MODULE_6__.Steps,{enabled:this.state.is_enable,steps:this.state.steps,initialStep:this.state.initial_step,onBeforeChange:this.onStepsBeforeChange,onPreventChange:this.onStepsPreventChange,onExit:this.onExit,options:{showBullets:!1,hidePrev:!1,prevLabel:"Previous",nextLabel:"Next",doneLabel:"Finish",hideNext:!0,exitOnOverlayClick:!1,disableInteraction:!0}}))}}]),ProductTourComponent}(react__WEBPACK_IMPORTED_MODULE_4__.Component),finish_platform_walkthrough=_actions_user_actions__WEBPACK_IMPORTED_MODULE_8__.a.finish_platform_walkthrough,_mapAnddispatchAction=Object(_helpers_helpers__WEBPACK_IMPORTED_MODULE_7__.p)("user",{finish_platform_walkthrough:finish_platform_walkthrough}),mapStateToProps=_mapAnddispatchAction.mapStateToProps,mapDispatchToProps=_mapAnddispatchAction.mapDispatchToProps;__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_5__.b)(mapStateToProps,mapDispatchToProps)(ProductTourComponent)},360:function(module,__webpack_exports__,__webpack_require__){"use strict";var _var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),intro_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(203),intro_js_react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(intro_js_react__WEBPACK_IMPORTED_MODULE_5__),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(329),intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(intro_js_introjs_css__WEBPACK_IMPORTED_MODULE_6__),_forum_tour_component_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1063),_forum_tour_component_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_forum_tour_component_scss__WEBPACK_IMPORTED_MODULE_7__),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(330),_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_product_tour_component_scss__WEBPACK_IMPORTED_MODULE_8__),ForumTourComponent=function(_Component){Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(ForumTourComponent,_Component);var _super=Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(ForumTourComponent);function ForumTourComponent(props){var _this;return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ForumTourComponent),_this=_super.call(this,props),_this.onStepsBeforeChange=function(next_step_index){var url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step")),prevent_transition_steps=[1,2,3,5,6];return _this.setState({next_step_index:next_step_index}),(!prevent_transition_steps.includes(next_step_index)||step===next_step_index)&&((4!==next_step_index||5!==step||step===next_step_index)&&void 0)},_this.onStepsPreventChange=function(e){var t=_this.props.history.location,n=_this.state.next_step_index,a=_this.renderForumQuestionID();0===e||1===n?window.location.href="/m/1/4635/34300?step=1":1!==e&&2!==n||"/m/1/4635/34300"!==t.pathname?2!==e&&3!==n||"/m/1/4635/34300"!==t.pathname?4===e&&"/m/1/4635/34300"===t.pathname?window.location.href="/m/1/4635/34300/forum_question/".concat(a,"?step=5"):5===e&&4===n&&t.pathname==="/m/1/4635/34300/forum_question/".concat(a)?window.location.href="/m/1/4635/34300?step=3":5===e&&t.pathname==="/m/1/4635/34300/forum_question/".concat(a)?window.location.href="/m/1/4635/34300/forum_question/".concat(a,"?step=6"):6===e&&5===n&&t.pathname==="/m/1/4635/34300/forum_question/".concat(a)&&(window.location.href="/m/1/4635/34300/forum_question/".concat(a,"?step=5")):window.location.href="/m/1/4635/34300?step=3":window.location.href="/m/1/4635/34300?step=2"},_this.onExit=function(){_this.setState({is_enable:!1}),window.location.href="/dashboard"},_this.componentDidMount=function(){var pathname=_this.props.history.location.pathname,url_parameter=new URLSearchParams(window.location.search),step=eval(url_parameter.get("step")),forum_question_id=_this.renderForumQuestionID();setTimeout((function(){if("/dashboard"===pathname&&eval(url_parameter.get("startForumTour")))_this.setState({is_enable:!0,initial_step:0});else if(("/m/1/4635/34300"===pathname||pathname==="/m/1/4635/34300/forum_question/".concat(forum_question_id))&&step){var additional_delay=1e3;setTimeout((function(){_this.setState({is_enable:!0,initial_step:step})}),additional_delay)}}),1e3)},_this.renderForumQuestionID=function(){return 34},_this.state={is_enable:!1,initial_step:void 0,next_step_index:void 0,steps:[{element:".main_links_container > .nav-link:nth-child(2)",intro:"Check out any assignment module. (1/8)",position:"left"},{element:"#forum_head_container",intro:"You can ask a question regarding the assignment. Your peers and instructors can help answer it. (2/8)",position:"bottom"},{element:"#ask_forum_question_modal .forum_post_type_dropdown",intro:"You can choose to ask your question with your name shown to public, or stay anonymous. (3/8)",position:"bottom"},{element:"#questions_list > li:nth-child(1) .voting_container",intro:"Use the arrows to upvote or downvote questions. (4/8)",position:"bottom"},{element:"#questions_list > li:nth-child(1)",intro:"Click the question to view answers posted. (5/8)",position:"bottom"},{element:".profile_popover",intro:"Hover your cursor over other users\u2019 thumbnails to view their profiles. (6/8)",position:"left"},{element:"#answers_list > li:nth-child(1) .answer_endorsed",intro:"Check out answers endorsed by instructors! (7/8)",position:"left"},{element:"#notification_btn",intro:"You\u2019ll receive notifications when there are interactions or changes to your posts. You\u2019ll also be notified when there are questions posted which you might be able to help answer. (8/8)",position:"left",tooltipClass:"last_step"}]},_this}return Object(_var_www_login2_codingdojo_com_src_web_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ForumTourComponent,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",null,void 0!==this.state.initial_step&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(intro_js_react__WEBPACK_IMPORTED_MODULE_5__.Steps,{enabled:this.state.is_enable,steps:this.state.steps,initialStep:this.state.initial_step,onBeforeChange:this.onStepsBeforeChange,onPreventChange:this.onStepsPreventChange,onExit:this.onExit,options:{showBullets:!1,hidePrev:!1,prevLabel:"Previous",nextLabel:"Next",doneLabel:"Finish",hideNext:!0,exitOnOverlayClick:!1,disableInteraction:!0,showStepNumbers:!1}}))}}]),ForumTourComponent}(react__WEBPACK_IMPORTED_MODULE_4__.Component);__webpack_exports__.a=ForumTourComponent},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF9SURBVHgB5ZRdToNAEMdnttWY9IUXqyY+4A16hPYE1hMoJ+AExiUeoPEE1BNYTyCeQG4gb40mJvtIGmGchYVSCpHGJ9NJNmR3Zn/573wAsHeGbY77xy83pWRaPxeIwe31sdcZKP13C2BgI8IbbxWvsBI+AiBFlEykcxb9CpT+xxQRnypHAV8u1SD2fP7YZhsRra6kcx5WGf0NOqJLWhHBA29HrNJlyLgaQ5SyT4QcOxN46PKR0wo0pqQznOeKl4tNV499p5kib/5513C3EVga5ylo8+k8EsRqJ2AJ9pd2LX/GBorz7knnpHyJ6AI0MK4wRDWXpYuYd8YOQK2M22FBRK9GpV762aYgR6MisNOTCyMQCoEis42aYroqzKwHCUOhXH8GaiRfCOTN8ILXpCli68mcK4urOl6fxFnfUd7oir924RfYv6RMa6IagSmlzwLFjKv6Umo6sOzvVezpSvPlLPnF9GiYnpzq+DX8HKrq1s2texG2+lBPzjCEf2U/GRGJyPUyXbwAAAAASUVORK5CYII="},375:function(e,t,n){e.exports=n(1114)},390:function(e,t,n){},391:function(e,t,n){},409:function(e,t,n){},410:function(e,t,n){},411:function(e,t,n){},412:function(e,t,n){},413:function(e,t,n){},414:function(e,t,n){},415:function(e,t,n){},418:function(e,t,n){},420:function(e,t,n){},421:function(e,t,n){},422:function(e,t,n){},423:function(e,t,n){},424:function(e,t,n){},425:function(e,t,n){},426:function(e,t,n){},427:function(e,t,n){},428:function(e,t,n){},429:function(e,t,n){},430:function(e,t,n){},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),s=n(1),i=n(50),o=n(2),r=new function e(){Object(a.a)(this,e),this.login=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"user";return function(_){_(Object(o.i)({type:s.cb.LOGIN_REQUEST},{username:e})),localStorage.removeItem("is_platform_demo"),i.a.login(e,t,n,a,r,c).then((function(e){if(!0===e.auth){var t=Object(o.m)();if(null==e.result.general.is_dark_mode)i.a.updateDarkmodeSettings(t).then((function(n){n.status&&(localStorage.setItem("__BarioOtsoOtso__",n.result.token),e.result.general.is_dark_mode=t),_(Object(o.i)({type:s.cb.LOGIN_SUCCESS},{user_details:e.result}))}),(function(e){var t=Object(o.a)(e,!1);_(Object(o.i)({type:s.cb.LOGIN_FAILURE},{error:t}))}));else{var a=1==e.result.general.is_dark_mode;t!=a&&localStorage.setItem("PANAGSIPNGET",a),_(Object(o.i)({type:s.cb.LOGIN_SUCCESS},{user_details:e.result}))}}else!0===n?window.location.href="/login":(void 0!==e.info.result&&void 0!==e.info.result.redirect_url&&window.open(e.info.result.redirect_url,"_blank"),_(Object(o.i)({type:s.cb.LOGIN_FAILURE},{error:void 0!==e.info&&e.info.message||e.message})))}),(function(e){var t=Object(o.a)(e,!1);_(Object(o.i)({type:s.cb.LOGIN_FAILURE},{error:t}))}))}},this.forgotPassword=function(e,t){return function(t){t(Object(o.i)({type:s.cb.FORGOT_PASSWORD_REQUEST},{email_address:e})),i.a.forgotPassword(e).then((function(e){!0===e.status?t(Object(o.i)({type:s.cb.FORGOT_PASSWORD_SUCCESS},{user_details:e.result})):t(Object(o.i)({type:s.cb.FORGOT_PASSWORD_FAILURE},{error:e.message}))}),(function(e){var n=Object(o.a)(e,!1);t(Object(o.i)({type:s.cb.FORGOT_PASSWORD_FAILURE},{error:n}))}))}},this.resetPassword=function(e,t,n,a){return function(a){a(Object(o.i)({type:s.cb.RESET_PASSWORD_REQUEST},{old_password:e,new_password:t,confirm_password:n})),i.a.resetPassword(e,t,n).then((function(e){!0===e.status?a(Object(o.i)({type:s.cb.RESET_PASSWORD_SUCCESS},{user_details:e.result})):a(Object(o.i)({type:s.cb.RESET_PASSWORD_FAILURE},{error:e.message}))}),(function(e){var t=Object(o.a)(e);a(Object(o.i)({type:s.cb.RESET_PASSWORD_FAILURE},{error:t}))}))}},this.reportAnIssue=function(e,t){return function(t){t(Object(o.i)({type:s.cb.REPORT_ISSUE_REQUEST},e)),i.a.reportAnIssue(e).then((function(e){!0===e.status?t(Object(o.i)({type:s.cb.REPORT_ISSUE_SUCCESS},{user_details:e.result})):t(Object(o.i)({type:s.cb.REPORT_ISSUE_FAILURE},{error:e.message}))}),(function(e){var n=Object(o.a)(e);t(Object(o.i)({type:s.cb.REPORT_ISSUE_FAILURE},{error:n}))}))}},this.switchProgram=function(e,t,n){return function(n){n(Object(o.i)({type:s.cb.SWITCH_PROGRAM_REQUEST},{user_bootcamp_id:e,current_user_bootcamp_id:t})),i.a.switchProgram({user_bootcamp_id:e,current_user_bootcamp_id:t}).then((function(e){e&&!0===e.status?n(Object(o.i)({type:s.cb.SWITCH_PROGRAM_SUCCESS},{user_details:e.result})):n(Object(o.i)({type:s.cb.SWITCH_PROGRAM_FAILURE},{error:e&&e.message?e.message:"Something went wrong in switching program."}))}),(function(e){var t=Object(o.a)(e);n(Object(o.i)({type:s.cb.SWITCH_PROGRAM_FAILURE},{error:t}))}))}},this.logout=function(){return function(e){i.a.updateLastVisitedUrl().then((function(e){return Object(o.b)()}),(function(e){return Object(o.b)()}))}},this.check_current_user=function(){return function(e){e(Object(o.i)({type:s.cb.VERIFY_USER_REQUEST},{})),i.a.checkCurrentUser().then((function(t){t.status?e(Object(o.i)({type:s.cb.VERIFY_USER_SUCCESS},{user_details:t.result})):e(Object(o.i)({type:s.cb.VERIFY_USER_FAILURE},{error:t.message}))}),(function(t){var n=Object(o.a)(t);e(Object(o.i)({type:s.cb.VERIFY_USER_FAILURE},{error:n}))}))}},this.finish_platform_walkthrough=function(){return function(e){e(Object(o.i)({type:s.cb.USER_VIEW_WALKTHROUGH_REQUEST},{})),i.a.finishPlatformWalkthrough().then((function(t){!0===t.status?(e(Object(o.i)({type:s.cb.USER_VIEW_WALKTHROUGH_SUCCESS},{user_details:t.result})),localStorage.removeItem("is_platform_demo"),window.location.href="/dashboard"):e(Object(o.i)({type:s.cb.USER_VIEW_WALKTHROUGH_FAILURE},{error:t.message}))}),(function(t){var n=Object(o.a)(t);e(Object(o.i)({type:s.cb.USER_VIEW_WALKTHROUGH_FAILURE},{error:n}))}))}},this.upload_user_profile_pic=function(e){return function(t){t(Object(o.i)({type:s.cb.USER_UPLOAD_PROFILE_PIC_REQUEST},e)),i.a.uploadUserProfilePic(e).then((function(e){!0===e.status?t(Object(o.i)({type:s.cb.USER_UPLOAD_PROFILE_PIC_SUCCESS},{user_uploads:e})):t(Object(o.i)({type:s.cb.USER_UPLOAD_PROFILE_PIC_FAILURE},{error:e.message}))}),(function(e){var n=Object(o.a)(e);t(Object(o.i)({type:s.cb.USER_UPLOAD_PROFILE_PIC_FAILURE},{error:n}))}))}},this.updateGoogleReviewLog=function(e){return function(t){t(Object(o.i)({type:s.cb.SUBMIT_REVIEW_REQUEST},{})),i.a.updateGoogleReviewLog(e).then((function(e){!0===e.status?t(Object(o.i)({type:s.cb.SUBMIT_REVIEW_SUCCESS},{is_show_google_rating_modal:!1,dashboard:e.result})):t(Object(o.i)({type:s.cb.SUBMIT_REVIEW_FAILURE},{error:e.message}))}),(function(e){var n=Object(o.a)(e);t(Object(o.i)({type:s.cb.SUBMIT_REVIEW_FAILURE},{error:n}))}))}}}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(64),s=n(24),i=n(3),o=n(1),r=n(6),c=n(5),_=n(2),l=n(371),u=new(function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).fetch_user_dashboard=function(){return this.sendRequest("".concat(o.d.URL,"/users/dashboard"),{},!0).then(_.h).then((function(e){return e}))},e.get_enroll_app_link=function(e,t){return this.sendRequest("".concat(o.d.URL,"/codingdojo/get_enroll_app_link"),{make_payment:e,special_request:t},!0).then(_.h).then((function(e){return e}))},e.updateGoogleReviewLog=function(e){var t=this;return this.sendRequest("".concat(o.d.URL,"/users/update_google_review"),{params:e},!0).then(_.h).then((function(e){localStorage.setItem("__BarioOtsoOtso__",e.result);var n=Object(_.g)();return!0===n.status&&(e.result=n.user_details,t.CurrentUser.next({is_logged_in:!0,user_details:n.user_details})),e}))},e.getCurrentTrack=function(){return e.CurrentTrack.asObservable()},e.CurrentTrack=new l.a(null),e.CurrentUser=new l.a(null),e}return n}(n(26).a)),d=n(50),p=n(137),m=new function e(){Object(i.a)(this,e),this.get_user_dashboard=function(){return function(e){e(Object(_.i)({type:o.db.GET_USER_DASHBOARD_REQUEST},{})),u.fetch_user_dashboard().then((function(t){if(!0===t.status){for(var n={track_progress_limit:10,rececent_exam_limit:8,is_show_track_courses_modal:!1,is_show_daily_survey_modal:!1,is_show_career_service_survey_modal:!1,active_track:void 0,track_progress:[],belts:[],belt_exams:[],tracks:[],special_tracks:[],pre_bootcamp_tracks:[],locked_tracks:[],cd_survey_scheds:[],is_show_installment_due_reminder_modal:!1,is_show_installment_overdue_modal:!1,is_show_withdrawal_request_form_modal:!1,is_show_withdrawal_request_modal:!1,is_show_enrollment_agreement_modal:!1,is_show_enrollment_agreement_amendment_modal:!1,is_show_survey_modal:!1,tuition_reminders_data:{pending_payment:{status:!1,message:"",is_overdue:!1}},last_visited_url:null,is_show_google_rating_modal:!1,review_data:{},enc_user_id:t.result.user_id,enc_applicant_id:t.result.applicant_id},i=void 0!=t.result?t.result:{enrolled_tracks:[]},r=i.enrolled_tracks,c=i.unenrolled_tracks,l=i.tuition_reminders,u=t.result.belts,d=u.belt_summaries,p=u.exam_histories,m=void 0!==d?Object.keys(d):[],h=0;h<m.length;h++){var f=d[m[h]];void 0!==f&&n.belts.push({id:parseInt(m[h]),name:f.label,is_completed:f.level>-1,level:f.level,class:f.color})}for(var E in p){var g=p[E];if(g.label){var b=g.label.split(" - "),v=Object(s.a)(b,2),S=v[0],O=v[1];n.belt_exams.push({id:E,name:S,option:O,score:g.score})}}var k,T=Object(a.a)(c);try{for(T.s();!(k=T.n()).done;){var C=k.value,A={id:C.id,name:C.title,progress:C.track_progress_percent,is_locked:!0};1===C.is_special_track?n.special_tracks.push(A):n.locked_tracks.push(A)}}catch(W){T.e(W)}finally{T.f()}var R,y=Object(a.a)(r);try{for(y.s();!(R=y.n()).done;){var w=R.value,D={id:w.id,name:w.title,progress:w.track_progress_percent,is_locked:!1,track_belt:w.track_belt,is_current:w.is_current};1==w.is_current&&(D.courses=w.courses,D.current_module_link=w.current_module_link,n.track_progress={title:w.title,courses:w.courses,current_module_link:w.current_module_link}),1===w.is_special_track?n.special_tracks.push(D):t.result.pre_bootcamps_ids&&!0===t.result.pre_bootcamps_ids.includes(w.id)?n.pre_bootcamp_tracks.push(D):!0===o.l.includes(w.id)||w.is_major_track===o.U?n.tracks.push(D):n.locked_tracks.unshift(D)}}catch(W){y.e(W)}finally{y.f()}void 0!==l&&l.status&&(n.is_show_withdrawal_request_form_modal=!1,n.is_show_withdrawal_request_modal=l.result.pending_wf.status,n.is_show_enrollment_agreement_modal=l.result.pending_ea,n.is_show_enrollment_agreement_amendment_modal=l.result.pending_eaa,n.tuition_reminders_data=l.result.pending_payment,n.tuition_reminders_data.status&&(n.tuition_reminders_data.is_overdue?n.is_show_installment_overdue_modal=!0:n.is_show_installment_due_reminder_modal=!0)),n.is_show_progress=t.result.show_progress;var U=Object(_.g)();if(!0===U.status){var I=U.user_details.workspace_custom_data,M=I.bootcamp_info,P=I.enrollment;if(n.last_visited_url=void 0!==M&&null!==M.last_visited_url?M.last_visited_url:null,void 0!==P&&null!==P.google_review_json){var N=JSON.parse(P.google_review_json);void 0!==N.finished_google_review_logs&&N.unfinished_google_review_logs.length>0&&!1===U.user_details.is_show_platform_demo&&(n.is_show_google_rating_modal=!0,n.review_data.unfinished_google_review_logs=N.unfinished_google_review_logs[0])}}if(void 0!==t.result.cd_survey_scheds&&t.result.cd_survey_scheds.length>0){var L,j=new Date,F=Object(a.a)(t.result.cd_survey_scheds);try{for(F.s();!(L=F.n()).done;){var x=L.value;if(U.user_details&&!U.user_details.workspace_custom_data.surveys.skipped.includes(x.cd_survey_user_id)&&!U.user_details.workspace_custom_data.surveys.taken.includes(x.cd_survey_schedule_id)){var B=x.show_at_time.split(":"),K=Object(_.d)(j,new Date(x.show_at_date));Math.floor(K)>=0&&x.validity_days>=Math.floor(K)&&(j.getHours()>parseInt(B[0])||j.getHours()===parseInt(B[0])&&j.getMinutes()>=parseInt(B[1]))?(x.skippable=Math.floor(K)<x.validity_days,n.cd_survey_scheds.push(x)):(o.qb.includes(x.cd_survey_schedule_id)||o.ob.includes(x.cd_survey_schedule_id))&&n.cd_survey_scheds.push(x)}}}catch(W){F.e(W)}finally{F.f()}n.is_show_survey_modal=n.cd_survey_scheds.length>0}e(Object(_.i)({type:o.db.GET_USER_DASHBOARD_SUCCESS},{dashboard:n}))}else e(Object(_.i)({type:o.db.GET_USER_DASHBOARD_FAILURE},{error:t.message}))}),(function(t){var n=Object(_.a)(t);e(Object(_.i)({type:o.db.GET_USER_DASHBOARD_FAILURE},{error:n}))}))}},this.get_enroll_app_link=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(Object(_.i)({type:o.t.GET_ENROLLAPP_LINK_REQUEST},{})),u.get_enroll_app_link(e,t).then((function(e){!0===e.status?(n(Object(_.i)({type:o.t.GET_ENROLLAPP_LINK_SUCCESS},{enrollapp:e.result})),void 0!==e.result.link&&window.open(e.result.link,"_blank")):n(Object(_.i)({type:o.t.GET_ENROLLAPP_LINK_FAILURE},{error:e.message}))}),(function(e){var t=Object(_.a)(e);n(Object(_.i)({type:o.t.GET_ENROLLAPP_LINK_FAILURE},{error:t}))}))}},this.get_track_courses=function(e){return function(t){t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_COURSES_REQUEST},{})),p.a.fetch_user_enrolled_tracks({track_ids:[e]}).then((function(e){if(!0===e.status){var n=Object(s.a)(e.result,1)[0];if(void 0!==n){for(var a={id:n.id,name:n.title,progress:0,is_locked:null!==n.track_access_level_id,courses:[],show:!0},i=0;i<n.courses.length;i++){var r=Object(s.a)(n.courses[i],1)[0];a.courses.push({id:r.course_id,name:r.name,link:r.link,image_src:r.image_src})}t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_COURSES_SUCCESS},{active_track:a}))}else t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_COURSES_FAILURE},{error:"selected track not found!!!"}))}else t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_COURSES_FAILURE},{error:e.message}))}),(function(e){var n=Object(_.a)(e);t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_COURSES_FAILURE},{error:n}))}))}},this.get_tracks_progress=function(e){return function(t){t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_PROGRESS_REQUEST},{})),p.a.fetch_track_progress({track_ids:[e]}).then((function(e){if(!0===e.status){var n=e.result.track_progress;t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_PROGRESS_SUCCESS},{track_progress:n}))}else t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_PROGRESS_FAILURE},{error:"selected track not found!!!"}))}),(function(e){var n=Object(_.a)(e);t(Object(_.i)({type:o.db.GET_DASHBOARD_TRACK_PROGRESS_FAILURE},{error:n}))}))}},this.check_current_user=function(){return function(e){e(Object(_.i)({type:o.cb.VERIFY_USER_REQUEST},{})),d.a.checkCurrentUser().then((function(t){!0===t.status?e(Object(_.i)({type:o.cb.VERIFY_USER_SUCCESS},{})):e(Object(_.i)({type:o.cb.VERIFY_USER_FAILURE},{error:t.message}))}),(function(t){var n=Object(_.a)(t);e(Object(_.i)({type:o.cb.VERIFY_USER_FAILURE},{error:n}))}))}},this.hideDueReminderModal=function(e,t){return function(n){n(Object(_.i)({type:o.db.HIDE_DUE_REMINDER_REQUEST},{modal_name:e,new_value:t}))}},this.updateGoogleReviewLog=function(e){return function(t){t(Object(_.i)({type:o.db.SUBMIT_REVIEW_REQUEST},{})),u.updateGoogleReviewLog(e).then((function(e){!0===e.status?t(Object(_.i)({type:o.db.SUBMIT_REVIEW_SUCCESS},{is_show_google_rating_modal:!1,dashboard:e.result})):t(Object(_.i)({type:o.db.SUBMIT_REVIEW_FAILURE},{error:e.message}))}),(function(e){var n=Object(_.a)(e);t(Object(_.i)({type:o.db.SUBMIT_REVIEW_FAILURE},{error:n}))}))}}}},491:function(e,t,n){},492:function(e,t,n){},493:function(e,t,n){},494:function(e,t,n){},495:function(e,t,n){},496:function(e,t,n){},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(3),s=n(6),i=n(5),o=n(1),r=n(2),c=n(371),_=new(function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).login=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"user",c=this,_="".concat(o.d.URL,"/users/").concat(!1===n?"login":"".concat("user"!==i?"admin_":"","autologin/").concat(a));return c.sendRequest(_,{email_address:e,password:t,autologin_key:a}).then(r.h).then((function(e){if(!0===e.auth){localStorage.setItem("JWT88",e.token),localStorage.setItem("__BarioOtsoOtso__",e.user_token);var t=Object(r.g)();if(!0===t.status)if(e.result=t.user_details,null!==s){var n=s.split(":");window.location.href="/".concat(n.join("/"))}else c.CurrentUser.next({is_logged_in:!0,user_details:e.result})}return e}))},e.logout=function(){return this.sendRequest("".concat(o.d.URL,"/users/logout")).then(r.h).then((function(e){return e}))},e.checkCurrentUser=function(){var e=this;return this.sendRequest("".concat(o.d.URL,"/users/check_current_user")).then(r.h).then((function(t){if(t.status){localStorage.setItem("JWT88",t.token),localStorage.setItem("__BarioOtsoOtso__",t.user_token);var n=Object(r.g)();n.status?(t.result=n.user_details,e.CurrentUser.next({is_logged_in:!0,user_details:n.user_details})):Object(r.b)()}return t}))},e.updateLastVisitedUrl=function(){return this.sendRequest("".concat(o.d.URL,"/users/update_last_visited_url"),{},!0).then((function(){return{status:!0}})).catch((function(e){console.log(e)}))},e.forgotPassword=function(e){var t=this;return this.sendRequest("".concat(o.d.URL,"/users/forgot_password"),{email_address:e}).then(r.h).then((function(e){var n=!0===e.status?e.result:{};return t.CurrentUser.next({forgot_password_result:n}),e}))},e.resetPassword=function(e,t,n){var a=this;return this.sendRequest("".concat(o.d.URL,"/users/change_password"),{old_password:e,new_password:t,confirm_password:n},!0).then(r.h).then((function(e){var t=!0===e.status?e.result:{};return a.CurrentUser.next({is_logged_in:!0,user_details:t}),e}))},e.reportAnIssue=function(e){var t=this;return this.sendRequest("".concat(o.d.URL,"/users/report_an_issue"),e,!0).then(r.h).then((function(e){var n=!0===e.status?e.result:{};return t.CurrentUser.next({is_logged_in:!0,user_details:n}),e}))},e.finishPlatformWalkthrough=function(){var e=this;return this.sendRequest("".concat(o.d.URL,"/users/finish_walkthrough"),{},!0).then(r.h).then((function(t){if(!0===t.status){localStorage.setItem("__BarioOtsoOtso__",t.result);var n=Object(r.g)();!0===n.status&&(t.result=n.user_details,e.CurrentUser.next({is_logged_in:!0,user_details:n.user_details}))}return t}))},e.switchProgram=function(e){return this.sendRequest("".concat(o.d.URL,"/users/switch_program"),e,!0).then(r.h).then((function(e){if(!e||!0!==e.status)return e;localStorage.setItem("__BarioOtsoOtso__",e.user_token),window.location.reload()}))},e.uploadUserProfilePic=function(e){var t=new FormData;return t.append("file",e.pic_upload),this.sendRequest("".concat(o.d.URL,"/users/profile_upload/profile_pic"),t,!0,!0).then(r.h).then((function(e){return e.status&&localStorage.setItem("__BarioOtsoOtso__",e.result),e})).catch((function(e){return{status:!1,error:!0,message:e}}))},e.updateDarkmodeSettings=function(e){return this.sendRequest("".concat(o.d.URL,"/users/update_dark_mode_settings"),{is_dark_mode:e},!0).then(r.h).then((function(e){return e}))},e.getCurrentUser=function(){return e.CurrentUser.asObservable()},e.getVerifyUser=function(){return e.VerifyUser.asObservable()},e.CurrentUser=new c.a(null),e.VerifyUser=new c.a(null),e}return n}(n(26).a))},519:function(e,t){},522:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(3),s=n(1),i=(n(82),n(6)),o=n(5),r=n(2),c=n(26),_=n(371),l=n(150),u=n.n(l),d=new(function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).fetchAssignmentForumData=function(e){return this.sendRequest("".concat(s.d.URL,"/forums/fetch_forum"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.submitNewComment=function(e){return this.sendRequest("".concat(s.d.URL,"/forums/add_comment"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.toggleVoteComment=function(e){return this.sendRequest("".concat(s.d.URL,"/forums/vote"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.setCommentToArchive=function(e){return this.sendRequest("".concat(s.d.URL,"/forums/send_to_archive"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.updateCommentRecord=function(e){return this.sendRequest("".concat(s.d.URL,"/forums/edit_comment"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.fetchAnswerComments=function(e){return this.sendRequest("".concat(s.d.URL,"/forums/fetch_answers"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.uploadImageToS3=function(e){var t={status:!1,err:null,file_url:null},n=Object(r.s)(e.file,e.user_id);if(n){var a=s.e.s3,i=a.accessKeyId,o=a.secretAccessKey,c=a.region,_=new u.a.S3({accessKeyId:i,secretAccessKey:o,region:c});return new Promise((function(e,a){_.upload(n,(function(n,s){n?(t.status=!1,t.err=n,a(t)):(t.status=!0,t.file_url=s.Location,e(t))}))}))}},e.deleteAttachedFiles=function(e){return this.sendRequest("".concat(s.d.URL,"/forums/delete_attachments"),e,!0).then(r.h).then((function(e){return e})).catch((function(e){console.log(e)}))},e.CurrentUser=new _.a(null),e.VerifyUser=new _.a(null),e}return n}(c.a)),p=new function e(){Object(a.a)(this,e),this.fetchAssignmentForumData=function(e){return function(t){t(Object(r.i)({type:s.x.FETCH_ASSIGNMENT_FORUM_REQUEST},e)),d.fetchAssignmentForumData(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.FETCH_ASSIGNMENT_FORUM_SUCCESS},{assignment_forum_questions:e.result})):t(Object(r.i)({type:s.x.FETCH_ASSIGNMENT_FORUM_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.FETCH_ASSIGNMENT_FORUM_FAILURE},{error:n}))}))}},this.submitNewComment=function(e){return function(t){t(Object(r.i)({type:s.x.SUBMIT_COMMENT_REQUEST},e,{is_show_ask_forum_question_modal:!0})),d.submitNewComment(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.SUBMIT_COMMENT_SUCCESS},{is_show_ask_forum_question_modal:!1,new_comment:e.result})):t(Object(r.i)({type:s.x.SUBMIT_COMMENT_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.SUBMIT_COMMENT_FAILURE},{error:n}))}))}},this.fetchAnswerComments=function(e){return function(t){t(Object(r.i)({type:s.x.FETCH_ANSWER_COMMENTS_REQUEST},e)),d.fetchAnswerComments(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.FETCH_ANSWER_COMMENTS_SUCCESS},{forum_assignment_answers:e.result})):t(Object(r.i)({type:s.x.FETCH_ANSWER_COMMENTS_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.FETCH_ANSWER_COMMENTS_FAILURE},{error:n}))}))}},this.toggleVoteComment=function(e){return function(t){e.vote_type===s.jb.endorsement?d.toggleVoteComment(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.ENDORSEMENT_SUCCESS},{comment_details:e.result})):t(Object(r.i)({type:s.x.ENDORSEMENT_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.ENDORSEMENT_FAILURE},{error:n}))})):[s.jb.up_vote,s.jb.down_vote].includes(e.vote_type)?d.toggleVoteComment(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.VOTE_SUCCESS},{comment_details:e.result})):t(Object(r.i)({type:s.x.VOTE_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.VOTE_FAILURE},{error:n}))})):t(Object(r.i)({type:s.x.VOTE_FAILURE},{error:"Invalid vote type."}))}},this.setCommentToArchive=function(e){return function(t){t(Object(r.i)({type:s.x.SET_COMMENT_TO_ARCHIVE_REQUEST},e)),d.setCommentToArchive(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.SET_COMMENT_TO_ARCHIVE_SUCCESS},{set_comment_to_archive_response:e.result})):t(Object(r.i)({type:s.x.SET_COMMENT_TO_ARCHIVE_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.SET_COMMENT_TO_ARCHIVE_FAILURE},{error:n}))}))}},this.updateCommentRecord=function(e){return function(t){t(Object(r.i)({type:s.x.UPDATE_COMMENT_REQUEST},e)),d.updateCommentRecord(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.UPDATE_COMMENT_SUCCESS},{updated_comment:e.result})):t(Object(r.i)({type:s.x.UPDATE_COMMENT_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.UPDATE_COMMENT_FAILURE},{error:n}))}))}},this.uploadImageToS3=function(e){return function(t){t(Object(r.i)({type:s.x.UPLOAD_COMMENT_IMAGE_REQUEST},{})),d.uploadImageToS3(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.UPLOAD_COMMENT_IMAGE_SUCCESS},{file_url:e.file_url})):t(Object(r.i)({type:s.x.UPLOAD_COMMENT_IMAGE_FAILURE},{error:e.err}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.UPLOAD_COMMENT_IMAGE_FAILURE},{error:n}))}))}},this.deleteAttachedFiles=function(e){return function(t){t(Object(r.i)({type:s.x.DELETE_COMMENT_IMAGE_REQUEST},{})),d.deleteAttachedFiles(e).then((function(e){!0===e.status?t(Object(r.i)({type:s.x.DELETE_COMMENT_IMAGE_SUCCESS},{delete_details:e.result})):t(Object(r.i)({type:s.x.DELETE_COMMENT_IMAGE_FAILURE},{error:e.message}))}),(function(e){var n=Object(r.a)(e);t(Object(r.i)({type:s.x.DELETE_COMMENT_IMAGE_FAILURE},{error:n}))}))}},this.resetForumAnswerComments=function(){return function(e){e(Object(r.i)({type:s.x.RESET_FORUM_ANSWER_COMMENTS},{}))}}}},74:function(module,exports,__webpack_require__){if("undefined"===typeof CodeMirror)var CodeMirror=void 0;if("undefined"===typeof jQuery)var jQuery=void 0;!function(){var Ajax={settings:{},post:function(e){return new AjaxRequest("post",e)},get:function(e){return new AjaxRequest("get",e)}},AjaxRequest=function(e,t){var n={method:e,url:"",before:function(){},success:function(){},error:function(){},data:!1,async:!0,headers:{}};this.p=this.extend(n,t),this.p=this.extend(this.p,Ajax.settings),this.p.method=this.p.method.toUpperCase(),this.prepareData(),this.xhr=new XMLHttpRequest,this.xhr.open(this.p.method,this.p.url,this.p.async),this.setHeaders(),!1!==("function"!==typeof this.p.before||this.p.before(this.xhr))&&this.send()};AjaxRequest.prototype={extend:function(e,t){if(t)for(var n in t)e[n]=t[n];return e},prepareData:function(){"POST"!==this.p.method||this.isFormData()||(this.p.headers["Content-Type"]="application/x-www-form-urlencoded"),"object"!==typeof this.p.data||this.isFormData()||(this.p.data=this.toParams(this.p.data)),"GET"===this.p.method&&(this.p.url=this.p.data?this.p.url+"?"+this.p.data:this.p.url)},setHeaders:function(){for(var e in this.xhr.setRequestHeader("X-Requested-With",this.p.headers["X-Requested-With"]||"XMLHttpRequest"),this.p.headers)this.xhr.setRequestHeader(e,this.p.headers[e])},isFormData:function(){return"undefined"!==typeof window.FormData&&this.p.data instanceof window.FormData},isComplete:function(){return!(this.xhr.status<200||this.xhr.status>=300&&304!==this.xhr.status)},send:function(){this.p.async?(this.xhr.onload=this.loaded.bind(this),this.xhr.send(this.p.data)):(this.xhr.send(this.p.data),this.loaded.call(this))},loaded:function(){if(this.isComplete()){var e=this.xhr.response,t=this.parseJson(e);e=t||e,"function"===typeof this.p.success&&this.p.success(e,this.xhr)}else"function"===typeof this.p.error&&this.p.error(this.xhr.statusText)},parseJson:function(e){try{var t=JSON.parse(e);if(t&&"object"===typeof t)return t}catch(n){}return!1},toParams:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}};var DomCache=[0],DomExpando="data"+(new Date).getTime(),DomHClass="is-hidden",DomHMClass="is-hidden-mobile",Dom=function(e,t){return this.parse(e,t)};Dom.ready=function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},Dom.prototype={get sdom(){return!0},get length(){return this.nodes.length},parse:function(e,t){var n;if(e){if(e.sdom)return this.nodes=e.nodes,e;n="string"!==typeof e?e.nodeType&&11===e.nodeType?e.childNodes:e.nodeType||e===window?[e]:e:/^\s*<(\w+|!)[^>]*>/.test(e)?this.create(e):this._query(e,t)}else n=[];this.nodes=this._slice(n)},create:function(e){if(/^<(\w+)\s*\/?>(?:<\/\1>|)$/.test(e))return[document.createElement(RegExp.$1)];var t=[],n=document.createElement("div"),a=n.childNodes;n.innerHTML=e;for(var s=0,i=a.length;s<i;s++)t.push(a[s]);return t},add:function(e){this.nodes=this.nodes.concat(this._toArray(e))},get:function(e){return this.nodes[e||0]||!1},getAll:function(){return this.nodes},eq:function(e){return new Dom(this.nodes[e])},first:function(){return new Dom(this.nodes[0])},last:function(){return new Dom(this.nodes[this.nodes.length-1])},contents:function(){return this.get().childNodes},each:function(e){for(var t=this.nodes.length,n=0;n<t;n++)e.call(this,this.nodes[n].sdom?this.nodes[n].get():this.nodes[n],n);return this},is:function(e){return this.filter(e).length>0},filter:function(e){var t;return void 0===e?this:(t="function"===typeof e?e:function(t){return e instanceof Node?e===t:e&&e.sdom?-1!==e.nodes.indexOf(t):(t.matches=t.matches||t.msMatchesSelector||t.webkitMatchesSelector,1===t.nodeType&&t.matches(e||"*"))},new Dom(this.nodes.filter(t)))},not:function(e){return this.filter((function(t){return!new Dom(t).is(e||!0)}))},find:function(e){var t=[];return this.each((function(n){for(var a=this._query(e||"*",n),s=0;s<a.length;s++)t.push(a[s])})),new Dom(t)},children:function(e){var t=[];return this.each((function(e){if(e.children)for(var n=e.children,a=0;a<n.length;a++)t.push(n[a])})),new Dom(t).filter(e)},parent:function(e){var t=[];return this.each((function(e){e.parentNode&&t.push(e.parentNode)})),new Dom(t).filter(e)},parents:function(e,t){t=this._getContext(t);var n=[];return this.each((function(a){for(var s=a.parentNode;s&&s!==t;)e?new Dom(s).is(e)&&n.push(s):n.push(s),s=s.parentNode})),new Dom(n)},closest:function(e,t){t=this._getContext(t),e=e.sdom?e.get():e;var n=[],a=e&&e.nodeType;return this.each((function(s){do{if(a&&s===e||new Dom(s).is(e))return n.push(s)}while((s=s.parentNode)&&s!==t)})),new Dom(n)},next:function(e){return this._getSibling(e,"nextSibling")},nextElement:function(e){return this._getSibling(e,"nextElementSibling")},prev:function(e){return this._getSibling(e,"previousSibling")},prevElement:function(e){return this._getSibling(e,"previousElementSibling")},css:function(e,t){if(void 0===t&&"object"!==typeof e){var n=this.get();return"width"===e||"height"===e?n.style?this._getHeightOrWidth(e,n,!1)+"px":void 0:n.style?getComputedStyle(n,null)[e]:void 0}return this.each((function(n){var a={};for(var s in"object"===typeof e?a=e:a[e]=t,a)n.style&&(n.style[s]=a[s])}))},attr:function(e,t,n){if(n=n?"data-":"",void 0===t&&"object"!==typeof e){var a=this.get();return a&&3!==a.nodeType?"checked"===e?a.checked:this._getBooleanFromStr(a.getAttribute(n+e)):void 0}return this.each((function(a){var s={};for(var i in"object"===typeof e?s=e:s[e]=t,s)3!==a.nodeType&&("checked"===i?a.checked=s[i]:a.setAttribute(n+i,s[i]))}))},data:function(e,t){if(void 0===e){var n=/^data-(.+)$/,a=this.get().attributes,s={},i=function(e){return e[1].toUpperCase()};for(var o in a)if(a[o]&&n.test(a[o].nodeName)){var r=a[o].nodeName.match(n)[1],c=a[o].value;r=r.replace(/-([a-z])/g,i),c=this._isObjectString(c)?this._toObject(c):this._isNumber(c)?parseFloat(c):this._getBooleanFromStr(c),s[r]=c}return s}return this.attr(e,t,!0)},val:function(e){if(void 0===e){var t=this.get();return t.type&&"checkbox"===t.type?t.checked:t.value}return this.each((function(t){t.value=e}))},removeAttr:function(e){return this.each((function(t){e.split(" ").forEach((function(e){3!==t.nodeType&&t.removeAttribute(e)}))}))},removeData:function(e){return this.each((function(t){e.split(" ").forEach((function(e){3!==t.nodeType&&t.removeAttribute("data-"+e)}))}))},dataset:function(e,t){return this.each((function(n){DomCache[this.dataindex(n)][e]=t}))},dataget:function(e){return DomCache[this.dataindex(this.get())][e]},dataindex:function(e){var t=e[DomExpando],n=DomCache.length;return t||(t=e[DomExpando]=n,DomCache[t]={}),t},addClass:function(e){return this._eachClass(e,"add")},removeClass:function(e){return this._eachClass(e,"remove")},toggleClass:function(e){return this._eachClass(e,"toggle")},hasClass:function(e){return this.nodes.some((function(t){return!!t.classList&&t.classList.contains(e)}))},empty:function(){return this.each((function(e){e.innerHTML=""}))},html:function(e){return void 0===e?this.get().innerHTML||"":this.empty().append(e)},text:function(e){return void 0===e?this.get().textContent||"":this.each((function(t){t.textContent=e}))},after:function(e){return this._inject(e,(function(e,t){if("string"===typeof e)t.insertAdjacentHTML("afterend",e);else if(null!==t.parentNode)for(var n=e instanceof Node?[e]:this._toArray(e).reverse(),a=0;a<n.length;a++)t.parentNode.insertBefore(n[a],t.nextSibling);return t}))},before:function(e){return this._inject(e,(function(e,t){if("string"===typeof e)t.insertAdjacentHTML("beforebegin",e);else for(var n=e instanceof Node?[e]:this._toArray(e),a=0;a<n.length;a++)t.parentNode.insertBefore(n[a],t);return t}))},append:function(e){return this._inject(e,(function(e,t){if("string"===typeof e||"number"===typeof e)t.insertAdjacentHTML("beforeend",e);else for(var n=e instanceof Node?[e]:this._toArray(e),a=0;a<n.length;a++)t.appendChild(n[a]);return t}))},prepend:function(e){return this._inject(e,(function(e,t){if("string"===typeof e||"number"===typeof e)t.insertAdjacentHTML("afterbegin",e);else for(var n=e instanceof Node?[e]:this._toArray(e).reverse(),a=0;a<n.length;a++)t.insertBefore(n[a],t.firstChild);return t}))},wrap:function(e){return this._inject(e,(function(e,t){var n="string"===typeof e||"number"===typeof e?this.create(e)[0]:e instanceof Node?e:this._toArray(e)[0];return t.parentNode&&t.parentNode.insertBefore(n,t),n.appendChild(t),new Dom(n)}))},unwrap:function(){return this.each((function(e){var t=new Dom(e);return t.replaceWith(t.contents())}))},replaceWith:function(e){return this._inject(e,(function(e,t){for(var n=document.createDocumentFragment(),a="string"===typeof e||"number"===typeof e?this.create(e):e instanceof Node?[e]:this._toArray(e),s=0;s<a.length;s++)n.appendChild(a[s]);var i=n.childNodes[0];return t.parentNode&&t.parentNode.replaceChild(n,t),i}))},remove:function(){return this.each((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},clone:function(e){var t=[];return this.each((function(n){var a=this._clone(n);e&&(a=this._cloneEvents(n,a)),t.push(a)})),new Dom(t)},show:function(){return this.each(function(e){if(e.style&&this._hasDisplayNone(e)){var t,n=e.getAttribute("domTargetShow"),a=!!e.classList&&e.classList.contains(DomHClass),s=!!e.classList&&e.classList.contains(DomHMClass);a?(t=DomHClass,e.classList.remove(DomHClass)):s?(t=DomHMClass,e.classList.remove(DomHMClass)):e.style.display=n||"block",t&&e.setAttribute("domTargetHide",t),e.removeAttribute("domTargetShow")}}.bind(this))},hide:function(){return this.each((function(e){if(e.style&&!this._hasDisplayNone(e)){var t=e.style.display,n=e.getAttribute("domTargetHide");n===DomHClass?e.classList.add(DomHClass):n===DomHMClass?e.classList.add(DomHMClass):("block"!==t&&e.setAttribute("domTargetShow",t),e.style.display="none"),e.removeAttribute("domTargetHide")}}))},scrollTop:function(e){var t=this.get(),n=t===window,a=9===t.nodeType,s=a?document.scrollingElement||document.body.parentNode||document.body||document.documentElement:t;if(void 0===e)return a?"undefined"!=typeof window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0:n?window.pageYOffset:s.scrollTop;n?window.scrollTo(0,e):s.scrollTop=e},offset:function(){return this._getDim("Offset")},position:function(){return this._getDim("Position")},width:function(e,t){return this._getSize("width","Width",e,t)},height:function(e,t){return this._getSize("height","Height",e,t)},outerWidth:function(){return this._getInnerOrOuter("width","outer")},outerHeight:function(){return this._getInnerOrOuter("height","outer")},innerWidth:function(){return this._getInnerOrOuter("width","inner")},innerHeight:function(){return this._getInnerOrOuter("height","inner")},click:function(){return this._triggerEvent("click")},focus:function(){return this._triggerEvent("focus")},trigger:function(e){return this.each((function(t){for(var n=e.split(" "),a=0;a<n.length;a++){var s;try{s=new window.CustomEvent(n[a],{bubbles:!0,cancelable:!0})}catch(i){(s=document.createEvent("CustomEvent")).initCustomEvent(n[a],!0,!0)}t.dispatchEvent(s)}}))},on:function(e,t,n){return this.each((function(a){for(var s=e.split(" "),i=0;i<s.length;i++){var o=this._getEventName(s[i]),r=this._getEventNamespace(s[i]);t=n?this._getOneHandler(t,e):t,a.addEventListener(o,t),a._e=a._e||{},a._e[r]=a._e[r]||{},a._e[r][o]=a._e[r][o]||[],a._e[r][o].push(t)}}))},one:function(e,t){return this.on(e,t,!0)},off:function(e,t){var n=function(e,t,n){return e===n},a=function(e,t,n,a){return t===a},s=function(e,t,n,a){return e===n&&t===a},i=function(){return!0};return void 0===e?this.each((function(e){this._offEvent(e,!1,!1,t,i)})):this.each((function(i){for(var o=e.split(" "),r=0;r<o.length;r++){var c=this._getEventName(o[r]),_=this._getEventNamespace(o[r]);"_events"===_?this._offEvent(i,c,_,t,n):c||"_events"===_?this._offEvent(i,c,_,t,s):this._offEvent(i,c,_,t,a)}}))},serialize:function(e){for(var t={},n=this.get().elements,a=0;a<n.length;a++){var s=n[a];if((!/(checkbox|radio)/.test(s.type)||s.checked)&&(s.name&&!s.disabled&&"file"!==s.type)){if("select-multiple"===s.type)for(var i=0;i<s.options.length;i++){var o=s.options[i];o.selected&&(t[s.name]=o.value)}t[s.name]=this._isNumber(s.value)?parseFloat(s.value):this._getBooleanFromStr(s.value)}}return e?t:this._toParams(t)},ajax:function(e,t){if("undefined"!==typeof AjaxRequest){var n=this.attr("method")||"post",a={url:this.attr("action"),data:this.serialize(),success:e,error:t};return new AjaxRequest(n,a)}},_queryContext:function(e,t){return 3!==(t=this._getContext(t)).nodeType&&"function"===typeof t.querySelectorAll?t.querySelectorAll(e):[]},_query:function(e,t){if(t)return this._queryContext(e,t);if(/^[.#]?[\w-]*$/.test(e)){if("#"===e[0]){var n=document.getElementById(e.slice(1));return n?[n]:[]}return"."===e[0]?document.getElementsByClassName(e.slice(1)):document.getElementsByTagName(e)}return document.querySelectorAll(e)},_getContext:function(e){return(e="string"===typeof e?document.querySelector(e):e)&&e.sdom?e.get():e||document},_inject:function(e,t){for(var n=this.nodes.length,a=[];n--;){var s="function"===typeof e?e.call(this,this.nodes[n]):e,i=0===n?s:this._clone(s),o=t.call(this,i,this.nodes[n]);o&&(o.sdom?a.push(o.get()):a.push(o))}return new Dom(a)},_cloneEvents:function(e,t){var n=e._e;if(n)for(var a in t._e=n,n._events)for(var s=0;s<n._events[a].length;s++)t.addEventListener(a,n._events[a][s]);return t},_clone:function(e){if("undefined"!==typeof e)return"string"===typeof e?e:e instanceof Node||e.nodeType?e.cloneNode(!0):"length"in e?[].map.call(this._toArray(e),(function(e){return e.cloneNode(!0)})):void 0},_slice:function(e){return e&&0!==e.length?e.length?[].slice.call(e.nodes||e):[e]:[]},_eachClass:function(e,t){return this.each((function(n){if(e){e.split(" ").forEach((function(e){n.classList&&n.classList[t](e)}))}}))},_triggerEvent:function(e){var t=this.get();return t&&3!==t.nodeType&&t[e](),this},_getOneHandler:function(e,t){var n=this;return function(){e.apply(this,arguments),n.off(t)}},_getEventNamespace:function(e){var t=e.split("."),n=t[1]?t[1]:"_events";return t[2]?n+t[2]:n},_getEventName:function(e){return e.split(".")[0]},_offEvent:function(e,t,n,a,s){for(var i in e._e)for(var o in e._e[i])if(s(o,i,t,n))for(var r=e._e[i][o],c=0;c<r.length;c++)"undefined"!==typeof a&&r[c].toString()!==a.toString()||(e.removeEventListener(o,r[c]),e._e[i][o].splice(c,1),0===e._e[i][o].length&&delete e._e[i][o],0===Object.keys(e._e[i]).length&&delete e._e[i])},_getInnerOrOuter:function(e,t){return this[e](void 0,t)},_getDocSize:function(e,t){var n=e.body,a=e.documentElement;return Math.max(n["scroll"+t],n["offset"+t],a["client"+t],a["scroll"+t],a["offset"+t])},_getSize:function(e,t,n,a){if(void 0===n){var s=this.get();return n=3===s.nodeType?0:9===s.nodeType?this._getDocSize(s,t):s===window?window["inner"+t]:this._getHeightOrWidth(e,s,a||"normal"),Math.round(n)}return this.each(function(t){n=parseFloat(n),n+=this._adjustResultHeightOrWidth(e,t,a||"normal"),new Dom(t).css(e,n+"px")}.bind(this))},_getHeightOrWidth:function(e,t,n){if(!t)return 0;var a=e.charAt(0).toUpperCase()+e.slice(1),s=0,i=getComputedStyle(t,null),o=new Dom(t),r=o.parents().filter((function(e){return 1===e.nodeType&&"none"===getComputedStyle(e,null).display&&e}));if("none"===i.display&&r.add(t),0!==r.length){var c="visibility: hidden !important; display: block !important;",_=[];r.each((function(e){var t=new Dom(e),n=t.attr("style");null!==n&&_.push(n),t.attr("style",null!==n?n+";"+c:c)})),s=o.get()["offset"+a]-this._adjustResultHeightOrWidth(e,t,n),r.each((function(e,t){var n=new Dom(e);void 0===_[t]?n.removeAttr("style"):n.attr("style",_[t])}))}else s=t["offset"+a]-this._adjustResultHeightOrWidth(e,t,n);return s},_adjustResultHeightOrWidth:function(e,t,n){if(!t||!1===n)return 0;var a=0,s=getComputedStyle(t,null),i="border-box"===s.boxSizing;return"height"===e?(("inner"===n||"normal"===n&&i)&&(a+=(parseFloat(s.borderTopWidth)||0)+(parseFloat(s.borderBottomWidth)||0)),"outer"===n&&(a-=(parseFloat(s.marginTop)||0)+(parseFloat(s.marginBottom)||0))):(("inner"===n||"normal"===n&&i)&&(a+=(parseFloat(s.borderLeftWidth)||0)+(parseFloat(s.borderRightWidth)||0)),"outer"===n&&(a-=(parseFloat(s.marginLeft)||0)+(parseFloat(s.marginRight)||0))),a},_getDim:function(e){var t=this.get();return 3===t.nodeType?{top:0,left:0}:this["_get"+e](t)},_getPosition:function(e){return{top:e.offsetTop,left:e.offsetLeft}},_getOffset:function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,a=n.documentElement,s=n.defaultView;return{top:t.top+s.pageYOffset-a.clientTop,left:t.left+s.pageXOffset-a.clientLeft}},_getSibling:function(e,t){var n,a=(e=e&&e.sdom?e.get():e)&&e.nodeType;return this.each((function(s){for(;s=s[t];)if(a&&s===e||new Dom(s).is(e))return void(n=s)})),new Dom(n)},_toArray:function(e){if(e instanceof NodeList){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t}return void 0===e?[]:e.sdom?e.nodes:e},_toParams:function(e){var t="";for(var n in e)t+="&"+this._encodeUri(n)+"="+this._encodeUri(e[n]);return t.replace(/^&/,"")},_toObject:function(e){return new Function("return "+e)()},_encodeUri:function(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},_isNumber:function(e){return!isNaN(e)&&!isNaN(parseFloat(e))},_isObjectString:function(e){return-1!==e.search(/^{/)},_getBooleanFromStr:function(e){return"true"===e||"false"!==e&&e},_hasDisplayNone:function(e){return"none"===e.style.display||"none"===(e.currentStyle?e.currentStyle.display:getComputedStyle(e,null).display)}};var uuid=0,$R=function(e,t){return RedactorApp(e,t,[].slice.call(arguments,2))},$;$R.app=[],$R.version="3.4.5",$R.options={},$R.modules={},$R.services={},$R.classes={},$R.plugins={},$R.mixins={},$R.modals={},$R.lang={},$R.dom=function(e,t){return new Dom(e,t)},$R.ajax=Ajax,$R.Dom=Dom,$R.keycodes={BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37},$R.env={plugin:"plugins",module:"modules",service:"services",class:"classes",mixin:"mixins"},"undefined"!==typeof jQuery&&($=jQuery,$.fn.redactor=function(e){return RedactorApp(this.toArray(),e,[].slice.call(arguments,1))});var RedactorApp=function(e,t,n){for(var a,s=Array.isArray(e)?e:e&&e.nodeType?[e]:document.querySelectorAll(e),i="string"===typeof t||"function"===typeof t,o=[],r=0;r<s.length;r++){var c=s[r],_=$R.dom(c);if((a=_.dataget("redactor"))||i||(a=new App(c,t,uuid),_.dataset("redactor",a),$R.app[uuid]=a,uuid++),a&&i){var l,u="destroy"===t;"function"===typeof(t=u?"stop":t)?l=t.apply(a,n):(n.unshift(t),l=a.api.apply(a,n)),void 0!==l&&o.push(l),u&&_.dataset("redactor",!1)}}return 0===o.length||1===o.length?0===o.length?a:o[0]:o};$R.add=function(e,t,n){if("undefined"!==typeof $R.env[e])if(n.translations&&($R.lang=$R.extend(!0,{},$R.lang,n.translations)),n.modals&&($R.modals=$R.extend(!0,{},$R.modals,n.modals)),"mixin"===e)$R[$R.env[e]][t]=n;else{var a=function(){};if(a.prototype=n,n.mixins)for(var s=0;s<n.mixins.length;s++)$R.inherit(a,$R.mixins[n.mixins[s]]);$R[$R.env[e]][t]=a}},$R.addLang=function(e,t){"undefined"===typeof $R.lang[e]&&($R.lang[e]={}),$R.lang[e]=$R.extend($R.lang[e],t)},$R.create=function(e){var t=e.split("."),n=[].slice.call(arguments,1),a="classes";"undefined"!==typeof $R.env[t[0]]&&(a=$R.env[t[0]],e=t.slice(1).join("."));var s=new $R[a][e];if(s.init){var i=s.init.apply(s,n);return i||s}return s},$R.inherit=function(e,t){var n=function(){};n.prototype=t;var a=new n;for(var s in e.prototype)e.prototype.__lookupGetter__(s)?a.__defineGetter__(s,e.prototype.__lookupGetter__(s)):a[s]=e.prototype[s];return e.prototype=a,e.prototype.super=t,e},$R.error=function(e){throw e},$R.extend=function(){var e={},t=!1,n=0,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var s=function(n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t&&"[object Object]"===Object.prototype.toString.call(n[a])?e[a]=$R.extend(!0,e[a],n[a]):e[a]=n[a])};n<a;n++){var i=arguments[n];s(i)}return e},$R.opts={animation:!0,lang:"en",direction:"ltr",spellcheck:!0,structure:!1,scrollTarget:!1,styles:!0,stylesClass:"redactor-styles",placeholder:!1,source:!0,showSource:!1,inline:!1,breakline:!1,markup:"p",enterKey:!0,clickToEdit:!1,clickToSave:!1,clickToCancel:!1,focus:!1,focusEnd:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:[],callbacks:{},preClass:!1,preSpaces:4,tabindex:!1,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveData:!1,toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarContext:!0,air:!1,formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,formattingHide:!1,buttons:["html","format","bold","italic","deleted","lists","image","file","link"],buttonsTextLabeled:!1,buttonsAdd:[],buttonsAddFirst:[],buttonsAddAfter:!1,buttonsAddBefore:!1,buttonsHide:[],buttonsHideOnMobile:[],imageUpload:!1,imageUploadParam:"file",imageData:!1,imageEditable:!0,imageCaption:!0,imageLink:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",imageFigure:!0,imageObserve:!0,fileUpload:!1,fileUploadParam:"file",fileData:!1,fileAttachment:!1,uploadData:!1,dragUpload:!0,multipleUpload:!0,clipboardUpload:!0,uploadBase64:!1,linkTarget:!1,linkTitle:!1,linkNewTab:!0,linkNofollow:!1,linkSize:30,linkValidation:!0,cleanOnEnter:!0,cleanInlineOnEnter:!1,paragraphize:!0,removeScript:!0,removeNewLines:!1,removeComments:!0,replaceTags:{b:"strong",i:"em",strike:"del"},pastePlainText:!1,pasteLinkTarget:!1,pasteImages:!0,pasteLinks:!0,pasteClean:!0,pasteKeepStyle:[],pasteKeepClass:[],pasteKeepAttrs:["td","th"],pasteBlockTags:["pre","h1","h2","h3","h4","h5","h6","table","tbody","thead","tfoot","th","tr","td","ul","ol","li","blockquote","p","figure","figcaption"],pasteInlineTags:["a","img","br","strong","ins","code","del","span","samp","kbd","sup","sub","mark","var","cite","small","b","u","em","i","abbr"],activeButtons:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",u:"underline"},activeButtonsAdd:{},activeButtonsObservers:{},autoparse:!0,autoparseStart:!0,autoparsePaste:!0,autoparseLinks:!0,autoparseImages:!0,autoparseVideo:!0,shortcodes:{"p.":{format:"p"},"quote.":{format:"blockquote"},"pre.":{format:"pre"},"h1.":{format:"h1"},"h2.":{format:"h2"},"h3.":{format:"h3"},"h4.":{format:"h4"},"h5.":{format:"h5"},"h6.":{format:"h6"},"*.":{format:"ul"}},shortcodesAdd:!1,shortcuts:{"ctrl+shift+m, meta+shift+m":{api:"module.inline.clearformat"},"ctrl+b, meta+b":{api:"module.inline.format",args:"b"},"ctrl+i, meta+i":{api:"module.inline.format",args:"i"},"ctrl+u, meta+u":{api:"module.inline.format",args:"u"},"ctrl+h, meta+h":{api:"module.inline.format",args:"sup"},"ctrl+l, meta+l":{api:"module.inline.format",args:"sub"},"ctrl+k, meta+k":{api:"module.link.open"},"ctrl+alt+0, meta+alt+0":{api:"module.block.format",args:"p"},"ctrl+alt+1, meta+alt+1":{api:"module.block.format",args:"h1"},"ctrl+alt+2, meta+alt+2":{api:"module.block.format",args:"h2"},"ctrl+alt+3, meta+alt+3":{api:"module.block.format",args:"h3"},"ctrl+alt+4, meta+alt+4":{api:"module.block.format",args:"h4"},"ctrl+alt+5, meta+alt+5":{api:"module.block.format",args:"h5"},"ctrl+alt+6, meta+alt+6":{api:"module.block.format",args:"h6"},"ctrl+shift+7, meta+shift+7":{api:"module.list.toggle",args:"ol"},"ctrl+shift+8, meta+shift+8":{api:"module.list.toggle",args:"ul"}},shortcutsAdd:!1,grammarly:!0,notranslate:!1,bufferLimit:100,emptyHtml:"<p></p>",markerChar:"\ufeff",imageTypes:["image/png","image/jpeg","image/gif"],imageAttrs:["alt","title","src","class","width","height","srcset"],inlineTags:["a","span","strong","strike","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small","abbr"],blockTags:["pre","ul","ol","li","p","h1","h2","h3","h4","h5","h6","dl","dt","dd","div","table","tbody","thead","tfoot","tr","th","td","blockquote","output","figcaption","figure","address","section","header","footer","aside","article","iframe"],regex:{youtube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w-\s])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,vimeo:/(http|https)?:\/\/(?:www.|player.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:\/[a-zA-Z0-9_-]+)?/gi,imageurl:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/gi},input:!0,zindex:!1,modes:{inline:{pastePlainText:!0,pasteImages:!1,enterKey:!1,toolbar:!1,autoparse:!1,source:!1,showSource:!1,styles:!1,air:!1},original:{styles:!1}}},$R.lang.en={format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline",superscript:"Superscript",subscript:"Subscript","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U","superscript-abbr":"Sup","subscript-abbr":"Sub",lists:"Lists","link-insert":"Insert Link","link-edit":"Edit Link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",cancel:"Cancel",close:"Close",insert:"Insert",save:"Save",delete:"Delete",text:"Text",edit:"Edit",title:"Alt",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line",upload:"Upload","upload-label":"Drop files here or click to upload","accessibility-help-label":"Rich text editor",caption:"Caption",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center",undo:"Undo",redo:"Redo"},$R.buttons={html:{title:"HTML",icon:!0,api:"module.source.toggle"},undo:{title:"## undo ##",icon:!0,api:"module.buffer.undo"},redo:{title:"## redo ##",icon:!0,api:"module.buffer.redo"},format:{title:"## format ##",icon:!0,dropdown:{p:{title:"## paragraph ##",api:"module.block.format",args:{tag:"p"}},blockquote:{title:"## quote ##",api:"module.block.format",args:{tag:"blockquote"}},pre:{title:"## code ##",api:"module.block.format",args:{tag:"pre"}},h1:{title:"## heading1 ##",api:"module.block.format",args:{tag:"h1"}},h2:{title:"## heading2 ##",api:"module.block.format",args:{tag:"h2"}},h3:{title:"## heading3 ##",api:"module.block.format",args:{tag:"h3"}},h4:{title:"## heading4 ##",api:"module.block.format",args:{tag:"h4"}},h5:{title:"## heading5 ##",api:"module.block.format",args:{tag:"h5"}},h6:{title:"## heading6 ##",api:"module.block.format",args:{tag:"h6"}}}},bold:{title:"## bold-abbr ##",icon:!0,tooltip:"## bold ##",api:"module.inline.format",args:{tag:"b"}},italic:{title:"## italic-abbr ##",icon:!0,tooltip:"## italic ##",api:"module.inline.format",args:{tag:"i"}},deleted:{title:"## deleted-abbr ##",icon:!0,tooltip:"## deleted ##",api:"module.inline.format",args:{tag:"del"}},underline:{title:"## underline-abbr ##",icon:!0,tooltip:"## underline ##",api:"module.inline.format",args:{tag:"u"}},sup:{title:"## superscript-abbr ##",icon:!0,tooltip:"## superscript ##",api:"module.inline.format",args:{tag:"sup"}},sub:{title:"## subscript-abbr ##",icon:!0,tooltip:"## subscript ##",api:"module.inline.format",args:{tag:"sub"}},lists:{title:"## lists ##",icon:!0,observe:"list",dropdown:{observe:"list",unorderedlist:{title:"&bull; ## unorderedlist ##",api:"module.list.toggle",args:"ul"},orderedlist:{title:"1. ## orderedlist ##",api:"module.list.toggle",args:"ol"},outdent:{title:"< ## outdent ##",api:"module.list.outdent"},indent:{title:"> ## indent ##",api:"module.list.indent"}}},ul:{title:"&bull; ## bulletslist ##",icon:!0,api:"module.list.toggle",observe:"list",args:"ul"},ol:{title:"1. ## numberslist ##",icon:!0,api:"module.list.toggle",observe:"list",args:"ol"},outdent:{title:"## outdent ##",icon:!0,api:"module.list.outdent",observe:"list"},indent:{title:"## indent ##",icon:!0,api:"module.list.indent",observe:"list"},image:{title:"## image ##",icon:!0,api:"module.image.open"},file:{title:"## file ##",icon:!0,api:"module.file.open"},link:{title:"## link ##",icon:!0,observe:"link",dropdown:{observe:"link",link:{title:"## link-insert ##",api:"module.link.open"},unlink:{title:"## unlink ##",api:"module.link.unlink"}}},line:{title:"## horizontalrule ##",icon:!0,api:"module.line.insert"}};var App=function(e,t,n){this.module={},this.plugin={},this.instances={},this.started=!1,this.stopped=!1,this.uuid=n,this.rootElement=e,this.rootOpts=t,this.dragInside=!1,this.dragComponentInside=!1,this.keycodes=$R.keycodes,this.namespace="redactor",this.$win=$R.dom(window),this.$doc=$R.dom(document),this.$body=$R.dom("body"),this.editorReadOnly=!1,this.opts=$R.create("service.options",t,e),this.lang=$R.create("service.lang",this),this.buildServices(),this.buildModules(),this.buildPlugins(),this.start()};App.prototype={start:function(){this.stopped=!1,this.broadcast("start"),this.broadcast("startcode"),this.opts.clickToEdit?this.broadcast("startclicktoedit"):(this.broadcast("enable"),this.opts.showSource&&this.broadcast("startcodeshow"),this.broadcast("enablefocus")),this.broadcast("started"),this.started=!0},stop:function(){this.started=!1,this.stopped=!0,this.broadcast("stop"),this.broadcast("disable"),this.broadcast("stopped")},isStarted:function(){return this.started},isStopped:function(){return this.stopped},buildServices:function(){var e=["options","lang"],t=["uuid","keycodes","opts","lang","$win","$doc","$body"],n=[];for(var a in $R.services)-1===e.indexOf(a)&&(this[a]=$R.create("service."+a,this),n.push(a),t.push(a));for(var s=0;s<n.length;s++)for(var i=n[s],o=0;o<t.length;o++){var r=t[o];i!==r&&(this[i][r]=this[r])}},buildModules:function(){for(var e in $R.modules)this.module[e]=$R.create("module."+e,this),this.instances[e]=this.module[e]},buildPlugins:function(){for(var e=this.opts.plugins,t=0;t<e.length;t++){var n=e[t];"undefined"!==typeof $R.plugins[n]&&(this.plugin[n]=$R.create("plugin."+n,this),this.instances[n]=this.plugin[n])}},isDragInside:function(){return this.dragInside},setDragInside:function(e){this.dragInside=e},isDragComponentInside:function(){return this.dragComponentInside},setDragComponentInside:function(e){this.dragComponentInside=e},getDragComponentInside:function(){return this.dragComponentInside},isReadOnly:function(){return this.editorReadOnly},enableReadOnly:function(){this.editorReadOnly=!0,this.broadcast("enablereadonly"),this.component.clearActive(),this.toolbar.disableButtons()},disableReadOnly:function(){this.editorReadOnly=!1,this.broadcast("disablereadonly"),this.toolbar.enableButtons()},callMessageHandler:function(e,t,n){var a,s=t.split(".");if(1===s.length)"function"===typeof e["on"+t]&&(a=e["on"+t].apply(e,n));else{s[0]="on"+s[0];var i=this.utils.checkProperty(e,s);"function"===typeof i&&(a=i.apply(e,n))}return a},broadcast:function(e){var t,n=[].slice.call(arguments,1);for(var a in this.instances){var s=this.callMessageHandler(this.instances[a],e,n);"undefined"!==typeof s&&(t=s)}var i=this.callback.trigger(e,n);return"undefined"!==typeof t?t:i},on:function(e,t){this.callback.add(e,t)},off:function(e,t){this.callback.remove(e,t)},api:function(e){if((this.isStarted()||"start"===e)&&(!this.isReadOnly()||"disableReadOnly"===e)){this.broadcast("state");var t=[].slice.call(arguments,1),n=e.split("."),a=1===n.length,s="on"===n[0]||"off"===n[0],i=!s&&2===n.length,o="plugin"===n[0],r="module"===n[0];if(a){if("function"===typeof this[n[0]])return this.callInstanceMethod(this,n[0],t)}else{if(s)return"on"===n[0]?this.on(n[1],t[0]):this.off(n[1],t[0]||void 0);if(i){if(this.isInstanceExists(this,n[0]))return this.callInstanceMethod(this[n[0]],n[1],t);$R.error(new Error('Service "'+n[0]+'" not found'))}else if(o){if(this.isInstanceExists(this.plugin,n[1]))return this.callInstanceMethod(this.plugin[n[1]],n[2],t);$R.error(new Error('Plugin "'+n[1]+'" not found'))}else if(r){if(this.isInstanceExists(this.module,n[1]))return this.callInstanceMethod(this.module[n[1]],n[2],t);$R.error(new Error('Module "'+n[1]+'" not found'))}}}},isInstanceExists:function(e,t){return"undefined"!==typeof e[t]},callInstanceMethod:function(e,t,n){if("function"===typeof e[t])return e[t].apply(e,n)}},$R.add("mixin","formatter",{buildArgs:function(e){this.args={class:e.class||!1,style:e.style||!1,attr:e.attr||!1},this.args.class||this.args.style||this.args.attr||(this.args=!1)},applyArgs:function(e,t){return e=this.args?this[this.type](this.args,!1,e,t):this._clearAll(e,t)},clearClass:function(e,t){this.selection.save();var n=t?$R.dom(t):this.getElements(e,!0);return n.removeAttr("class"),t=this._unwrapSpanWithoutAttr(n.getAll()),this.selection.restore(),t},clearStyle:function(e,t){this.selection.save();var n=t?$R.dom(t):this.getElements(e,!0);return n.removeAttr("style"),t=this._unwrapSpanWithoutAttr(n.getAll()),this.selection.restore(),t},clearAttr:function(e,t){this.selection.save();var n=t?$R.dom(t):this.getElements(e,!0);return this._removeAllAttr(n),t=this._unwrapSpanWithoutAttr(n.getAll()),this.selection.restore(),t},set:function(e,t,n,a){!1!==a&&this.selection.save();var s=n?$R.dom(n):this.getElements(t);return e.class&&(s.removeAttr("class"),s.addClass(e.class)),e.style&&(s.removeAttr("style"),s.css(e.style),s.each((function(e){var t=$R.dom(e);t.attr("data-redactor-style-cache",t.attr("style"))}))),e.attr&&(this._removeAllAttr(s),s.attr(e.attr)),!1!==a&&this.selection.restore(),s.getAll()},toggle:function(e,t,n,a){!1!==a&&this.selection.save();var s,i=n?$R.dom(n):this.getElements(t);return e.class&&(i.toggleClass(e.class),i.each((function(e){""===e.className&&e.removeAttribute("class")}))),e.style&&(s=e.style,i.each(function(e){var t=$R.dom(e);for(var n in s){var a=s[n],i=t.css(n);i=this.utils.isRgb(i)?this.utils.rgb2hex(i):i.replace(/"/g,""),a=this.utils.isRgb(a)?this.utils.rgb2hex(a):a.replace(/"/g,""),i=this.utils.hex2long(i),("string"===typeof(a=this.utils.hex2long(a))?a.toLowerCase():a)===("string"===typeof i?i.toLowerCase():i)?t.css(n,""):t.css(n,a)}this._convertStyleQuotes(t),this.utils.removeEmptyAttr(e,"style")?t.removeAttr("data-redactor-style-cache"):t.attr("data-redactor-style-cache",t.attr("style"))}.bind(this))),e.attr&&(s=e.attr,i.each((function(e){var t=$R.dom(e);for(var n in s)t.attr(n)?t.removeAttr(n):t.attr(n,s[n])}))),!1!==a&&this.selection.restore(),i.getAll()},add:function(e,t,n,a){!1!==a&&this.selection.save();var s=n?$R.dom(n):this.getElements(t);if(e.class&&s.addClass(e.class),e.style){var i=e.style;s.each(function(e){var t=$R.dom(e);t.css(i),t.attr("data-redactor-style-cache",t.attr("style")),this._convertStyleQuotes(t)}.bind(this))}return e.attr&&s.attr(e.attr),!1!==a&&this.selection.restore(),s.getAll()},remove:function(e,t,n,a){!1!==a&&this.selection.save();var s=n?$R.dom(n):this.getElements(t);if(e.class&&(s.removeClass(e.class),s.each((function(e){""===e.className&&e.removeAttribute("class")}))),e.style){var i=e.style;s.each(function(e){var t=$R.dom(e);t.css(i,""),this.utils.removeEmptyAttr(e,"style")?t.removeAttr("data-redactor-style-cache"):t.attr("data-redactor-style-cache",t.attr("style"))}.bind(this))}return e.attr&&s.removeAttr(e.attr),n=this._unwrapSpanWithoutAttr(s.getAll()),!1!==a&&this.selection.restore(),n},_removeAllAttr:function(e){e.each((function(e){for(var t=e.attributes.length;t-- >0;){var n=e.attributes[t],a=n.name;"style"!==a&&"class"!==a&&e.removeAttributeNode(n)}}))},_convertStyleQuotes:function(e){var t=e.attr("style");t&&e.attr("style",t.replace(/"/g,"'"))},_clearAll:function(e,t){!1!==t&&this.selection.save();for(var n=0;n<e.length;n++)for(var a=e[n];a.attributes.length>0;)a.removeAttribute(a.attributes[0].name);return e=this._unwrapSpanWithoutAttr(e),!1!==t&&this.selection.restore(),e},_unwrapSpanWithoutAttr:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];a.attributes.length<=0&&3!==a.nodeType&&"SPAN"===a.tagName?$R.dom(a).unwrap():t.push(a)}return t}}),$R.add("mixin","dom",$R.Dom.prototype),$R.add("mixin","component",{get cmnt(){return!0}}),$R.add("service","options",{init:function(e,t){var n=$R.dom(t),a=$R.extend({},$R.opts,t?n.data():{},$R.options);return a=$R.extend(!0,a,e)}}),$R.add("service","lang",{init:function(e){this.app=e,this.opts=e.opts,this.vars=this._build(this.opts.lang)},rebuild:function(e){this.opts.lang=e,this.vars=this._build(e)},extend:function(e){this.vars=$R.extend(this.vars,e)},parse:function(e){if(void 0===e)return"";var t=e.match(/## (.*?) ##/g);if(t)for(var n=0;n<t.length;n++){var a=t[n].replace(/^##\s/g,"").replace(/\s##$/g,"");e=e.replace(t[n],this.get(a))}return e},get:function(e){var t="";return"undefined"!==typeof this.vars[e]?t=this.vars[e]:"en"!==this.opts.lang&&"undefined"!==typeof $R.lang.en[e]&&(t=$R.lang.en[e]),t},_build:function(e){var t=$R.lang.en;return"en"!==e&&(t=void 0!==$R.lang[e]?$R.lang[e]:t),t}}),$R.add("service","callback",{init:function(e){this.app=e,this.opts=e.opts,this.callbacks={},this.opts.callbacks&&this._set(this.opts.callbacks,"")},stop:function(){this.callbacks={}},add:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)},remove:function(e,t){if(void 0===t)delete this.callbacks[e];else{for(var n=0;n<this.callbacks[e].length;n++)this.callbacks[e].splice(n,1);0===Object.keys(this.callbacks[e]).length&&delete this.callbacks[e]}},trigger:function(e,t){var n=this._loop(e,t,this.callbacks);return"undefined"===typeof n&&t&&!1!==t[0]?t[0]:n},_set:function(e,t){for(var n in e){var a=""===t?n:t+"."+n;"object"===typeof e[n]?this._set(e[n],a):(this.callbacks[a]=[],this.callbacks[a].push(e[n]))}},_loop:function(e,t,n){var a;for(var s in n)if(e===s)for(var i=0;i<n[s].length;i++)a=n[s][i].apply(this.app,t);return a}}),$R.add("service","animate",{init:function(e){this.animationOpt=e.opts.animation},start:function(e,t,n,a){var s={duration:!1,iterate:!1,delay:!1,timing:!1,prefix:"redactor-"};return s="function"===typeof n?s:$R.extend(s,n),a="function"===typeof n?n:a,new $R.AnimatePlay(e,t,s,a,this.animationOpt)},stop:function(e){this.$el=$R.dom(e),this.$el.removeClass("redactor-animated");var t=this.$el.attr("redactor-animate-effect");this.$el.removeClass(t),this.$el.removeAttr("redactor-animate-effect");var n=this.$el.attr("redactor-animate-hide");n&&this.$el.addClass(n).removeAttr("redactor-animate-hide"),this.$el.off("animationend webkitAnimationEnd")}}),$R.AnimatePlay=function(e,t,n,a,s){return this.hidableEffects=["fadeOut","flipOut","slideUp","zoomOut","slideOutUp","slideOutRight","slideOutLeft"],this.prefixes=["","-webkit-"],this.$el=$R.dom(e),this.$body=$R.dom("body"),this.callback=a,this.animation=s?t:this.buildAnimationOff(t),this.defaults=n,"slideUp"===this.animation&&this.$el.height(this.$el.height()),this.isInanimate()?this.inanimate():this.animate()},$R.AnimatePlay.prototype={buildAnimationOff:function(e){return this.isHidable(e)?"hide":"show"},buildHideClass:function(){return"redactor-animate-hide"},isInanimate:function(){return"show"===this.animation||"hide"===this.animation},isAnimated:function(){return this.$el.hasClass("redactor-animated")},isHidable:function(e){return-1!==this.hidableEffects.indexOf(e)},inanimate:function(){var e;return this.defaults.timing="linear","show"===this.animation?(e=this.buildHideClass(),this.$el.attr("redactor-animate-hide",e),this.$el.removeClass(e)):(e=this.$el.attr("redactor-animate-hide"),this.$el.addClass(e).removeAttr("redactor-animate-hide")),"function"===typeof this.callback&&this.callback(this),this},animate:function(){var e=this.defaults.delay?this.defaults.delay:0;return setTimeout(function(){if(this.$body.addClass("no-scroll-x"),this.$el.addClass("redactor-animated"),!this.$el.attr("redactor-animate-hide")){var e=this.buildHideClass();this.$el.attr("redactor-animate-hide",e),this.$el.removeClass(e)}this.$el.addClass(this.defaults.prefix+this.animation),this.$el.attr("redactor-animate-effect",this.defaults.prefix+this.animation),this.set(this.defaults.duration+"s",this.defaults.iterate,this.defaults.timing),this.complete()}.bind(this),1e3*e),this},set:function(e,t,n){for(var a=this.prefixes.length;a--;)!1===e&&""!==e||this.$el.css(this.prefixes[a]+"animation-duration",e),!1===t&&""!==t||this.$el.css(this.prefixes[a]+"animation-iteration-count",t),!1===n&&""!==n||this.$el.css(this.prefixes[a]+"animation-timing-function",n)},clean:function(){this.$body.removeClass("no-scroll-x"),this.$el.removeClass("redactor-animated"),this.$el.removeClass(this.defaults.prefix+this.animation),this.$el.removeAttr("redactor-animate-effect"),this.set("","","")},complete:function(){this.$el.one("animationend webkitAnimationEnd",function(){if(this.$el.hasClass(this.defaults.prefix+this.animation)&&this.clean(),this.isHidable(this.animation)){var e=this.$el.attr("redactor-animate-hide");this.$el.addClass(e).removeAttr("redactor-animate-hide")}"slideUp"===this.animation&&this.$el.height(""),"function"===typeof this.callback&&this.callback(this.$el)}.bind(this))}},$R.add("service","caret",{init:function(e){this.app=e},setStart:function(e){this._setCaret("Start",e)},setEnd:function(e){this._setCaret("End",e)},setBefore:function(e){this._setCaret("Before",e)},setAfter:function(e){this._setCaret("After",e)},isStart:function(e){return this._isStartOrEnd(e,"First")},isEnd:function(e){return this._isStartOrEnd(e,"Last")},setAtEnd:function(e){var t=this.inspector.parse(e).getTag(),n=document.createRange();if(this._isInPage(e)){if("a"===t){var a=this.utils.createInvisibleChar();$R.dom(e).after(a),n.selectNodeContents(a),n.collapse(!0)}else n.selectNodeContents(e),n.collapse(!1);this.selection.setRange(n)}},setAtStart:function(e){var t=document.createRange(),n=this.inspector.parse(e);if(this._isInPage(e)){if(t.setStart(e,0),t.collapse(!0),n.isInline()||this.utils.isEmpty(e)){var a=this.utils.createInvisibleChar();t.insertNode(a),t.selectNodeContents(a),t.collapse(!1)}this.selection.setRange(t)}},setAtBefore:function(e){var t=this.inspector.parse(e),n=document.createRange();if(this._isInPage(e)){if(n.setStartBefore(e),n.collapse(!0),t.isInline()){var a=this.utils.createInvisibleChar();e.parentNode.insertBefore(a,e),n.selectNodeContents(a),n.collapse(!1)}this.selection.setRange(n)}},setAtAfter:function(e){var t=document.createRange();if(this._isInPage(e)){t.setStartAfter(e),t.collapse(!0);var n=this.utils.createInvisibleChar();t.insertNode(n),t.selectNodeContents(n),t.collapse(!1),this.selection.setRange(t)}},setAtPrev:function(e){var t=e.previousSibling;t&&(t=3===t.nodeType&&this._isEmptyTextNode(t)?t.previousElementSibling:t)&&this.setEnd(t)},setAtNext:function(e){var t=e.nextSibling;t&&(t=3===t.nodeType&&this._isEmptyTextNode(t)?t.nextElementSibling:t)&&this.setStart(t)},_setCaret:function(e,t){var n=this.inspector.parse(t),a=n.getNode();a&&(this.component.clearActive(),this["_set"+e](a,n,n.getTag()))},_setStart:function(e,t,n){if(t.isText())return this.editor.focus(),this.setAtStart(e);if("ul"===n||"ol"===n){e=t.findFirstNode("li");var a=this.utils.getFirstElement(e),s=this.inspector.parse(a);if(a&&s.isComponent())return this.setStart(s.getComponent())}else if("dl"===n)e=t.findFirstNode("dt");else{if("br"===n||"hr"===n)return this.setBefore(e);if("td"===n||"th"===n){var i=t.getFirstElement(e);if(i)return this.setStart(i)}else{if("table"===n||"tr"===n)return this.setStart(t.findFirstNode("th, td"));if(t.isComponentType("code")&&!t.isFigcaption()){var o=t.findLastNode("pre, code");return this.editor.focus(),this.setAtStart(o)}if("figure"===n&&t.isComponentType("table")){var r=t.getTable(),c=this.inspector.parse(r);return this.setStart(c.findFirstNode("th, td"))}if(!t.isComponentType("table")&&t.isComponent()&&!t.isFigcaption())return this.component.setActive(e)}}this.editor.focus(),this._setInline(e,"Start")||this.setAtStart(e)},_setEnd:function(e,t,n){if(t.isText())return this.editor.focus(),this.setAtEnd(e);if("ul"===n||"ol"===n){e=t.findLastNode("li");var a=this.utils.getLastElement(e),s=this.inspector.parse(a);if(a&&s.isComponent())return this.setEnd(s.getComponent())}else if("dl"===n)e=t.findLastNode("dd");else{if("br"===n||"hr"===n)return this.setAfter(e);if("td"===n||"th"===n){var i=t.getLastElement();if(i)return this.setEnd(i)}else{if("table"===n||"tr"===n)return this.setEnd(t.findLastNode("th, td"));if(t.isComponentType("code")&&!t.isFigcaption()){var o=t.findLastNode("pre, code");return this.editor.focus(),this.setAtEnd(o)}if("figure"===n&&t.isComponentType("table")){var r=t.getTable(),c=this.inspector.parse(r);return this.setEnd(c.findLastNode("th, td"))}if(!t.isComponentType("table")&&t.isComponent()&&!t.isFigcaption())return this.component.setActive(e)}}if(this.editor.focus(),!this._setInline(e,"End")){if(this.utils.isEmpty(e))return this.setStart(e);this.setAtEnd(e)}},_setBefore:function(e,t,n){return 3===e.nodeType||t.isInline()?this.setAtBefore(e):t.isFirstTableCell()?this.setAtPrev(t.getComponent()):"td"===n||"th"===n?this.setAtPrev(e):t.isFirstListItem()?this.setAtPrev(t.getList()):t.isFigcaption()?this.setStart(t.getComponent()):!t.isComponentType("table")&&t.isComponent()?this.setAtPrev(t.getComponent()):t.isBlock()?this.setAtPrev(e):(this.editor.focus(),void this.setAtBefore(e))},_setAfter:function(e,t,n){return 3===e.nodeType||t.isInline()?this.setAtAfter(e):t.isLastTableCell()?this.setAtNext(t.getComponent()):"td"===n||"th"===n?this.setAtNext(e):t.isFirstListItem()?this.setAtNext(t.getList()):!t.isComponentType("table")&&t.isComponent()?this.setAtNext(t.getComponent()):t.isBlock()?this.setAtNext(e):(this.editor.focus(),void this.setAtAfter(e))},_setInline:function(e,t){var n=this._hasInlineChild(e,"Start"===t?"first":"last");if(n)return"Start"===t?this.setStart(n):this.setEnd(n),!0},_isStartOrEnd:function(e,t){var n=this.utils.getNode(e);if(!n)return!1;var a=this.inspector.parse(n);if((n=this._getStartEndNode(n,a,t))&&3!==n.nodeType&&"LI"!==n.tagName){var s=3===n.nodeType?n.textContent:n.innerHTML;if(""===(s=this.utils.trimSpaces(s)))return!0}if(!a.isFigcaption()&&a.isComponent()&&!a.isComponentEditable())return!0;var i=this.offset.get(n,!0);return!!i&&("First"===t?0===i.start:i.end===this.offset.size(n,!0))},_isInPage:function(e){return!(!e||!e.nodeType)&&(e!==document.body&&document.body.contains(e))},_hasInlineChild:function(e,t){var n=this.inspector.parse(e),a="first"===t?n.getFirstNode():n.getLastNode(),s=$R.dom(a);if(a&&3!==a.nodeType&&this.inspector.isInlineTag(a.tagName)&&!s.hasClass("redactor-component")&&!s.hasClass("non-editable"))return a},_isEmptyTextNode:function(e){var t=e.textContent.trim().replace(/\n/,"");return""===(t=this.utils.removeInvisibleChars(t))},_getStartEndNode:function(e,t,n){return t.isFigcaption()?e=t.getFigcaption():t.isTable()?e=t["find"+n+"Node"]("th, td"):t.isList()?e=t["find"+n+"Node"]("li"):t.isComponentType("code")&&(e=t.findLastNode("pre, code")),e}});var containsNode=function(e){return document.getSelection().containsNode(e,!0)};"containsNode"in Selection.prototype||(containsNode=containsNodePolyfill);var containsNodePolyfill=function(e){var t=document.getSelection(),n=t.anchorNode.parentNode,a=t.focusNode.parentNode,s=t.getRangeAt(0).getBoundingClientRect(),i=e.getBoundingClientRect();return!!$R.dom(n).closest(e).length||(!!$R.dom(a).closest(e).length||s.top<i.top&&s.height>i.height)};$R.add("service","selection",{init:function(e){this.app=e},is:function(){var e=this.get();if(e){var t=e.anchorNode,n=this.inspector.parse(t);return n.isInEditor()||n.isEditor()}return!1},isCollapsed:function(){var e=this.get(),t=this.getRange();return!(!e||!e.isCollapsed)||!(!t||0!==t.toString().length)},isBackwards:function(){var e=!1,t=this.get();if(t&&!t.isCollapsed){var n=document.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),e=n.collapsed,n.detach()}return e},isIn:function(e){var t=$R.dom(e).get(),n=this.getCurrent();return!(!n||!t)&&t.contains(n)},isText:function(){var e=this.get();if(e){var t=e.anchorNode,n=this.getBlock(t),a=this.getBlocks();if(n&&this.inspector.isTableCellTag(n.tagName)||!1===n&&0===a.length)return!0}return!1},isAll:function(e){var t=this.utils.getNode(e);if(!t)return!1;var n=this.editor.isEditor(t),a=this.inspector.parse(t);if(!a.isFigcaption()&&this.component.isNonEditable(t)&&this.component.isActive(t))return!0;if(n){var s=this.editor.getElement().html().replace(/<p><\/p>$/i,"");if(this.getHtml(!1).length!==s.length)return!1}if(n&&this.editor.isEmpty()||this.isCollapsed())return!1;var i=this.offset.get(t,!0),o=this.offset.size(t,!0);return!n&&a.isComponentType("code")&&(o=this.getText().trim().length),!(!i||0!==i.start||i.end!==o)},hasNonEditable:function(){var e=this.getHtml(),t=$R.dom("<div>").html(e);return!this.isCollapsed()&&0!==t.find(".non-editable").length},setRange:function(e){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)},setAll:function(e){var t=this.utils.getNode(e);if(t){var n=this.inspector.parse(t);if(this.component.clearActive(),this.editor.focus(),this.editor.saveScroll(),this.editor.disableNonEditables(),t&&"TABLE"===t.tagName){var a=n.findFirstNode("td, th"),s=n.findLastNode("td, th");$R.dom(a).prepend(this.marker.build("start")),$R.dom(s).append(this.marker.build("end")),this.restoreMarkers()}else if(!n.isFigcaption()&&this.component.isNonEditable(t))this.component.setActive(t);else{n.isComponentType("code")&&(t=n.getComponentCodeElement()).focus();var i=document.createRange();i.selectNodeContents(t),this.setRange(i)}this.editor.enableNonEditables(),this.editor.restoreScroll()}},get:function(){var e=window.getSelection();return e.rangeCount>0?e:null},getRange:function(){var e=this.get();return e&&e.getRangeAt(0)?e.getRangeAt(0):null},getTextBeforeCaret:function(e){e="undefined"===typeof e?1:e;var t=this.editor.getElement().get(),n=this.getRange(),a=!1;return n&&((n=n.cloneRange()).collapse(!0),n.setStart(t,0),a=n.toString().slice(-e)),a},getTextAfterCaret:function(e){e="undefined"===typeof e?1:e;var t=this.editor.getElement().get(),n=this.getRange(),a=!1;if(n){var s=n.cloneRange();s.selectNodeContents(t),s.setStart(n.endContainer,n.endOffset),a=s.toString().slice(0,e)}return a},getPosition:function(){var e=this.getRange(),t={top:0,left:0,width:0,height:0};if(window.getSelection&&e.getBoundingClientRect){var n=(e=e.cloneRange()).startOffset-1;e.setStart(e.startContainer,n<0?0:n);var a=e.getBoundingClientRect();t={top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top}}return t},getCurrent:function(){var e=!1,t=this.get(),n=this.component.getActive();if(n)e=n;else if(t&&this.is()){e=!this.inspector.parse(t.anchorNode).isEditor()&&t.anchorNode}return e},getParent:function(){var e=!1,t=this.getCurrent();if(t){var n=t.parentNode;e=!this.inspector.parse(n).isEditor()&&n}return e},getElement:function(e){for(var t=e||this.getCurrent();t;){var n=this.inspector.parse(t);if(n.isElement()&&n.isInEditor())return t;t=t.parentNode}return!1},getInline:function(e){for(var t=e||this.getCurrent(),n=!1;t;)this._isInlineNode(t)&&(n=t),t=t.parentNode;return n},getInlineFirst:function(e){for(var t=e||this.getCurrent();t;){if(this._isInlineNode(t))return t;t=t.parentNode}return!1},getInlineAll:function(e){for(var t=e||this.getCurrent(),n=[];t;)this._isInlineNode(t)&&n.push(t),t=t.parentNode;return n},getBlock:function(e){for(var t=e||this.getCurrent();t;){var n=this.inspector.parse(t);if(this.inspector.isBlockTag(t.tagName)&&n.isInEditor(t))return t;t=t.parentNode}return!1},getInlinesAllSelected:function(e){if(this.isAll())return[];var t=this.getInlines({all:!0}),n=this.getNodes({textnodes:!0,inline:!1}),a=this.getText().replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),s=[];if(0!==n.length)return s;if(""===a)s=t;else if(t.length>1)for(var i=0;i<t.length;i++)this._isTextSelected(t[i],a)&&s.push(t[i]);else 1===t.length&&this._isTextSelected(t[0],a)&&(s=t);return s=e&&e.tags?this._filterNodesByTags(s,e.tags):s},getInlines:function(e){for(var t=this.getNodes(),n=[],a=0;a<t.length;a++){var s;if(e&&e.all)for(s=t[a];s;)this._isInlineNode(s)&&!this._isInNodesArray(n,s)&&n.push(s),s=s.parentNode;else(s=this.getInline(t[a]))&&!this._isInNodesArray(n,s)&&n.push(s)}return n=e&&e.tags?this._filterNodesByTags(n,e.tags):n,n=e&&e.inside?this._filterInlinesInside(n,e):n},getBlocks:function(e){var t=this.getNodes(),n=this.getBlock();t=0===t.length&&n?[n]:t;for(var a=[],s=0;s<t.length;s++){var i=this.getBlock(t[s]);$R.dom(i).hasClass("non-editable")||i&&!this._isInNodesArray(a,i)&&a.push(i)}return a=e&&e.tags?this._filterNodesByTags(a,e.tags):a,a=e&&e.first?this._filterBlocksFirst(a,e):a},getElements:function(e){var t=this.getNodes({textnodes:!1}),n=this.getBlock();t=0===t.length&&n?[n]:t;for(var a=[],s=0;s<t.length;s++)this._isInNodesArray(a,t[s])||a.push(t[s]);return a=e&&e.tags?this._filterNodesByTags(a,e.tags):a},getNodes:function(e){var t=[],n=this.component.getActive();if(n)t=this._getNodesComponent(n);else if(this.isCollapsed()){var a=this.getCurrent();t=a?[a]:[]}else this.is()&&!n&&(t=this._getRangeSelectedNodes());return t=this._filterServicesNodes(t),t=this._filterEditor(t),t=e&&e.tags?this._filterNodesByTags(t,e.tags):t,t=e&&e.textnodes?this._filterNodesTexts(t,e):t,t=e&&!e.textnodes?this._filterNodesElements(t):t},getText:function(){var e=this.get();return e?this.utils.removeInvisibleChars(e.toString()):""},getHtml:function(e){var t="",n=this.get();if(n){for(var a=document.createElement("div"),s=n.rangeCount,i=0;i<s;++i)a.appendChild(n.getRangeAt(i).cloneContents());t=a.innerHTML,t=(t=!1!==e?this.cleaner.output(t):t).replace(/<p><\/p>$/i,"")}return t},clear:function(){this.component.clearActive(),this.get().removeAllRanges()},collapseToStart:function(){var e=this.get();e&&!e.isCollapsed&&e.collapseToStart()},collapseToEnd:function(){var e=this.get();e&&!e.isCollapsed&&e.collapseToEnd()},saveActiveComponent:function(){var e=this.component.getActive();return!!e&&(this.savedComponent=e,!0)},restoreActiveComponent:function(){return!!this.savedComponent&&(this.component.setActive(this.savedComponent),!0)},save:function(){this._clearSaved();var e=this.getElement();!e||-1===["TD","TH","P","DIV","PRE","H1","H2","H3","H4","H5","H6","LI","BLOCKQUOTE"].indexOf(e.tagName)||""!==e.innerHTML&&"<br>"!==e.innerHTML?this.saveActiveComponent()||(this.saved=this.offset.get()):this.savedElement=e},restore:function(){(this.saved||this.savedComponent||this.savedElement)&&(this.editor.saveScroll(),this.savedElement?this.caret.setStart(this.savedElement):this.restoreActiveComponent()||this.offset.set(this.saved),this._clearSaved(),this.editor.restoreScroll())},saveMarkers:function(){this._clearSaved(),this.saveActiveComponent()||this.marker.insert()},restoreMarkers:function(){this.editor.saveScroll(),this.restoreActiveComponent()||this.marker.restore(),this._clearSaved(),this.editor.restoreScroll()},_getNextNode:function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},_getNodesComponent:function(e){var t=this.getCurrent(),n=this.inspector.parse(t);return n.isFigcaption()?[n.getFigcaption()]:[e]},_getRangeSelectedNodes:function(){var e=[],t=this.getRange(),n=t.startContainer,a=t.startContainer,s=t.endContainer,i=this.editor.getElement();if(a===i.get()&&this.isAll())e=this.utils.getChildNodes(i);else if(n===s)e=[n];else{for(;n&&n!==s;)e.push(n=this._getNextNode(n));for(n=t.startContainer;n&&n!==t.commonAncestorContainer;)e.unshift(n),n=n.parentNode}return e},_isInNodesArray:function(e,t){return-1!==e.indexOf(t)},_filterEditor:function(e){for(var t=[],n=0;n<e.length;n++){this.inspector.parse(e[n]).isInEditor()&&t.push(e[n])}return t},_filterServicesNodes:function(e){for(var t=[],n=0;n<e.length;n++){var a=$R.dom(e[n]),s=!1;e[n]&&3===e[n].nodeType&&this.utils.isEmpty(e[n])&&(s=!0),(a.hasClass("redactor-script-tag")||a.hasClass("redactor-component-caret")||a.hasClass("redactor-selection-marker")||a.hasClass("non-editable"))&&(s=!0),s||t.push(e[n])}return t},_filterNodesTexts:function(e,t){for(var n=[],a=0;a<e.length;a++){if(3===e[a].nodeType||t.keepbr&&"BR"===e[a].tagName)this.getInline(e[a])&&t&&!1===t.inline||n.push(e[a])}return n},_filterNodesElements:function(e){for(var t=[],n=0;n<e.length;n++)3!==e[n].nodeType&&t.push(e[n]);return t},_filterNodesByTags:function(e,t,n){for(var a=[],s=0;s<e.length;s++)if(n&&3===e[s].nodeType)a.push(e[s]);else if(3!==e[s].nodeType){var i=e[s].tagName.toLowerCase();-1!==t.indexOf(i.toLowerCase())&&a.push(e[s])}return a},_filterBlocksFirst:function(e){for(var t=[],n=0;n<e.length;n++){var a=$R.dom(e[n]),s=a.parent().get(),i=a.parent().hasClass("redactor-in"),o=s&&("TD"===s.tagName||"TH"===s.tagName);(i||o)&&t.push(e[n])}return t},_filterInlinesInside:function(e){for(var t=[],n=0;n<e.length;n++)containsNode(e[n],!0)&&t.push(e[n]);return t},_isTextSelected:function(e,t){var n=this.utils.removeInvisibleChars(e.textContent);return t===n||-1!==n.search(t)||-1!==t.search(new RegExp("^"+this.utils.escapeRegExp(n)))||-1!==t.search(new RegExp(this.utils.escapeRegExp(n)+"$"))},_isInlineNode:function(e){var t=this.inspector.parse(e);return this.inspector.isInlineTag(e.tagName)&&t.isInEditor()},_clearSaved:function(){this.saved=!1,this.savedComponent=!1,this.savedElement=!1}}),$R.add("service","element",{init:function(e){this.app=e,this.rootElement=e.rootElement,this.$element={},this.type="inline"},start:function(){this._build(),this._buildType()},isType:function(e){return e===this.type},getType:function(){return this.type},getElement:function(){return this.$element},_build:function(){this.$element=$R.dom(this.rootElement)},_buildType:function(){var e=this.$element.get().tagName;this.type="TEXTAREA"===e?"textarea":this.type,this.type="DIV"===e?"div":this.type,this.type=this.opts.inline?"inline":this.type}}),$R.add("service","editor",{init:function(e){this.app=e,this.scrolltop=!1,this.pasting=!1},start:function(){this._build()},focus:function(){this.isFocus()||this._isContenteditableFocus()||(this.saveScroll(),this.$editor.focus(),this.restoreScroll())},startFocus:function(){this.caret.setStart(this.getFirstNode())},endFocus:function(){this.caret.setEnd(this.getLastNode())},isPasting:function(){return this.pasting},enablePasting:function(){this.pasting=!0},disablePasting:function(){this.pasting=!1},saveScroll:function(){this.scrolltop=this._getScrollTarget().scrollTop(),this.opts.maxHeight&&(this.scrolltopin=this.$editor.scrollTop())},restoreScroll:function(){!1!==this.scrolltop&&(this._getScrollTarget().scrollTop(this.scrolltop),this.scrolltop=!1),this.scrolltopin&&(this.$editor.scrollTop(this.scrolltopin),this.scrolltopin=!1)},disableNonEditables:function(){this.$noneditables=this.$editor.find("[contenteditable=false]"),this.$noneditables.attr("contenteditable",!0)},enableNonEditables:function(){this.$noneditables&&setTimeout(function(){this.$noneditables.attr("contenteditable",!1)}.bind(this),1)},getFirstNode:function(){return this.$editor.contents()[0]},getLastNode:function(){var e=this.$editor.contents();return e[e.length-1]},isSourceMode:function(){return this.source.getElement().hasClass("redactor-source-open")},isEditor:function(e){return $R.dom(e).get()===this.$editor.get()},isEmpty:function(e){return this.utils.isEmptyHtml(this.$editor.html(),!1,e)},isFocus:function(){var e=$R.dom(document.activeElement);return 0!==this.$editor.find(".redactor-component-active").length||0!==e.closest(".redactor-in-"+this.uuid).length},setEmpty:function(){this.$editor.html(this.opts.emptyHtml)},getElement:function(){return this.$editor},_build:function(){var e=this.element.getElement(),t=this.element.isType("textarea")?"<div>":e.get();this.$editor=$R.dom(t)},_getScrollTarget:function(){var e=this.$doc;return e=this.opts.toolbarFixedTarget!==document?$R.dom(this.opts.toolbarFixedTarget):this.opts.scrollTarget?$R.dom(this.opts.scrollTarget):e},_isContenteditableFocus:function(){var e=this.selection.getBlock();return 0!==(e?$R.dom(e).closest("[contenteditable=true]").not(".redactor-in"):[]).length}}),$R.add("service","container",{init:function(e){this.app=e},start:function(){this._build()},getElement:function(){return this.$container},_build:function(){var e=this.element.isType("inline")?"<span>":"<div>";this.$container=$R.dom(e)}}),$R.add("service","source",{init:function(e){this.app=e,this.$source={},this.content=""},start:function(){this._build(),this._buildName(),this._buildStartedContent()},getElement:function(){return this.$source},getCode:function(){return this.$source.val()},getName:function(){return this.$source.attr("name")},getStartedContent:function(){return this.content},setCode:function(e){return this.insertion.set(e,!0,!1)},isNameGenerated:function(){return this.name},rebuildStartedContent:function(){this._buildStartedContent()},_build:function(){var e=this.element.getElement(),t=this.element.isType("textarea")?e.get():"<textarea>";this.$source=$R.dom(t)},_buildName:function(){var e=this.element.getElement();this.name=e.attr("name"),this.$source.attr("name",this.name?this.name:"content-"+this.uuid)},_buildStartedContent:function(){var e=this.element.getElement(),t=this.element.isType("textarea")?e.val():e.html();this.content=t.trim()}}),$R.add("service","statusbar",{init:function(e){this.app=e,this.$statusbar={},this.items=[]},start:function(){this.$statusbar=$R.dom("<ul>"),this.$statusbar.attr("dir",this.opts.direction)},add:function(e,t){return this.update(e,t)},update:function(e,t){var n;return"undefined"!==typeof this.items[e]?n=this.items[e]:(n=$R.dom("<li>"),this.$statusbar.append(n),this.items[e]=n),n.html(t)},get:function(e){return!!this.items[e]&&this.items[e]},remove:function(e){this.items[e]&&(this.items[e].remove(),delete this.items[e])},getItems:function(){return this.items},removeItems:function(){this.items={},this.$statusbar.html("")},getElement:function(){return this.$statusbar}}),$R.add("service","toolbar",{init:function(e){this.app=e,this.buttons=[],this.dropdownOpened=!1,this.buttonsObservers={}},start:function(){this.is()&&(this.opts.activeButtons=this.opts.activeButtonsAdd?this._extendActiveButtons():this.opts.activeButtons,this.create())},stopObservers:function(){this.buttonsObservers={}},create:function(){this.$wrapper=$R.dom("<div>"),this.$toolbar=$R.dom("<div>")},observe:function(){if(this.is()){var e,t;for(var n in this.setButtonsInactive(),this.buttonsObservers)t=this.buttonsObservers[n],e=this.getButton(n),this.app.broadcast("button."+t+".observe",e);var a=this.opts.activeButtons,s=this.selection.getInlinesAllSelected(),i=this.selection.getInline();this.selection.isCollapsed()&&i&&s.push(i);var o=this._inlinesToTags(s);for(var r in a)-1!==o.indexOf(r)&&(e=this.getButton(a[r]))&&e.setActive()}},is:function(){return!(!this.opts.toolbar||this.detector.isMobile()&&this.opts.air)},isAir:function(){return!!this.is()&&this.$toolbar.hasClass("redactor-air")},isFixed:function(){return!!this.is()&&this.$toolbar.hasClass("redactor-toolbar-fixed")},isContextBar:function(){return this.$body.find("#redactor-context-toolbar-"+this.uuid).hasClass("open")},isTarget:function(){return this.opts.toolbarFixedTarget!==document},getElement:function(){return this.$toolbar},getWrapper:function(){return this.$wrapper},getDropdown:function(){return this.dropdownOpened},getTargetElement:function(){return $R.dom(this.opts.toolbarFixedTarget)},getButton:function(e){var t=this._findButton(".re-"+e);return 0!==t.length&&t.dataget("data-button-instance")},getButtons:function(){var e=[];return this._findButtons().each((function(t){var n=$R.dom(t);e.push(n.dataget("data-button-instance"))})),e},getButtonsKeys:function(){var e=[];return this._findButtons().each((function(t){var n=$R.dom(t);e.push(n.attr("data-re-name"))})),e},addButton:function(e,t,n,a,s){n=n||"end";var i=$R.create("toolbar.button",this.app,e,t);if(t.observe&&(this.opts.activeButtonsObservers[e]={observe:t.observe,button:i}),this.is())if("first"===n)this.$toolbar.prepend(i);else if("after"===n)a.after(i);else if("before"===n)a.before(i);else{var o=this.opts.buttons.indexOf(e);if(!0!==s&&-1!==o)if(0===o)this.$toolbar.prepend(i);else this._findButtons().eq(o-1).after(i);else this.$toolbar.append(i)}return i},addButtonFirst:function(e,t){return this.addButton(e,t,"first")},addButtonAfter:function(e,t,n){var a=this.getButton(e);return a?this.addButton(t,n,"after",a):this.addButton(t,n)},addButtonBefore:function(e,t,n){var a=this.getButton(e);return a?this.addButton(t,n,"before",a):this.addButton(t,n)},addButtonObserver:function(e,t){this.buttonsObservers[e]=t},setButtons:function(e){this.buttons=e},setDropdown:function(e){this.dropdownOpened=e},setButtonsInactive:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].setInactive()},setButtonsActive:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].setActive()},disableButtons:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].disable()},enableButtons:function(){for(var e=this.getButtons(),t=0;t<e.length;t++)e[t].enable()},_findButton:function(e){return this.is()?this.$toolbar.find(e):$R.dom()},_findButtons:function(){return this.is()?this.$toolbar.find(".re-button"):$R.dom()},_extendActiveButtons:function(){return $R.extend({},this.opts.activeButtons,this.opts.activeButtonsAdd)},_inlinesToTags:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].tagName.toLowerCase());return t}}),$R.add("class","toolbar.button",{mixins:["dom"],init:function(e,t,n){this.app=e,this.opts=e.opts,this.lang=e.lang,this.$body=e.$body,this.toolbar=e.toolbar,this.detector=e.detector,this.obj=n,this.name=t,this.dropdown=!1,this.tooltip=!1,this._init()},isActive:function(){return this.hasClass("redactor-button-active")},isDisabled:function(){return this.hasClass("redactor-button-disabled")},hasIcon:function(){return this.obj.icon&&!this.opts.buttonsTextLabeled},setDropdown:function(e){this.obj.dropdown=e,this.obj.message=!1,this.dropdown=$R.create("toolbar.dropdown",this.app,this.name,this.obj.dropdown),this.attr("data-dropdown",!0)},setMessage:function(e,t){this.obj.message=e,this.obj.args=t,this.obj.dropdown=!1},setApi:function(e,t){this.obj.api=e,this.obj.args=t,this.obj.dropdown=!1},setTitle:function(e){this.obj.title=this.lang.parse(e),this.obj.tooltip=this.obj.title,this.attr({alt:this.obj.tooltip,"aria-label":this.obj.tooltip}),this.attr("data-re-icon")||this.html(this.obj.title)},setTooltip:function(e){this.obj.tooltip=this.lang.parse(e),this.attr({alt:this.obj.tooltip,"aria-label":this.obj.tooltip})},setIcon:function(e){this.opts.buttonsTextLabeled||(this.obj.icon=!0,this.$icon=$R.dom(e),this.html(""),this.append(this.$icon),this.attr("data-re-icon",!0),this.addClass("re-button-icon"),this.setTooltip(this.obj.title),this._buildTooltip())},setActive:function(){this.addClass("redactor-button-active")},setInactive:function(){this.removeClass("redactor-button-active")},hideTooltip:function(){this.$body.find(".re-button-tooltip").remove()},getDropdown:function(){return this.dropdown},disable:function(){this.addClass("redactor-button-disabled")},enable:function(){this.removeClass("redactor-button-disabled")},toggle:function(e){e&&e.preventDefault(),this.isDisabled()||(this.obj.dropdown?this.dropdown.toggle(e):this.obj.api?this.app.api(this.obj.api,this.obj.args,this.name):this.obj.message&&this.app.broadcast(this.obj.message,this.obj.args,this.name),this.hideTooltip())},_init:function(){this._parseTitle(),this._parseTooltip(),this._build(),this._buildCallback(),this._buildAttributes(),this._buildObserver(),this.hasIcon()?(this._buildIcon(),this._buildTooltip()):this.html(this.obj.title)},_parseTooltip:function(){this.obj.tooltip=this.obj.tooltip?this.lang.parse(this.obj.tooltip):this.obj.title},_parseTitle:function(){this.obj.title=this.lang.parse(this.obj.title)},_build:function(){this.parse("<a>"),this.addClass("re-button re-"+this.name),this.attr("data-re-name",this.name),this.dataset("data-button-instance",this),this.obj.dropdown&&this.setDropdown(this.obj.dropdown)},_buildCallback:function(){this.on("click",this.toggle.bind(this))},_buildAttributes:function(){var e={href:"#",alt:this.obj.tooltip,rel:this.name,role:"button","aria-label":this.obj.tooltip,tabindex:"-1"};this.attr(e)},_buildObserver:function(){"undefined"!==typeof this.obj.observe&&this.toolbar.addButtonObserver(this.name,this.obj.observe)},_buildIcon:function(){var e=this.obj.icon,t=/(<([^>]+)>)/gi.test(e);this.$icon=t?$R.dom(e):$R.dom("<i>"),t||this.$icon.addClass("re-icon-"+this.name),this.append(this.$icon),this.attr("data-re-icon",!0),this.addClass("re-button-icon")},_buildTooltip:function(){this.detector.isDesktop()&&(this.tooltip=$R.create("toolbar.button.tooltip",this.app,this))}}),$R.add("class","toolbar.button.tooltip",{mixins:["dom"],init:function(e,t){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.$body=e.$body,this.toolbar=e.toolbar,this.$button=t,this.created=!1,this._init()},open:function(){if(!this.$button.hasClass("redactor-button-disabled")&&!this.$button.hasClass("redactor-button-active")){this.created=!0,this.parse("<span>"),this.addClass("re-button-tooltip re-button-tooltip-"+this.uuid),this.$body.append(this),this.html(this.$button.attr("alt"));var e=this.$button.offset(),t=this.$button.height(),n=this.$button.width();this.css({top:e.top+t+4+"px",left:e.left+n/2-this.width()/2+"px",position:"absolute"}),this.show()}},close:function(){this.created&&!this.$button.hasClass("redactor-button-disabled")&&(this.remove(),this.created=!1)},_init:function(){this.$button.on("mouseover",this.open.bind(this)),this.$button.on("mouseout",this.close.bind(this))}}),$R.add("class","toolbar.dropdown",{mixins:["dom"],init:function(e,t,n){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.$win=e.$win,this.$doc=e.$doc,this.$body=e.$body,this.animate=e.animate,this.toolbar=e.toolbar,this.name=t,this.started=!1,this.items="format"===t?$R.extend({},!0,n):n,this.$items=[]},toggle:function(e){this.started||this._build(),this.isOpened()&&this.isActive()?this.close(!1):this.open(e)},isOpened:function(){var e=this.$body.find(".redactor-dropdown-"+this.uuid+".open");return 0!==e.length&&e.attr("data-re-name")===this.name},isActive:function(){return 0!==this.$body.find("#redactor-dropdown-"+this.uuid+"-"+this.name+".open").length},getName:function(){return this.attr("data-re-name")},getItem:function(e){return this.$items[e]},getItemsByClass:function(e){var t=[];for(var n in this.$items){var a=this.$items[n];"object"===typeof a&&a.attr("data-re-name")&&a.hasClass(e)&&t.push(a)}return t},open:function(e){this._closeAll(),this.$btn=this.toolbar.getButton(this.name),this.app.broadcast("dropdown.open",e,this,this.$btn),this.toolbar.setDropdown(this),this.show(),this.removeClass("redactor-animate-hide"),this.addClass("open"),this._observe(),this.$btn.hideTooltip(),this.$btn.setActive(),this.$doc.on("keyup.redactor.dropdown-"+this.uuid,this._handleKeyboard.bind(this)),this.$doc.on("click.redactor.dropdown-"+this.uuid,this.close.bind(this)),this.updatePosition(),this.app.broadcast("dropdown.opened",e,this,this.$btn)},close:function(e,t){if(e){var n=$R.dom(e.target);if(this._isButton(e)||n.hasClass("redactor-dropdown-not-close")||n.hasClass("redactor-dropdown-item-disabled"))return void e.preventDefault()}this.app.broadcast("dropdown.close",this,this.$btn),this.toolbar.setDropdown(!1),this.$btn.setInactive(),!1===t?this._close():this.animate.start(this,"fadeOut",this._close.bind(this))},updatePosition:function(){var e=this.toolbar.isFixed(),t=this.toolbar.isTarget(),n=this.$btn.height(),a=this.$btn.width(),s=this.$btn.offset(),i="absolute",o=2;e&&(s.top=t?this.$btn.offset().top:this.$btn.position().top,i="fixed",o+=this.opts.toolbarFixedTopOffset);var r=s.left+0,c=parseFloat(this.css("width")),_=r-(this.$win.width()<r+c?c-a:0),l=s.top+n+o;_=_<0?4:_,this.css({maxHeight:"",position:i,top:l+"px",left:_+"px"});var u=this.$win.height()-(l-this.$doc.scrollTop())-10;this.css("max-height",u+"px")},_build:function(){this.parse("<div>"),this.attr("dir",this.opts.direction),this.attr("id","redactor-dropdown-"+this.uuid+"-"+this.name),this.attr("data-re-name",this.name),this.addClass("redactor-dropdown redactor-dropdown-"+this.uuid+" redactor-dropdown-"+this.name),this.dataset("data-dropdown-instance",this),this.items.sdom||"string"===typeof this.items?this._buildDom():this._buildItems(),this.$body.append(this),this.started=!0},_buildDom:function(){this.html("").append($R.dom(this.items))},_buildItems:function(){for(var e in this.items="format"===this.name?this._buildFormattingItems():this.items,this.items){var t=this.items[e];if("observe"===e)this.attr("data-observe",this.items[e]);else{var n=$R.create("toolbar.dropdown.item",this.app,e,t,this);this.$items[e]=n,this.append(n)}}},_buildFormattingItems:function(){for(var e in this.items)-1===this.opts.formatting.indexOf(e)&&delete this.items[e];if(this.opts.formattingHide)for(var e in this.items)-1!==this.opts.formattingHide.indexOf(e)&&delete this.items[e];if(this.opts.formattingAdd)for(var e in this.opts.formattingAdd)this.items[e]=this.opts.formattingAdd[e];return this.items},_handleKeyboard:function(e){27===e.which&&this.close()},_isButton:function(e){return $R.dom(e.target).closest(".re-button").get()===this.$btn.get()},_close:function(){this.$btn.setInactive(),this.$doc.off(".redactor.dropdown-"+this.uuid),this.removeClass("open"),this.addClass("redactor-animate-hide"),this.app.broadcast("dropdown.closed",this,this.$btn)},_closeAll:function(){this.$body.find(".redactor-dropdown-"+this.uuid+".open").each((function(e){$R.dom(e).dataget("data-dropdown-instance")._close()}))},_observe:function(){var e=this.attr("data-observe");e&&this.app.broadcast("dropdown."+e+".observe",this)}}),$R.add("class","toolbar.dropdown.item",{mixins:["dom"],init:function(e,t,n,a){this.app=e,this.lang=e.lang,this.dropdown=a,this.name=t,this.obj=n,this._init()},setTitle:function(e){this.$span.html(e)},getTitle:function(){return this.$span.html()},enable:function(){this.removeClass("redactor-dropdown-item-disabled")},disable:function(){this.addClass("redactor-dropdown-item-disabled")},toggle:function(e){e&&e.preventDefault(),this.hasClass("redactor-dropdown-item-disabled")||(this.obj.message?this.app.broadcast(this.obj.message,this.obj.args,this.name):this.obj.api&&this.app.api(this.obj.api,this.obj.args,this.name))},_init:function(){this.parse("<a>"),this.attr("href","#"),this.addClass("redactor-dropdown-item-"+this.name),this.obj.classname&&this.addClass(this.obj.classname),this.attr("data-re-name",this.name),this.on("click",this.toggle.bind(this)),this.$span=$R.dom("<span>"),this.append(this.$span),this.setTitle(this.lang.parse(this.obj.title))}}),$R.add("service","cleaner",{init:function(e){this.app=e,this.opts=e.opts,this.storedComponents=[],this.storedComments=[],this.storedImages=[],this.storedLinks=[],this.deniedTags=["font","html","head","link","title","body","meta","applet"],this.convertRules={},this.unconvertRules={},this.reComments=/<!--[\s\S]*?-->\n?/g,this.reSpacedEmpty=/^(||\s||<br\s?\/?>||&nbsp;)$/i,this.reScriptTag=/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi},addConvertRules:function(e,t){this.convertRules[e]=t},addUnconvertRules:function(e,t){this.unconvertRules[e]=t},input:function(e,t,n){var a=[];e=this.storeComments(e,a),e=this.encodeCode(e);var s=this.utils.buildWrapper(e);s.find("a, b, i, img, svg, details").removeAttr("onload onerror ontoggle onwheel onmouseover oncopy"),s.find("a").each((function(e){var t=$R.dom(e),n=t.attr("href");n&&-1!==n.search(/^data|javascript:/i)&&t.attr("href","")}));var i=["alt","title","src","class","width","height","srcset","style","usemap"];return s.find("img").each((function(e){if(e.attributes.length>0)for(var t=e.attributes,n=t.length-1;n>=0;n--){(-1===t[n].name.search(/^data-/)&&-1===i.indexOf(t[n].name)||"src"===t[n].name&&-1!==t[n].value.search(/^data|javascript:/i))&&e.removeAttribute(t[n].name)}})),e=(e=(e=this.utils.getWrapperHtml(s)).replace(/\$/g,"&#36;")).replace(/&amp;/g,"&"),e=$R.create("cleaner.figure",this.app).convert(e,this.convertRules),e=this.storeComponents(e),e=this.replaceTags(e,this.opts.replaceTags),e=this._setSpanAttr(e),e=this._setStyleCache(e),e=this.removeTags(e,this.deniedTags),e=this.opts.removeScript?this._removeScriptTag(e):this._replaceScriptTag(e),e=this.opts.removeComments?this.removeComments(e):e,e=this._isSpacedEmpty(e)?this.opts.emptyHtml:e,e=this.restoreComponents(e),e=this._cleanWrapped(e),e=this.restoreComments(e,a),e=t?this.paragraphize(e):e},output:function(e,t){return e=this.removeInvisibleSpaces(e),this.opts.breakline&&(e=(e=e.replace(/<\/(span|strong|b|i|em)><br\s?\/?><\/div>/gi,"</$1></div>")).replace(/<br\s?\/?><\/(span|strong|b|i|em)><\/div>/gi,"</$1></div>")),e=e.replace(/&#36;/g,"$"),this._isSpacedEmpty(e)||this._isParagraphEmpty(e)?"":(e=this.removeServiceTagsAndAttrs(e,t),e=this.storeComponents(e),e=this.removeSpanWithoutAttributes(e),e=this.removeFirstBlockBreaklineInHtml(e),e=this.opts.removeScript?e:this._unreplaceScriptTag(e),e=this.opts.preClass?this._setPreClass(e):e,e=this.opts.linkNofollow?this._setLinkNofollow(e):e,e=this.opts.removeNewLines?this.cleanNewLines(e):e,e=this.restoreComponents(e),e=$R.create("cleaner.figure",this.app).unconvert(e,this.unconvertRules),e=this.removeEmptyAttributes(e,["style","class","rel","alt","title"]),e=this.cleanSpacesInPre(e),e=(e=this.tidy(e)).replace(/&amp;/g,"&"),this.opts.breakline&&(e=(e=e.replace(/<br\s?\/?>/gi,"<br>\n")).replace(/<br\s?\/?>\n+/gi,"<br>\n")),e=""===e.replace(/\n/g,"")?"":e)},paste:function(e){e=(e=this.storeComponents(e)).replace(/<!--[\s\S]*?-->\n?/g,"");var t=this.deniedTags.concat(["iframe"]);e=(e=(e=(e=this.removeTags(e,t)).replace(new RegExp("<!doctype([\\s\\S]+?)>","gi"),"")).replace(new RegExp("<style([\\s\\S]+?)</style>","gi"),"")).replace(new RegExp("</p><br /><p","gi"),"</p><p");var n=this._isHtmlMsWord(e);if(e=this._cleanGDocs(e),e=n?this._cleanMsWord(e):e,!this.opts.pasteClean)return e=this.restoreComponents(e);if(this.opts.pastePlainText)return e=this.restoreComponents(e),this.pastePlainText(e);(s=this.utils.buildWrapper(e)).find("*").removeAttr("style"),s.find("[data-redactor-tag]").each(function(e){var t=$R.dom(e);t.removeAttr("data-redactor-tag"),this.utils.isEmptyHtml(t.html())?t.html("<br>").unwrap():e.lastChild&&"BR"===e.lastChild.tagName?t.unwrap():t.append("<br>").unwrap()}.bind(this)),e=(e=(e=this.utils.getWrapperHtml(s)).replace(/<br\s?\/?>$/,"")).replace(/<br\s?\/?><\/(td|th)>/,"</$1>");var a=this.opts.pasteBlockTags.concat(this.opts.pasteInlineTags);e=this.removeTagsExcept(e,a),e=this.opts.pasteLinks?e:this.removeTags(e,["a"]),e=this.opts.pasteImages?e:this.removeTags(e,["img"]);var s,i=(s=this.utils.buildWrapper(e)).find("*"),o=0!==this.opts.pasteKeepStyle.length?","+this.opts.pasteKeepStyle.join(","):"";i.not("[data-redactor-style-cache]"+o).removeAttr("style");var r=0!==this.opts.pasteKeepClass.length?","+this.opts.pasteKeepClass.join(","):"";i.not("[data-redactor-style-cache], span.redactor-component"+r).removeAttr("class");var c=0!==this.opts.pasteKeepAttrs.length?","+this.opts.pasteKeepAttrs.join(","):"";i.not("img, a, span.redactor-component, [data-redactor-style-cache]"+c).each((function(e){for(var t=e.attributes,n=t.length-1;n>=0;n--)"class"!==e.attributes[n].name&&e.removeAttribute(t[n].name)})),this.opts.pasteLinks&&!1!==this.opts.pasteLinkTarget&&s.find("a").attr("target",this.opts.pasteLinkTarget),s.find("[data-redactor-style-cache]").each((function(e){var t=e.getAttribute("data-redactor-style-cache");e.setAttribute("style",t)}));var _=this.opts.imageAttrs;return s.find("img").each((function(e){if(e.attributes.length>0)for(var t=e.attributes,n=t.length-1;n>=0;n--)-1===_.indexOf(t[n].name)&&e.removeAttribute(t[n].name)})),s.find("span").each((function(e){0===e.attributes.length&&$R.dom(e).unwrap()})),s.find(this.opts.inlineTags.join(",")).each(function(e){0===e.attributes.length&&this.utils.isEmptyHtml(e.innerHTML)&&$R.dom(e).unwrap()}.bind(this)),s.find("ul, ol").each((function(e){var t=e.previousSibling;if(t&&"LI"===t.tagName){var n=$R.dom(t);n.find("p").unwrap(),n.append(e)}})),e=(e=(e=(e=(e=this.utils.getWrapperHtml(s)).replace(/<li><p>/gi,"<li>")).replace(/<\/p><\/li>/gi,"</li>")).replace(/^<li/gi,"<ul><li")).replace(/<\/li>$/gi,"</li></ul>"),this.opts.breakline&&(e=e.replace(/\n/g,"<br>")),e=(e=e.replace(/<p>&nbsp;<\/p>/gi,"<p></p>")).replace(/<p><br\s?\/?><\/p>/gi,"<p></p>"),n&&(e=(e=e.replace(/<p><\/p>/gi,"")).replace(/<p>\s<\/p>/gi,"")),e=this.restoreComponents(e)},pastePlainText:function(e){return e=this.opts.pasteLinks?this.storeLinks(e):e,e=this.opts.pasteImages?this.storeImages(e):e,e=this.getPlainText(e),e=this._replaceNlToBr(e),e=this.opts.pasteLinks?this.restoreLinks(e):e,e=this.opts.pasteImages?this.restoreImages(e):e},tidy:function(e){return e},paragraphize:function(e){var t=$R.create("cleaner.paragraphize",this.app);return e=t.convert(e)},storeComments:function(e,t){var n=e.match(new RegExp("\x3c!--([\\w\\W]*?)--\x3e","gi"));if(null!==n)for(var a=0;a<n.length;a++)e=e.replace(n[a],"#####xstarthtmlcommentzz"+a+"xendhtmlcommentzz#####"),t.push(n[a]);return e},restoreComments:function(e,t){for(var n=0;n<t.length;n++)e=e.replace("#####xstarthtmlcommentzz"+n+"xendhtmlcommentzz#####",t[n]);return e},getFlatText:function(e){var t=$R.dom("<div>");return e.nodeType||e.dom?t.append(e):(e=(e=e.toString()).trim(),t.html(e)),void 0===(e=t.get().textContent||t.get().innerText||"")?"":e},getPlainText:function(e){e=(e=(e=(e=(e=(e=e.replace(/<!--[\s\S]*?-->/gi,"")).replace(/<style[\s\S]*?style>/gi,"")).replace(/<p><\/p>/g,"")).replace(/<\/div>|<\/li>|<\/td>/gi,"\n")).replace(/<\/p>/gi,"\n\n")).replace(/<\/H[1-6]>/gi,"\n\n");var t=document.createElement("div");return t.innerHTML=e,(e=t.textContent||t.innerText).trim()},replaceTags:function(e,t){if(t){var n=this,a=Object.keys(t),s=this.utils.buildWrapper(e);s.find(a.join(",")).each((function(e){n.utils.replaceToTag(e,t[e.tagName.toLowerCase()])})),e=this.utils.getWrapperHtml(s)}return e},replaceNbspToSpaces:function(e){return e.replace("&nbsp;"," ")},replaceBlocksToBr:function(e){return e=e.replace(/<\/div>|<\/li>|<\/td>|<\/p>|<\/H[1-6]>/gi,"<br>")},cleanNewLines:function(e){return e.replace(/\r?\n/g,"")},cleanSpacesInPre:function(e){return e.replace("&nbsp;&nbsp;&nbsp;&nbsp;","    ")},removeInvisibleSpaces:function(e){return e=(e=this.utils.removeInvisibleChars(e)).replace(/&#65279;/gi,"")},removeNl:function(e){return e=(e=e.replace(/\n/g," ")).replace(/\s+/g,"s")},removeBrAtEnd:function(e){return e=(e=e.replace(/<br\s?\/?>$/gi," ")).replace(/<br\s?\/?><li/gi,"<li")},removeTags:function(e,t){var n=t?/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi:/(<([^>]+)>)/gi,a=t?function(e,n){return-1===t.indexOf(n.toLowerCase())?e:""}:"";return e.replace(n,a)},removeTagsExcept:function(e,t){if(void 0===t)return e.replace(/(<([^>]+)>)/gi,"");return e.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,n){return-1===t.indexOf(n.toLowerCase())?"":e}))},removeComments:function(e){return e.replace(this.reComments,"")},removeServiceTagsAndAttrs:function(e,t){var n=this.utils.buildWrapper(e),a=this;return!1!==t&&n.find(".redactor-selection-marker").each((function(e){var t=$R.dom(e);return""===a.utils.removeInvisibleChars(t.text())?t.remove():t.unwrap()})),n.find("[data-redactor-style-cache]").removeAttr("data-redactor-style-cache"),this.utils.getWrapperHtml(n)},removeSpanWithoutAttributes:function(e){var t=this.utils.buildWrapper(e);return t.find("span").removeAttr("data-redactor-span data-redactor-style-cache").each((function(e){0===e.attributes.length&&$R.dom(e).unwrap()})),this.utils.getWrapperHtml(t)},removeFirstBlockBreaklineInHtml:function(e){return e.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>")},removeEmptyAttributes:function(e,t){for(var n=this.utils.buildWrapper(e),a=0;a<t.length;a++)n.find("["+t[a]+'=""]').removeAttr(t[a]);return this.utils.getWrapperHtml(n)},encodeHtml:function(e){return e=(e=(e=(e=(e=(e=e.replace(/<br\s?\/?>/g,"\n")).replace(/&nbsp;/g," ")).replace(/\u201d/g,'"')).replace(/\u201c/g,'"')).replace(/\u2018/g,"'")).replace(/\u2019/g,"'"),e=(e=this.encodeEntities(e)).replace(/\$/g,"&#36;"),this.opts.preSpaces&&(e=e.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))),e},encodeCode:function(e){return e=(e=(e=(e=(e=e.replace(/<(.*?)>/gi,"xtagstartz$1xtagendz")).replace(/xtagstartzpre(.*?)xtagendz/g,"<pre$1>")).replace(/xtagstartzcode(.*?)xtagendz/g,"<code$1>")).replace(/xtagstartz\/codextagendz/g,"</code>")).replace(/xtagstartz\/prextagendz/g,"</pre>"),e=(e=(e=this._encodeCode(e)).replace(/xtagstartz(.*?)xtagendz/g,"<$1>")).replace(/xtagstartz\/(.*?)xtagendz/g,"</$1>")},_encodeCode:function(e){var t=this.utils.buildWrapper(e);return t.find("pre code, pre, code").each(this._encodeNode.bind(this)),this.utils.getWrapperHtml(t)},_encodeNode:function(e){var t=e.firstChild,n=e.innerHTML;if("PRE"!==e.tagName||!t||"CODE"!==t.tagName){n=(n=n.replace(/xtagstartz/g,"<")).replace(/xtagendz/g,">");var a=this.decodeEntities(n);e.textContent=this._encodeNodeHtml(a)}},_encodeNodeHtml:function(e){return e=e.replace(/&nbsp;/g," ").replace(/<br\s?\/?>/g,"\n"),e=this.opts.preSpaces?e.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" ")):e},encodeEntities:function(e){return e=(e=this.decodeEntities(e)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},encodePhpCode:function(e){return e=(e=(e=e.replace("<?php","&lt;?php")).replace("<?","&lt;?")).replace("?>","?&gt;")},decodeEntities:function(e){return String(e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},storeComponents:function(e){var t=this.utils.getElementsFromHtml(e,"figure","table");return this._storeMatched(e,t,"Components","figure")},restoreComponents:function(e){return this._restoreMatched(e,"Components","figure")},storeLinks:function(e){var t=this.utils.getElementsFromHtml(e,"a");return this._storeMatched(e,t,"Links","a")},storeImages:function(e){var t=this.utils.getElementsFromHtml(e,"img");return this._storeMatched(e,t,"Images","img")},restoreLinks:function(e){return this._restoreMatched(e,"Links","a")},restoreImages:function(e){return this._restoreMatched(e,"Images","img")},_cleanWrapped:function(e){return e=e.replace(new RegExp("<p><figure([\\w\\W]*?)</figure></p>","gi"),"<figure$1</figure>")},_cleanGDocs:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2")).replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3")).replace(/<span[^>]*(font-style:\s?italic;\s?font-weight:\s?bold|font-weight:\s?bold;\s?font-style:\s?italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*(font-style:\s?italic;\s?font-weight:\s?600|font-weight:\s?600;\s?font-style:\s?italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*(font-style:\s?italic;\s?font-weight:\s?700|font-weight:\s?700;\s?font-style:\s?italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*font-style:\s?italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>")).replace(/<span[^>]*font-weight:\s?bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<span[^>]*font-weight:\s?700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<span[^>]*font-weight:\s?600[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")},_cleanMsWord:function(e){e=(e=(e=(e=(e=e.replace(/<!--[\s\S]+?-->/gi,"")).replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,"")).replace(/<(\/?)s>/gi,"<$1strike>")).replace(/&nbsp;/gi," ")).replace(/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,(function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}));var t=this.utils.buildWrapper(e);t.find(".MsoFootnoteText").each((function(e){var t=$R.dom(e),n=t.parent();0!==n.length&&-1!==n.attr("style").search(/mso-element:footnote/)&&t.find("a").attr("id","_"+n.attr("id"))})),t.find(".MsoFootnoteReference").each((function(e){var t=$R.dom(e).parent();0!==t.length&&"A"===t.get().tagName&&t.attr("id",t.attr("name"))})),t.find("p").each((function(e){var t=$R.dom(e),n=t.attr("style"),a=/mso-list:\w+ \w+([0-9]+)/.exec(n);a&&t.attr("data-listLevel",parseInt(a[1],10))})),this._parseWordLists(t),t.find("[align]").removeAttr("align"),t.find("[name]").removeAttr("name"),t.find("span").each((function(e){var t=$R.dom(e),n=t.attr("style");/mso-list:Ignore/.exec(n)?t.remove():t.unwrap()})),t.find("[style]").removeAttr("style"),t.find("[class^='Mso']").removeAttr("class"),t.find("a").filter((function(e){return!e.hasAttribute("href")})).unwrap();for(var n="",a=(e=(e=(e=(e=(e=this.utils.getWrapperHtml(t)).replace(/<p[^>]*><\/p>/gi,"")).replace(/<li>\xb7/gi,"<li>")).trim()).replace(/\/(p|ul|ol|h1|h2|h3|h4|h5|h6|blockquote)>\s+<(p|ul|ol|h1|h2|h3|h4|h5|h6|blockquote)/gi,"/$1>\n<$2")).split(/\n/),s=0;s<a.length;s++){var i=""!==a[s]&&-1===a[s].search(/>$/)?" ":"\n";n+=a[s]+i}return n},_parseWordLists:function(e){var t=0,n=null,a=null,s=null;e.find("p").each((function(e){var i=$R.dom(e),o=i.attr("data-listLevel");if(null===o&&i.hasClass("MsoListParagraphCxSpMiddle")&&(o=1),null!==o){var r=i.text(),c=/^\s*\w+\./.test(r)?"<ol></ol>":"<ul></ul>";if(i.hasClass("MsoListParagraphCxSpFirst")||i.hasClass("MsoNormal")?(a=$R.dom(c),i.before(a)):o>t&&0!==t&&(s=$R.dom(c),n.append(s),a=s),o<t)for(var _=t-o+1,l=0;l<_;l++)a=a.parent();i.find("span").first().unwrap(),n=$R.dom("<li>"+i.html().trim()+"</li>"),null===a&&(i.before(c),a=i.prev()),a.append(n),i.remove(),t=o}else a=null,t=0}))},_isSpacedEmpty:function(e){return-1!==e.search(this.reSpacedEmpty)},_isParagraphEmpty:function(e){return-1!==e.search(/^<p><\/p>$/i)},_isHtmlMsWord:function(e){return e.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},_setSpanAttr:function(e){var t=this.utils.buildWrapper(e);return t.find("span").attr("data-redactor-span",!0),this.utils.getWrapperHtml(t)},_setStyleCache:function(e){var t=this.utils.buildWrapper(e);return t.find("[style]").each((function(e){var t=$R.dom(e);t.attr("data-redactor-style-cache",t.attr("style"))})),this.utils.getWrapperHtml(t)},_setPreClass:function(e){var t=this.utils.buildWrapper(e);return t.find("pre").addClass(this.opts.preClass),this.utils.getWrapperHtml(t)},_setLinkNofollow:function(e){var t=this.utils.buildWrapper(e);return t.find("a").attr("rel","nofollow"),this.utils.getWrapperHtml(t)},_replaceScriptTag:function(e){return e.replace(this.reScriptTag,'<script class="redactor-script-tag" $1>$2<\/script>')},_unreplaceScriptTag:function(e){return e.replace(/<script class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/script>/gi,"<script$1>$2<\/script>")},_replaceNlToBr:function(e){return e.replace(/\n/g,"<br />")},_removeScriptTag:function(e){return e.replace(this.reScriptTag,"")},_storeMatched:function(e,t,n,a){if(this["stored"+n]=[],t)for(var s=0;s<t.length;s++)this["stored"+n][s]=t[s],e=e.replace(t[s],"####"+a+s+"####");return e},_restoreMatched:function(e,t,n){if(this["stored"+t])for(var a=0;a<this["stored"+t].length;a++)e=e.replace("####"+n+a+"####",this["stored"+t][a]);return e}}),$R.add("class","cleaner.figure",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.detector=e.detector},convert:function(e,t){var n=this.utils.buildWrapper(e);return n.find("img").each(this._convertImage.bind(this)),n.find("hr").each(this._convertLine.bind(this)),n.find("iframe").each(this._convertIframe.bind(this)),n.find("table").each(this._convertTable.bind(this)),n.find("form").each(this._convertForm.bind(this)),n.find("figure pre").each(this._convertCode.bind(this)),n.find("[data-redactor-type=variable]").addClass("redactor-component"),n.find("figure").not(".redactor-component, .redactor-figure-code").each(this._convertWidget.bind(this)),n.find("figure pre").each(this._setContenteditableCode.bind(this)),n.find(".redactor-component, .non-editable").attr("contenteditable",!1),this.detector.isIe()&&n.find("[data-redactor-type=table]").removeAttr("contenteditable"),n.find("figcaption, td, th").attr("contenteditable",!0),n.find(".redactor-component, figcaption").attr("tabindex","-1"),this._acceptExtraRules(n,t),this.utils.getWrapperHtml(n)},unconvert:function(e,t){e=(e=e.replace(/<\/([^>]+)><div data-redactor-tag/g,"</$1>\n<div data-redactor-tag")).replace(/<\/([^>]+)><p/g,"</$1>\n<p");var n=this.utils.buildWrapper(e);return n.find("th, td, figcaption, figure, pre, code, .redactor-component").removeAttr("contenteditable tabindex"),n.find("figure").removeClass("redactor-component redactor-component-active redactor-uploaded-figure"),n.find("[data-redactor-type=variable]").removeClass("redactor-component redactor-component-active"),n.find("figure[data-redactor-type=line]").unwrap(),n.find("figure[data-redactor-type=widget]").each(this._unconvertWidget.bind(this)),n.find("figure[data-redactor-type=form]").each(this._unconvertForm.bind(this)),n.find("figure[data-redactor-type=table]").each(this._unconvertTable.bind(this)),n.find("figure[data-redactor-type=image]").removeAttr("rel").each(this._unconvertImages.bind(this)),n.find("img").removeAttr("data-redactor-type").removeClass("redactor-component"),n.find(".non-editable").removeAttr("contenteditable"),n.find("figure").each(this._removeTypes.bind(this)),n.find("span.redactor-component-caret").remove(),n=this._unconvertBreakTag(n),this._acceptExtraRules(n,t),e=(e=(e=this.utils.getWrapperHtml(n)).replace(/<br\s?\/?>$/,"")).replace(/<br\s?\/?><\/(td|th)>/,"</$1>")},_convertImage:function(e){var t=$R.dom(e);if(!this._isNonEditable(t)){this.opts.imageObserve&&!t.attr("data-image")&&t.attr("data-image",this.utils.getRandomId());var n=t.closest("a"),a=t.closest("figure");if(0===a.children().not("a, img, br, figcaption").length){if(0===a.length){var s=0!==n.length?n.closest("p"):t.closest("p");if(!1===this.opts.imageFigure&&0!==s.length)(a=this.utils.replaceToTag(s,"figure")).addClass("redactor-replace-figure");else 0!==s.length&&s.unwrap(),a=0!==n.length?n.wrap("<figure>"):t.wrap("<figure>")}else a.hasClass("redactor-uploaded-figure")?a.removeClass("redactor-uploaded-figure"):a.addClass("redactor-keep-figure");this._setFigure(a,"image")}}},_convertTable:function(e){if(!this._isNonEditable(e)){var t=this._wrapFigure(e);this._setFigure(t,"table")}},_convertLine:function(e){if(!this._isNonEditable(e)){var t=this._wrapFigure(e);this._setFigure(t,"line")}},_convertForm:function(e){if(!this._isNonEditable(e)){var t=this.utils.replaceToTag(e,"figure");this._setFigure(t,"form")}},_convertIframe:function(e){if(!this._isNonEditable(e)&&0===$R.dom(e).closest(".redactor-component").length){var t=e.getAttribute("src"),n=t&&(t.match(this.opts.regex.youtube)||t.match(this.opts.regex.vimeo)),a=this._wrapFigure(e);n&&this._setFigure(a,"video")}},_convertCode:function(e){if(!this._isNonEditable(e)){var t=this._wrapFigure(e);this._setFigure(t,"code")}},_convertWidget:function(e){if(!this._isNonEditable(e)){var t=$R.dom(e);t.addClass("redactor-component"),t.attr("data-redactor-type","widget"),t.attr("data-widget-code",encodeURI(e.innerHTML.trim()))}},_unconvertBreakTag:function(e){return e.find("[data-redactor-tag]").each(function(e){var t=$R.dom(e);if(t.removeAttr("data-redactor-tag"),0===e.attributes.length)if(e.lastChild&&"BR"===e.lastChild.tagName)t.unwrap();else{var n=t.nextElement();0!==n.length&&n.attr("data-redactor-tag")&&e.appendChild(document.createElement("br")),t.unwrap()}else e.lastChild&&"BR"===e.lastChild.tagName&&$R.dom(e.lastChild).remove()}.bind(this)),e},_unconvertForm:function(e){this.utils.replaceToTag(e,"form")},_unconvertTable:function(e){$R.dom(e).unwrap()},_unconvertWidget:function(e){var t=$R.dom(e);t.html(decodeURI(t.attr("data-widget-code"))),t.removeAttr("data-widget-code")},_unconvertImages:function(e){var t=$R.dom(e);t.removeClass("redactor-component");var n=0!==t.closest("li").length,a=0!==t.closest("table").length,s=0!==t.find("figcaption").length,i=t.attr("style"),o=!(null===i||""===i),r=""!==t.attr("class");(n||a&&!s&&!o&&!r)&&t.unwrap()},_removeTypes:function(e){var t=$R.dom(e),n=t.attr("data-redactor-type");if(n&&-1!==["image","widget","line","video","code","form","table"].indexOf(n)&&t.removeAttr("data-redactor-type"),t.hasClass("redactor-keep-figure"))t.removeClass("redactor-keep-figure");else if("image"===n&&!1===this.opts.imageFigure){0!==t.find("figcaption").length||(t.hasClass("redactor-replace-figure")?(t.removeClass("redactor-replace-figure"),this.utils.replaceToTag(t,"p")):this.utils.replaceToTag(t,"p"))}t.removeClass("redactor-replace-figure")},_wrapFigure:function(e){var t=$R.dom(e),n=t.closest("figure");return 0===n.length?t.wrap("<figure>"):n},_setFigure:function(e,t){e.addClass("redactor-component"),e.attr("data-redactor-type",t)},_setContenteditableCode:function(e){if(!this._isNonEditable(e)){var t=$R.dom(e),n=t.children("code").first();(0!==n.length?n:t).attr("contenteditable",!0).attr("tabindex","-1")}},_acceptExtraRules:function(e,t){for(var n in t)"function"===typeof t[n]&&t[n](e)},_isNonEditable:function(e){return 0!==$R.dom(e).closest(".non-editable").length}}),$R.add("class","cleaner.paragraphize",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.cleaner=e.cleaner,this.element=e.element,this.stored=[],this.remStart="#####replace",this.remEnd="#####",this.paragraphizeTags=["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"]},convert:function(e){var t=this._isConverted(e);return t=!0===t?this._convert(e):t,t=this._convertTable(t)},_convert:function(e,t){var n=this.opts.breakline||t?"sdivtag":this.opts.markup,a=t?"tbr":"br";e=this._storeTags(e);var s=[];e=(e=this.cleaner.storeComments(e,s)).trim(),e=this._trimLinks(e);var i=this.opts.inlineTags.join("|");e=(e=(e=(e=(e=e.replace(new RegExp("<("+i+")(.*?[^>]?)>\n</("+i+")>","gi"),"<$1$2></$3>")).replace(/xparagraphmarkerz(?:\r\n|\r|\n)$/g,"")).replace(/xparagraphmarkerz$/g,"")).replace(/xparagraphmarkerz(?:\r\n|\r|\n)/g,"\n")).replace(/xparagraphmarkerz/g,"\n");for(var o="",r=(e=this.opts.breakline?(e=(e=e.replace(/<br\s?\/?>(?:\r\n|\r|\n)/gi,"xbreakmarkerz\n")).replace(/<br\s?\/?>/gi,"xbreakmarkerz\n")).replace(/xbreakmarkerz\n<\//gi,"xbreakmarkerz</"):e.replace(/[\n]+/g,"\n")).split("\n"),c=0;c<r.length;c++)o+="<"+n+">"+r[c]+"</"+n+">\n";return e=(e=(e=(e=o.replace(/\n$/,"")).replace(new RegExp("<"+n+">\\s+#####","gi"),"#####")).replace(new RegExp("<"+n+">#####","gi"),"#####")).replace(new RegExp("#####</"+n+">","gi"),"#####"),e=this.opts.breakline?e.replace(/xbreakmarkerz/gi,"<br>"):e,e=this._restoreTags(e),e=this.cleaner.restoreComments(e,s),this.opts.breakline&&(e=e.replace(new RegExp("<"+n+"></"+n+">","gi"),"<"+n+"><br></"+n+">")),e=(e=(e=e.replace(new RegExp("<sdivtag>","gi"),'<div data-redactor-tag="'+a+'">')).replace(new RegExp("sdivtag","gi"),"div")).replace(/<\/([^>]+)><div data-redactor-tag/g,"</$1>\n<div data-redactor-tag")},_convertTable:function(e){var t=this.utils.buildWrapper(e);return t.find("td, th").each(this._convertCell.bind(this)),e=this.utils.getWrapperHtml(t)},_convertCell:function(e){var t=$R.dom(e);this.stored=[];var n=this._convert(t.html(),!0);t.html(n)},_storeTags:function(e){var t=this,n=this.utils.buildWrapper(e);return n.find(this.paragraphizeTags.join(", ")).each((function(e,n){var a=document.createTextNode(t.remStart+n+t.remEnd+"xparagraphmarkerz");t.stored.push(e.outerHTML),e.parentNode.replaceChild(a,e)})),this.utils.getWrapperHtml(n)},_restoreTags:function(e){for(var t=0;t<this.stored.length;t++)this.stored[t]=this.stored[t].replace(/\$/g,"&#36;"),e=e.replace(this.remStart+t+this.remEnd,this.stored[t]);return e},_trimLinks:function(e){var t=this.utils.buildWrapper(e);return t.find("a").each(this._trimLink.bind(this)),e=this.utils.getWrapperHtml(t)},_trimLink:function(e){var t=$R.dom(e);t.html(t.html().trim())},_isConverted:function(e){return this._isDisabled(e)?e:!this._isEmptyHtml(e)||this.opts.emptyHtml},_isDisabled:function(){return!1===this.opts.paragraphize||this.element.isType("inline")},_isEmptyHtml:function(e){return""===e||"<p></p>"===e||"<div></div>"===e}}),$R.add("service","detector",{init:function(e){this.app=e,this.userAgent=navigator.userAgent.toLowerCase()},isWebkit:function(){return/webkit/.test(this.userAgent)},isFirefox:function(){return this.userAgent.indexOf("firefox")>-1},isIe:function(e){return document.documentMode||/Edge/.test(navigator.userAgent)?"edge":((t=RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent))||(t=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),t);var t},isMobile:function(){return/(iPhone|iPod|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}),$R.add("service","offset",{init:function(e){this.app=e},get:function(e,t){var n={start:0,end:0},a=this.utils.getNode(e);if(!a)return!1;var s=this.editor.isEditor(a),i=!!s||this.selection.isIn(a),o=this.selection.getRange();if(s||i){if(this.selection.is()&&i){var r=$R.dom(o.startContainer).hasClass("redactor-component")?o.startOffset:0,c=o.cloneRange();c.selectNodeContents(a),c.setEnd(o.startContainer,o.startOffset);var _=this._getString(o,t);n.start=this._getString(c,t).length-r,n.end=n.start+_.length+r}}else n=!1;return n},set:function(e,t){if(!this._setComponentOffset(t)){this.component.clearActive();var n=this.utils.getNode(t);if(n){var a=this.size(n),s=0,i=document.createRange();e.end=e.end>a?a:e.end,i.setStart(n,0),i.collapse(!0);for(var o=[n],r=!1,c=!1;!c&&(n=o.pop());)if(3===n.nodeType){var _=s+n.length;!r&&!this._isFigcaptionNext(n)&&e.start>=s&&e.start<=_&&(i.setStart(n,e.start-s),r=!0),r&&e.end>=s&&e.end<=_&&(i.setEnd(n,e.end-s),c=!0),s=_}else for(var l=n.childNodes.length;l--;)o.push(n.childNodes[l]);this.selection.setRange(i)}}},size:function(e,t){var n=this.utils.getNode(e);if(n){var a=document.createRange().cloneRange();return a.selectNodeContents(n),this._getString(a,t).length}return 0},_getString:function(e,t){var n=e.toString();return n=this.editor.isEmpty()?n.replace(/\uFEFF/g,""):n,n=t?n.trim():n},_setComponentOffset:function(e){return!!this.component.isNonEditable(e)&&this.component.setActive(e)},_isFigcaptionNext:function(e){var t=e.nextSibling;return""===e.nodeValue.trim()&&t&&"FIGCAPTION"===t.tagName}}),$R.add("service","inspector",{init:function(e){this.app=e},parse:function(e){return $R.create("inspector.parser",this.app,this,e)},isText:function(e){if("string"===typeof e&&!/^\s*<(\w+|!)[^>]*>/.test(e))return!0;var t=$R.dom(e).get();return t&&3===t.nodeType},isInlineTag:function(e,t){var n=this._extendTags(this.opts.inlineTags,t);return this._isTag(e)&&-1!==n.indexOf(e.toLowerCase())},isBlockTag:function(e,t){var n=this._extendTags(this.opts.blockTags,t);return this._isTag(e)&&-1!==n.indexOf(e.toLowerCase())},isTableCellTag:function(e){return-1!==["td","th"].indexOf(e.toLowerCase())},isHeadingTag:function(e){return-1!==["h1","h2","h3","h4","h5","h6"].indexOf(e.toLowerCase())},_isTag:function(e){return void 0!==e&&e},_extendTags:function(e,t){if(e=e.concat(e),t)for(var n=0;n<t.length;n++)e.push(t[n]);return e}}),$R.add("class","inspector.parser",{init:function(e,t,n){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.editor=e.editor,this.selection=e.selection,this.inspector=t,this.el=n,this.$el=$R.dom(this.el,".redactor-in-"+this.uuid),this.node=this.$el.get(),this.node&&8===this.node.nodeType&&(this.node=!1),this.$component=this.$el.closest(".redactor-component",".redactor-in")},isEditor:function(){return this.node===this.editor.getElement().get()},isInEditor:function(){return 0!==this.$el.parents(".redactor-in-"+this.uuid).length},isComponent:function(){return 0!==this.$component.length},isComponentType:function(e){return this.getComponentType()===e},isComponentActive:function(){return this.isComponent()&&this.$component.hasClass("redactor-component-active")},isComponentEditable:function(){var e=this.getComponentType();return this.isComponent()&&-1!==["code","table"].indexOf(e)},isFigcaption:function(){return this.getFigcaption()},isPre:function(){return this.getPre()},isCode:function(){var e=this.$el.closest("code"),t=e.parent("pre");return 0!==e.length&&0===t.length},isList:function(){return this.getList()},isFirstListItem:function(){return this._getLastOrFirstListItem("first")},isLastListItem:function(){return this._getLastOrFirstListItem("last")},isFirstTableCell:function(){return this._getLastOrFirstTableCell("first")},isLastTableCell:function(){return this._getLastOrFirstTableCell("last")},isTable:function(){return this.isComponentType("table")||this.getTable()},isHeading:function(){return this.getHeading()},isBlockquote:function(){return this.getBlockquote()},isDl:function(){return this.getDl()},isParagraph:function(){return this.getParagraph()},isLink:function(){return this.getLink()},isFile:function(){return this.getFile()},isText:function(){return this.inspector.isText(this.el)},isInline:function(){var e=this.opts.inlineTags;return!!this.isElement()&&-1!==e.indexOf(this.node.tagName.toLowerCase())},isBlock:function(){var e=this.opts.blockTags;return!!this.isElement()&&-1!==e.indexOf(this.node.tagName.toLowerCase())},isElement:function(){return this.node&&this.node.nodeType&&3!==this.node.nodeType},hasParent:function(e){return 0!==this.$el.closest(e.join(",")).length},getNode:function(){return this.node},getTag:function(){return!!this.isElement()&&this.node.tagName.toLowerCase()},getComponent:function(){return!!this.isComponent()&&this.$component.get()},getComponentType:function(){return!!this.isComponent()&&this.$component.attr("data-redactor-type")},getFirstNode:function(){return this.utils.getFirstNode(this.node)},getLastNode:function(){return this.utils.getLastNode(this.node)},getFirstElement:function(){return this.utils.getFirstElement(this.node)},getLastElement:function(){return this.utils.getLastElement(this.node)},getFigcaption:function(){return this._getClosestNode("figcaption")},getPre:function(){return this._getClosestNode("pre")},getCode:function(){return this._getClosestNode("code")},getList:function(){return this._getClosestNode("ul, ol")},getParentList:function(){return this._getClosestUpNode("ul, ol")},getListItem:function(){return this._getClosestNode("li")},getTable:function(){return this.getComponentType("table")?this.$component.find("table").get():this._getClosestNode("table")},getTableCell:function(){var e=this.$el.closest("td, th");return 0!==e.length&&e.get()},getComponentCodeElement:function(){return!!this.isComponentType("code")&&this.$component.find("pre code, pre").last().get()},getImageElement:function(){return!!this.isComponentType("image")&&this.$component.find("img").get()},getParagraph:function(){return this._getClosestNode("p")},getHeading:function(){return this._getClosestNode("h1, h2, h3, h4, h5, h6")},getDl:function(){return this._getClosestNode("dl")},getBlockquote:function(){return this._getClosestNode("blockquote")},getLink:function(){var e=this.isComponent()&&!this.isFigcaption();if(this.isComponentType("table")||!e){var t=this._getClosestElement("a");return!(!t||t.attr("data-file"))&&t.get()}return!1},getFile:function(){var e=this.isComponent();if(this.isComponentType("table")||!e){var t=this._getClosestElement("a");return!(!t||!t.attr("data-file"))&&t.get()}return!1},findFirstNode:function(e){return this.$el.find(e).first().get()},findLastNode:function(e){return this.$el.find(e).last().get()},_getLastOrFirstListItem:function(e){var t=this.getList(),n=this.getTag();if(t&&"li"===n){var a=$R.dom(t).find("li")[e]().get();if(a&&this.node===a)return!0}return!1},_getLastOrFirstTableCell:function(e){var t=this.getTable(),n=this.getTag();if(t&&("td"===n||"th"===n)){var a=$R.dom(t).find("td, th")[e]().get();if(a&&this.node===a)return!0}return!1},_getClosestUpNode:function(e){var t=this.$el.parents(e,".redactor-in-"+this.uuid).last();return 0!==t.length&&t.get()},_getClosestNode:function(e){var t=this.$el.closest(e,".redactor-in-"+this.uuid);return 0!==t.length&&t.get()},_getClosestElement:function(e){var t=this.$el.closest(e,".redactor-in-"+this.uuid);return 0!==t.length&&t}}),$R.add("service","marker",{init:function(e){this.app=e},build:function(e,t){var n=document.createElement("span");return n.id="selection-marker-"+this._getPos(e),n.className="redactor-selection-marker",n.innerHTML=this.opts.markerChar,t?n.outerHTML:n},buildHtml:function(e){return this.build(e,!0)},insert:function(e){this.remove();var t="both"!==e&&("start"===e||this.selection.isCollapsed());this.selection.is()||this.editor.focus();var n=this.selection.getRange();if(n){var a=this.build("start"),s=this.build("end"),i=n.cloneRange();return t||(i.collapse(!1),i.insertNode(s)),i.setStart(n.startContainer,n.startOffset),i.collapse(!0),i.insertNode(a),n.setStartAfter(a),t||n.setEndBefore(s),this.selection.setRange(n),a}},find:function(e,t){var n=this.editor.getElement(),a=(t||n).find("span#selection-marker-"+this._getPos(e));return 0!==a.length&&a.get()},restore:function(){var e=this.find("start"),t=this.find("end"),n=this.selection.getRange();if(n&&this.selection.is()||(this.editor.focus(),n=document.createRange()),e){var a=!!t&&t.previousSibling,s=e.nextSibling;s=(!s||3!==s.nodeType||""!==s.textContent.replace(/[\n\t]/g,""))&&s,t?s&&"selection-marker-end"===s.id?this._restoreInject(n,e):a&&s?(n.selectNodeContents(a),n.collapse(!1),n.setStart(s,0)):a&&!s?(n.selectNodeContents(a),n.collapse(!1),n.setStartAfter(e)):(n.setStartAfter(e),n.setEndBefore(t)):s?(n.selectNodeContents(s),n.collapse(!0)):this._restoreInject(n,e),this.selection.setRange(n),e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t)}},remove:function(){var e=this.find("start"),t=this.find("end");e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t)},_getPos:function(e){return void 0===e?"start":e},_restoreInject:function(e,t){var n=this.utils.createInvisibleChar();$R.dom(t).after(n),e.selectNodeContents(n),e.collapse(!1)}}),$R.add("service","component",{init:function(e){this.app=e,this.activeClass="redactor-component-active"},create:function(e,t){return $R.create(e+".component",this.app,t)},build:function(e){var t,n=$R.dom(e).attr("data-redactor-type");return n&&(t=this.create(n,e)),t||e},remove:function(e,t){var n=$R.dom(e).closest(".redactor-component"),a=n.attr("data-redactor-type"),s=n.parent(),i=this.inspector.parse(s),o=this.utils.findSiblings(n,"prev"),r=this.utils.findSiblings(n,"next");if(!1!==this.app.broadcast(a+".delete",n)){if(n.remove(),this.app.broadcast(a+".deleted",n),this.app.broadcast("contextbar.close"),this.app.broadcast("imageresizer.stop"),!1!==t){var c=i.getTableCell();c&&this.utils.isEmptyHtml(c.innerHTML)?this.caret.setStart(c):r?this.caret.setStart(r):o?this.caret.setEnd(o):this.editor.startFocus()}this.editor.isEmpty()&&(this.editor.setEmpty(),this.editor.startFocus(),this.app.broadcast("empty"))}},isNonEditable:function(e){var t=this.inspector.parse(e);return t.isComponent()&&!t.isComponentEditable()},isActive:function(e){if(e){var t=this.inspector.parse(e);return $R.dom(t.getComponent()).hasClass(this.activeClass)}return 0!==this._find().length},getActive:function(e){var t=this._find();return 0!==t.length&&(e?t:t.get())},setActive:function(e){this.clearActive(),this.editor.focus();var t=this.inspector.parse(e),n=t.getComponent(),a=$R.dom(n);if(!t.isFigcaption()){var s=a.find(".redactor-component-caret");0===s.length&&(s=this._buildCaret(),a.prepend(s)),this.caret.setAtStart(s.get())}a.addClass(this.activeClass)},clearActive:function(){var e=this._find();e.removeClass(this.activeClass),e.find(".redactor-component-caret").remove(),this.app.broadcast("imageresizer.stop")},setOnEvent:function(e,t){this.clearActive();var n=this.inspector.parse(e.target);n.isFigcaption()||n.isComponentEditable()||n.isComponent()&&(this.setActive(e.target),!0!==t&&e.preventDefault())},executeScripts:function executeScripts(scripts){if(void 0===scripts){var $editor=this.editor.getElement(),scripts=$editor.find("[data-redactor-type]").find("script").getAll();this.executeScripts.call(this,scripts)}else for(var i=0;i<scripts.length;i++){if(""!==scripts[i].src){var src=scripts[i].src;this.$doc.find('head script[src="'+src+'"]').remove();var $script=$R.dom("<script>");$script.attr("src",src),$script.attr("async defer"),$script.get().onload=function(){-1!==src.search("instagram")&&window.instgrm.Embeds.process(),this.executeScripts(scripts.slice(i+1))}.bind(this);var head=document.getElementsByTagName("head")[0];head&&head.appendChild($script.get());break}try{eval(scripts[i].innerHTML)}catch(e){}}},_find:function(){return this.editor.getElement().find("."+this.activeClass)},_buildCaret:function(){var e=$R.dom("<span>");return e.addClass("redactor-component-caret"),e.attr("contenteditable",!0),e}}),$R.add("service","insertion",{init:function(e){this.app=e},set:function(e,t,n){return null===e&&(e=""),e=!1!==t?this.cleaner.input(e):e,e=!1!==t?this.cleaner.paragraphize(e):e,this.editor.getElement().html(e),!1!==n&&this.editor.endFocus(),e},insertNode:function(e,t){this.editor.focus();var n=this.utils.isFragment(e)?e:this.utils.createFragment(e);return this._collapseSelection(),this._insertFragment(n),this._setCaret(t,n),this._sendNodes(n.nodes)},insertBreakLine:function(){return this.insertNode(document.createElement("br"),"after")},insertNewline:function(){return this.insertNode(document.createTextNode("\n"),"after")},insertText:function(e){return this.insertHtml(this.cleaner.getFlatText(e))},insertChar:function(e){return this.insertNode(e,"after")},insertRaw:function(e){return this.insertHtml(e,!1)},insertToEnd:function(e,t){if(e){3===e.nodeType&&-1!==e.nodeValue.search(/^\n/)&&(e=e.previousElementSibling);var n=$R.dom(e);if(n.attr("data-redactor-type")===t){var a=this.opts.breakline?"<br>":"<p>",s=$R.dom(a);n.after(s),this.caret.setStart(s)}}},insertPoint:function(e){var t,n=this.marker.build("start"),a=!1,s=e.clientX,i=e.clientY;if(document.caretPositionFromPoint){var o=document.caretPositionFromPoint(s,i),r=document.getSelection();this.inspector.parse(o.offsetNode).isInEditor()&&((t=r.getRangeAt(0)).setStart(o.offsetNode,o.offset),t.collapse(!0),t.insertNode(n),a=!0)}else document.caretRangeFromPoint&&(t=document.caretRangeFromPoint(s,i),this.inspector.parse(t.startContainer).isInEditor()&&(t.insertNode(n),a=!0));return a},insertToPoint:function(e,t,n,a){if(!(!0===n||this.insertPoint(e))){var s=this.editor.getLastNode();$R.dom(s).after(this.marker.build("start"))}return this.component.clearActive(),this.selection.restoreMarkers(),this.insertHtml(t,a)},insertToOffset:function(e,t){return this.offset.set({start:e,end:e}),this.insertHtml(t)},insertHtml:function(e,t){if(this.opts.input){var n=this.utils.parseHtml(e);if(this.selection.isAll())return this._insertToAllSelected(n);if(!this.selection.is()){var a=$R.dom("<p>");this.editor.getElement().append(a),this.caret.setStart(a)}var s=this.selection.isCollapsed(),i=this.selection.isText(),o=this.selection.getCurrent(),r=this.selection.getBlock(),c=this.inspector.parse(o);this._collapseSelection(),n=this._getCleanedInput(n,c,t);var _,l,u=this._isFigure(n.html),d=this._isComponentSpan(n.html),p=this.inspector.isText(n.html);if(this.editor.isEmpty())return this._insertToEmptyEditor(n.html);if(c.isComponent()&&!c.isComponentEditable())return this._insertToWidget(o,c,n.html);if(d)return this.insertNode(n.nodes,"end");if(u&&!i&&!c.isList())return c.isInline()?this._insertToInline(o,n):(_=this.utils.createFragment(n.html),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes));if(c.isCode())return this._insertToCode(n,o,t);if(c.isPre())return this._insertToPre(n,t);if(c.isHeading()||c.isFigcaption())return n.html=!1!==t?this.cleaner.removeTagsExcept(n.html,["a"]):n.html,n.html=!1!==t?this.cleaner.replaceNbspToSpaces(n.html):n.html,_=this.utils.createFragment(n.html),this.insertNode(_,"end");if(this.opts.breakline&&r&&"DIV"===r.tagName){n.html=!1!==t?this.cleaner.paragraphize(n.html):n.html,_=this.utils.createFragment(n.html);var m=this.selection.getRange();return m&&this.selection.isCollapsed()&&m.deleteContents(),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes)}if(p)return!i&&"br"!==this.opts.markup&&this._hasBlocksAndImages(n.nodes)?(n.html=!1!==t?this.cleaner.paragraphize(n.html):n.html,_=this.utils.createFragment(n.html),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes)):(n.html=!1!==t?n.html.replace(/\n/g,"<br>"):n.html,_=this.utils.createFragment(n.html),this.insertNode(_.nodes,"end"));if(!s&&!u)return this._isPlainHtml(n.html)?this.insertNode(n.nodes,"end"):(n.html=!1!==t?this.cleaner.paragraphize(n.html):n.html,_=this.utils.createFragment(n.html),this.insertNode(_,"end"));if(c.isInline()&&!this._isPlainHtml(n.html))return this._insertToInline(o,n);if(c.isBlockquote()||c.isDl())return(l=this.opts.inlineTags).concat(["br"]),n.html=!1!==t?this.cleaner.replaceBlocksToBr(n.html):n.html,n.html=!1!==t?this.cleaner.removeTagsExcept(n.html,l):n.html,_=this.utils.createFragment(n.html),this.insertNode(_,"end");if(c.isParagraph())return this._isPlainHtml(n.html)?this.insertNode(n.nodes,"end"):(n.html=!1!==t?this.cleaner.paragraphize(n.html):n.html,_=this.utils.createFragment(n.html),this.utils.splitNode(o,_),this.caret.setEnd(_.last),this._sendNodes(_.nodes));if(c.isList()&&(l=(l=this.opts.inlineTags).concat(["br","li","ul","ol","img"]),n.html=!1!==t?this.cleaner.replaceBlocksToBr(n.html):n.html,n.html=!1!==t?this.cleaner.removeTagsExcept(n.html,l):n.html,n.html=!1!==t?this.cleaner.removeBrAtEnd(n.html):n.html,_=this.utils.createFragment(n.html),n.nodes=_.nodes,this._containsTags(n.html,["ul","ol","li"]))){var h=this.selection.getElement(o);if(h&&"LI"===h.tagName&&this.caret.isStart(h)){n.nodes=$R.dom(_.nodes).unwrap("ul, ol").getAll(),$R.dom(h).before(n.nodes);var f=n.nodes[n.nodes.length-1];return this.caret.setEnd(f),this._sendNodes(n.nodes)}return this._isPlainHtml(n.html)?this.insertNode(_,"end"):(_=this._buildList(n,h,_),this.utils.splitNode(o,_,!0),this.caret.setEnd(_.last),this._sendNodes(_.nodes))}return this.insertNode(n.nodes,"end")}},_insertToAllSelected:function(e){var t=this.set(e.html),n=this.utils.parseHtml(t);return this._sendNodes(n.nodes)},_insertToEmptyEditor:function(e){e=this.cleaner.paragraphize(e);var t=this.utils.createFragment(e),n=this.editor.getElement();return n.html(""),n.append(t.frag),this.caret.setEnd(t.last),this._sendNodes(t.nodes)},_insertToInline:function(e,t){var n=this.utils.createFragment(t.html);return this.utils.splitNode(e,n,!1,!0),this.caret.setEnd(n.last),this._sendNodes(n.nodes)},_insertToCode:function(e,t,n){e.html=!1!==n?this.cleaner.encodeHtml(e.html):e.html,e.html=!1!==n?this.cleaner.removeNl(e.html):e.html;var a=this.utils.createFragment(e.html),s=this.insertNode(a,"end");return this.utils.normalizeTextNodes(t),s},_insertToPre:function(e,t){e.html=!1!==t?this.cleaner.encodeHtml(e.html):e.html;var n=this.utils.createFragment(e.html);return this.insertNode(n,"end")},_insertToWidget:function(e,t,n){n=this._isComponentSpan(n)?n:this.cleaner.paragraphize(n);var a=this.utils.createFragment(n),s=t.getComponent(),i=$R.dom(s);return i.after(a.frag),i.remove(),this.caret.setEnd(a.last),this._sendNodes(a.nodes)},_insertFragment:function(e){var t=this.selection.getRange();if(t){if(this.selection.isCollapsed()){var n=t.startContainer;3!==n.nodeType&&"BR"===n.tagName&&(this.caret.setAfter(n),n.parentNode.removeChild(n))}else t.deleteContents();t.insertNode(e.frag)}},_sendNodes:function(e){for(var t=0;t<e.length;t++){var n=e[t],a=3!==n.nodeType&&"function"===typeof n.getAttribute&&n.getAttribute("data-redactor-type");a&&this.app.broadcast(a+".inserted",this.component.build(n))}return this.detector.isIe()&&this.editor.getElement().find("[data-redactor-type=table]").attr("contenteditable",!0),this.app.broadcast("inserted",e),this.component.executeScripts(),e},_setCaret:function(e,t){var n=this._isLastInline(t);e?(e=n&&"end"===e?"after":e,this.caret["set"+this.utils.ucfirst(e)](t.last)):!1!==e&&n&&this.caret.setAfter(t.last)},_isLastInline:function(e){return!!e.last&&this.inspector.parse(e.last).isInline()},_getCleanedInput:function(e,t,n){var a=t.isCode()||t.isPre();return e.html=e.html.replace(/&nbsp;/g," "),e.html=a||!1===n?e.html:this.cleaner.input(e.html),e=a||!1===n?e:this.utils.parseHtml(e.html)},_getContainer:function(e){return $R.dom(this.utils.createTmpContainer(e))},_buildList:function(e,t,n){var a=e.nodes[0];if(a&&3!==a.nodeType&&"li"===a.tagName){var s=$R.dom(t).get().tagName.toLowerCase(),i=$R.dom("<"+s+" />");return i.append(n.nodes),this.utils.createFragment(i.get().outerHTML)}return n},_containsTags:function(e,t){return 0!==this._getContainer(e).find(t.join(",")).length},_collapseSelection:function(){},_hasFigureOrTable:function(e){return 0!==this._getContainer(e).find("figure, table").length},_hasBlocks:function(e){return 0!==this._getContainer(e).find(this.opts.blockTags.join(",")).length},_hasBlocksAndImages:function(e){return 0!==this._getContainer(e).find(this.opts.blockTags.join(",")+",img").length},_isPlainHtml:function(e){return 0===this._getContainer(e).find(this.opts.blockTags.join(",")+", img").length},_isFigure:function(e){if(this._isHtmlString(e))return 0!==$R.dom(e).closest("figure").length},_isComponentSpan:function(e){if(this._isHtmlString(e))return 0!==$R.dom(e).closest("span.redactor-component").length},_isHtmlString:function(e){return!("string"===typeof e&&!/^\s*<(\w+|!)[^>]*>/.test(e))}}),$R.add("service","block",{init:function(e){this.app=e,this.tags=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"]},format:function(e){return this.params={args:!1},this.params.type=e.type?e.type:"set",this.params.tag="string"===typeof e?e:e.tag||this.opts.markup,this.params.tag=this.params.tag.toLowerCase(),this.params.args={class:e.class||!1,style:e.style||!1,attr:e.attr||!1},e.class||e.style||e.attr||(this.params.args=!1),this._format()},add:function(e,t){return this._apply("add",e,t)},set:function(e,t){return this._apply("set",e,t)},toggle:function(e,t){return this._apply("toggle",e,t)},remove:function(e,t){return this._apply("remove",e,t)},clearFormat:function(e){return this._clear(e,"all")},clearStyle:function(e){return this._clear(e,"style")},clearClass:function(e){return this._clear(e,"class")},clearAttr:function(e){return this._clear(e,"attr")},_format:function(){var e=[];this.collapsed=this.selection.isCollapsed(),this.selection.save();this.selection.getBlock();var t=this._getBlocks(),n=this._isToggleFormatType(t)?"toggle":"set",a=this._getReplacedTag(n);return e=this._replaceBlocks(t,a),e=this._buildNodes(e),this._restoreSelection(e),e},_clear:function(e,t,n,a){!1!==n&&this.selection.save();var s=this._getElements(e,a);return"all"===t?this._removeAllAttr(s,!1):"style"===t?(s.removeAttr("style"),s.removeAttr("data-redactor-style-cache")):"class"===t?s.removeAttr("class"):"attr"===t&&this._removeAllAttr(s),a=s.getAll(),!1!==n&&this._restoreSelection(a),a},_getElements:function(e,t){return t?$R.dom(t):$R.dom(this._getBlocks(e))},_getBlocks:function(e){for(var t=this.selection.getBlocks({tags:e||this.tags}),n=[],a=0;a<t.length;a++)("DIV"!==t[a].tagName||t[a].getAttribute("data-redactor-tag"))&&n.push(t[a]);return n},_getReplacedTag:function(e){return this.opts.breakline?"toggle"===e||"p"===this.params.tag?"div":this.params.tag:"toggle"===e?this.opts.markup:this.params.tag},_isStandardParagraph:function(){return!this.opts.breakline&&"p"===this.opts.markup},_isStandardDiv:function(){return!this.opts.breakline&&"div"===this.opts.markup},_isBreaklineBlock:function(e){return e&&"DIV"===e.tagName&&"br"===e.getAttribute("data-redactor-tag")},_isToggleFormatType:function(e){for(var t=0,n=e.length,a=0;a<n;a++)e[a]&&this.params.tag===e[a].tagName.toLowerCase()&&t++;return t===n},_isCurrentBlockOneAndEmpty:function(e){return this.collapsed&&1===e.length&&this.utils.isEmpty(e[0])},_buildNodes:function(e){return e.length>0&&(e=this._applyArgs(e,!1),e=this._combinePre(e),e=this._cleanBlocks(e)),e},_replaceBlocks:function(e,t){for(var n=[],a=0;a<e.length;a++){var s=this.utils.replaceToTag(e[a],t);n.push(s.get())}return n},_combinePre:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n].nextElementSibling;if(a&&"PRE"===e[n].tagName&&"PRE"===a.tagName){var s=$R.dom(e[n]),i=$R.dom(a),o=document.createTextNode("\n");s.append(o),s.append(i),i.unwrap("pre")}t.push(e[n])}return t},_cleanBlocks:function(e){for(var t=["h1","h2","h3","h4","h5","h6"],n=this.opts.inlineTags,a=0;a<e.length;a++){var s=e[a].tagName.toLowerCase(),i=$R.dom(e[a]);-1!==t.indexOf(s)?i.find("span").not(".redactor-component, .non-editable, .redactor-selection-marker").unwrap():"pre"===s&&i.find(n.join(",")).not(".redactor-selection-marker").unwrap(),!1===this.params.args&&"p"===this.params.tag&&i.removeAttr("class"),this.opts.breakline&&"div"===s?i.attr("data-redactor-tag","br"):i.removeAttr("data-redactor-tag"),this.utils.normalizeTextNodes(e[a])}return e},_cleanEmptyClass:function(e){e.each((function(e){""===e.className&&e.removeAttribute("class")}))},_cleanEmptyStyle:function(e){this.utils.removeEmptyAttr(e.get(),"style")?e.removeAttr("data-redactor-style-cache"):e.attr("data-redactor-style-cache",e.attr("style"))},_apply:function(e,t,n,a,s){!1!==a&&this.selection.save();var i=this._getElements(n,s);if(t.class&&("set"===e?(i.removeAttr("class"),i.addClass(t.class)):"add"===e?i.addClass(t.class):"toggle"===e?i.toggleClass(t.class):"remove"===e&&i.removeClass(t.class),this._cleanEmptyClass(i)),t.attr&&("set"===e?(this._removeAllAttr(i),i.attr(t.attr)):"add"===e?i.attr(t.attr):"toggle"===e?(o=t.attr,i.each((function(e){var t=$R.dom(e);for(var n in o)t.attr(n)?t.removeAttr(n):t.attr(n,o[n])}))):"remove"===e&&i.removeAttr(t.attr)),t.style)if("set"===e)i.removeAttr("style"),i.css(t.style),i.each((function(e){var t=$R.dom(e);t.attr("data-redactor-style-cache",t.attr("style"))}));else if("add"===e){var o=t.style;i.each(function(e){var t=$R.dom(e);t.css(o),t.attr("data-redactor-style-cache",t.attr("style")),this._convertStyleQuotes(t)}.bind(this))}else if("toggle"===e){o=t.style;i.each(function(e){var t=$R.dom(e);for(var n in o){var a=o[n],s=t.css(n);s=this.utils.isRgb(s)?this.utils.rgb2hex(s):s.replace(/"/g,""),a=this.utils.isRgb(a)?this.utils.rgb2hex(a):a.replace(/"/g,""),s=this.utils.hex2long(s),("string"===typeof(a=this.utils.hex2long(a))?a.toLowerCase():a)===("string"===typeof s?s.toLowerCase():s)?t.css(n,""):t.css(n,a)}this._convertStyleQuotes(t),this._cleanEmptyStyle(t)}.bind(this))}else if("remove"===e){var r=t.style;i.each(function(e){var t=$R.dom(e);t.css(r,""),this._cleanEmptyStyle(t)}.bind(this))}return s=i.getAll(),!1!==a&&this._restoreSelection(s),s},_applyArgs:function(e){return e=this.params.args?this._apply(this.params.type,this.params.args,!1,!1,e):this._clear(!1,"all",!1,e)},_removeAllAttr:function(e,t){e.each((function(e){var n=["data-redactor-tag","data-redactor-style-cache"];!1===t&&(n.push("style"),n.push("class"));for(var a=e.attributes.length;a-- >0;){var s=e.attributes[a],i=s.name;-1===n.indexOf(i)&&e.removeAttributeNode(s)}}))},_restoreSelection:function(e){this._isCurrentBlockOneAndEmpty(e)?this.caret.setStart(e[0]):setTimeout(function(){this.selection.restore()}.bind(this),1)},_convertStyleQuotes:function(e){var t=e.attr("style");t&&e.attr("style",t.replace(/"/g,"'"))}}),$R.add("service","inline",{mixins:["formatter"],init:function(e){this.app=e,this.count=0},format:function(e){if(!this._isFormat())return[];this.type=e.type?e.type:"set",this.tag="string"===typeof e?e:e.tag,this.tag=this.tag.toLowerCase(),this.tag=this.arrangeTag(this.tag),"string"===typeof e?this.args=!1:this.buildArgs(e),this.detector.isIe()||this.editor.disableNonEditables();var t=this.selection.isCollapsed()?this.formatCollapsed():this.formatUncollapsed();return this.detector.isIe()||this.editor.enableNonEditables(),t},_isFormat:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e),n=t.isComponent()&&!t.isComponentType("table")&&!t.isFigcaption();return!(!1!==e||!this.selection.isAll())||!(!e||t.isPre()||t.isCode()||n)},arrangeTag:function(e){var t=this.opts.replaceTags;for(var n in t)e===n&&(e=t[n]);return e},formatCollapsed:function(){var e,t,n,a,s=[],i=this.selection.getInlineFirst(),o=this.selection.getInlines({all:!0}),r=$R.dom(i);if(i){var c=this.inspector.parse(i);if(this.utils.isEmptyHtml(i.innerHTML))if(i.tagName.toLowerCase()===this.tag)if(this.hasSameArgs(i)){this.caret.setAfter(i),r.remove();var _=this.selection.getElement();this.utils.normalizeTextNodes(_)}else"span"===this.tag?(s=this.applyArgs([i],!1),this.caret.setStart(i)):s=this.insertInline(s);else c.hasParent([this.tag])?(t=(e=r.closest(this.tag)).get(),this.hasSameArgs(t)?(e.unwrap(),this.caret.setStart(i)):s=this.insertInline(s)):s=this.insertInline(s);else if(i.tagName.toLowerCase()===this.tag)this.hasSameArgs(i)?(a=this.utils.extractHtmlFromCaret(i),n=$R.dom("<"+this.tag+" />"),n=this.utils.cloneAttributes(i,n),r.after(n.append(a)),""===n.html().trim()&&n.remove(),this.caret.setAfter(i)):s=this.insertInline(s);else if(c.hasParent([this.tag]))if(t=(e=r.closest(this.tag)).get(),this.hasSameArgs(t)){var l,u;a=this.utils.extractHtmlFromCaret(t,t),n=$R.dom("<"+this.tag+" />"),n=this.utils.cloneAttributes(t,n);var d=0;o=o.reverse();for(var p=0;p<o.length;p++)o[p]!==t&&(u=$R.dom("<"+o[p].tagName.toLowerCase()+">"),0===d?l=u:l.append(u),d++);e.after(n.append(a)),e.after(l),this.caret.setStart(u)}else s=this.insertInline(s);else s=this.insertInline(s)}else s=this.insertInline(s);return s},insertInline:function(e){var t=document.createElement(this.tag);return e=this.insertion.insertNode(t,"start"),this.applyArgs(e,!1)},hasSameArgs:function(e){if(0===e.attributes.length&&!1===this.args)return!0;var t=!0;if(this.args){var n=0;for(var a in this.args){var s=$R.dom(e),i=this.args[a],o=this.utils.toParams(i),r=s.attr(a);if(i)if("style"===a){o=o.trim().replace(/;$/,"");for(var c=this.utils.styleToObj(s.attr("style")),_=o.split(";"),l=0,u=0;u<_.length;u++){var d=_[u].split(":"),p=d[0].trim(),m=d[1].trim();if(-1!==p.search(/color/)){var h=s.css(p);!h||h!==m&&this.utils.rgb2hex(h)!==m||l++}else s.css(p)===m&&l++}l===_.length&&Object.keys(c).length===_.length&&n++}else r===o&&n++;else r&&""!==r||n++}t=n===Object.keys(this.args).length}return t},formatUncollapsed:function(){var e=this.selection.getInlines({all:!0,inside:!0});this.detector.isIe()?this.selection.saveMarkers():this.selection.save(),this._convertTags("u"),this._convertTags("del"),this._convertToStrike(e),this.detector.isIe()?this.selection.restoreMarkers():this.selection.restore(),document.execCommand("strikethrough"),this._clearDecoration(),this.selection.save();var t=this._revertToInlines();t=this.applyArgs(t,!1);for(var n=0;n<t.length;n++){var a=t[n],s=a.tagName.toLowerCase(),i=a.attributes.length;s===this.tag&&0===i&&this.args&&($R.dom(a).unwrap(),t.splice(n,1))}return this.selection.restore(),this._clearEmptyStyle(),t=this._normalizeBlocks(t)},_convertTags:function(e){this.tag!==e&&this.editor.getElement().find(e).each(function(t){this.utils.replaceToTag(t,"span").addClass("redactor-convertable-"+e)}.bind(this))},_revertTags:function(e){this.editor.getElement().find("span.redactor-convertable-"+e).each(function(t){var n=this.utils.replaceToTag(t,e);n.removeClass("redactor-convertable-"+e),this.utils.removeEmptyAttr(n,"class")&&n.removeAttr("class")}.bind(this))},_convertToStrike:function(e){for(var t=this.selection.getText().replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),n=0;n<e.length;n++){var a=this.arrangeTag(e[n].tagName.toLowerCase()),s=e[n],i=$R.dom(s),o=this.hasSameArgs(s);a===this.tag&&("span"===this.tag&&this._isTextSelected(s,t)?i.addClass("redactor-convertable-apply"):o&&"a"!==this.tag?this._replaceToStrike(i):"span"===this.tag?i.addClass("redactor-unconvertable-apply"):o||i.addClass("redactor-convertable-apply"))}},_replaceToStrike:function(e){e.replaceWith((function(){return $R.dom("<strike>").append(e.contents())}))},_revertToInlines:function(){var e=[],t=this.editor.getElement();return"u"!==this.tag&&t.find("u").unwrap(),t.find(".redactor-convertable-u").each((function(t){e.push(t)})),t.find(".redactor-convertable-apply").each(function(t){var n=$R.dom(t);n.find("strike").unwrap(),this._forceRemoveClass(n,"redactor-convertable-apply"),e.push(t)}.bind(this)),t.find("span.redactor-unconvertable-apply").each(function(e){var t=$R.dom(e);this._forceRemoveClass(t,"redactor-unconvertable-apply")}.bind(this)),t.find("strike").each(function(t){var n=this.utils.replaceToTag(t,this.tag);e.push(n.get())}.bind(this)),this._revertTags("u"),this._revertTags("del"),e},_normalizeBlocks:function(e){var t=this.opts.inlineTags,n=this.selection.getBlocks();if(n)for(var a=0;a<n.length;a++){if("PRE"===n[a].tagName)$R.dom(n[a]).find(t.join(",")).not(".redactor-selection-marker").each(function(t){-1!==e.indexOf(t)&&(e=this.utils.removeFromArrayByValue(e,t)),$R.dom(t).unwrap()}.bind(this))}return e},_clearDecoration:function(){this.editor.getElement().find(this.opts.inlineTags.join(",")).each((function(e){if("line-through"===e.style.textDecoration||"line-through"===e.style.textDecorationLine){var t=$R.dom(e);t.css("textDecorationLine",""),t.css("textDecoration",""),t.wrap("<strike>")}}))},_clearEmptyStyle:function(){for(var e=this.getInlines(),t=0;t<e.length;t++){this._clearEmptyStyleAttr(e[t]);var n=e[t].childNodes;if(n)for(var a=0;a<n.length;a++)this._clearEmptyStyleAttr(n[a])}},_clearEmptyStyleAttr:function(e){3!==e.nodeType&&this.utils.removeEmptyAttr(e,"style")&&(e.removeAttribute("style"),e.removeAttribute("data-redactor-style-cache"))},_forceRemoveClass:function(e,t){e.removeClass(t),this.utils.removeEmptyAttr(e,"class")&&e.removeAttr("class")},_isTextSelected:function(e,t){var n=this.utils.removeInvisibleChars(e.textContent);return t===n||-1!==t.search(new RegExp("^"+this.utils.escapeRegExp(n)+"$"))},getInlines:function(e){return e?this.selection.getInlines({tags:e,all:!0}):this.selection.getInlines({all:!0})},getElements:function(e){return $R.dom(this.getInlines(e))},clearFormat:function(){this.selection.save();for(var e=this.selection.getInlines({all:!0}),t=0;t<e.length;t++){var n=$R.dom(e[t]);this.selection.getInline(e[t])&&n.unwrap()}this.selection.restore()}}),$R.add("service","autoparser",{init:function(e){this.app=e,this.cleaner=this.app.cleaner},observe:function(){var e=this.editor.getElement().find(".redactor-autoparser-object").each((function(e){var t=$R.dom(e);t.removeClass("redactor-autoparser-object"),""===t.attr("class")&&t.removeAttr("class")}));e.length>0&&e.each(function(e){var t,n=!1,a=e.tagName;"A"===a?t="link":"IMG"===a?t="image":"IFRAME"===a&&(t="video"),t&&(n=$R.create(t+".component",this.app,e),this.app.broadcast(t+".inserted",n),this.app.broadcast("autoparse",t,n))}.bind(this))},format:function(e,t){this._isKey(t)&&this._format(t===this.keycodes.ENTER)},parse:function(e){var t=["figure","form","pre","iframe","code","a","img"],n=[],a=0,s=[];e=this.cleaner.storeComments(e,s),e=(e=(e=this.cleaner.encodeCode(e)).replace(/\$/g,"&#36;")).replace(/&amp;/g,"&");for(var i=0;i<t.length;i++){var o="img"===t[i]?"<"+t[i]+"[^>]*>":"<"+t[i]+"([\\w\\W]*?)</"+t[i]+">";if(null!==(d=e.match(new RegExp(o,"gi"))))for(var r=0;r<d.length;r++)e=e.replace(d[r],"#####replaceparse"+a+"#####"),n.push(d[r]),a++}if(this.opts.autoparseImages&&e.match(this.opts.regex.imageurl)){var c=e.match(this.opts.regex.imageurl);for(i=0;i<c.length;i++)e=e.replace(c[i],'<img class="redactor-autoparser-object" src="'+c[i]+'">')}if(this.opts.autoparseVideo&&(e.match(this.opts.regex.youtube)||e.match(this.opts.regex.vimeo))){var _,l;e.match(this.opts.regex.youtube)?(_="//www.youtube.com/embed/$1",l=this.opts.regex.youtube):e.match(this.opts.regex.vimeo)&&(_="//player.vimeo.com/video/$2",l=this.opts.regex.vimeo);var u=this.component.create("video",'<iframe width="500" height="281" src="'+_+'" frameborder="0" allowfullscreen></iframe>');e=e.replace(l,u.get().outerHTML)}for(i=0;i<t.length;i++){var d;o="img"===t[i]?"<"+t[i]+"[^>]*>":"<"+t[i]+"([\\w\\W]*?)</"+t[i]+">";if(null!==(d=e.match(new RegExp(o,"gi"))))for(r=0;r<d.length;r++)e=e.replace(d[r],"#####replaceparse"+a+"#####"),n.push(d[r]),a++}return this.opts.autoparseLinks&&e.match(this.opts.regex.url)&&(e=this._formatLinks(e)),e=this._restoreReplaced(n,e),e=this._restoreReplaced(n,e),e=this.cleaner.restoreComments(e,s)},_isKey:function(e){return e===this.keycodes.ENTER||e===this.keycodes.SPACE},_format:function(e){var t=this.selection.getParent(),n=$R.dom(t);if(!(t&&0!==n.closest("figure, pre, code, img, a, iframe").length)&&this.selection.isCollapsed()){var a=this.utils.createInvisibleChar();this.selection.getRange().insertNode(a);var s=this.selection.getCurrent(),i=this.inspector.parse(s),o=$R.dom(s);if(a.parentNode.removeChild(a),s&&3===s.nodeType){var r,c=s.textContent;if(this.opts.autoparseImages&&c.match(this._convertToRegExp(this.opts.regex.imageurl))){var _=i.isList(),l=c.match(this.opts.regex.imageurl),u=_?void 0:"<figure><img></figure>",d=this.component.create("image",u);d.setSrc(l[0]),d.addClass("redactor-autoparser-object"),c=c.replace(l[0],d.get().outerHTML),r="image"}else if(this.opts.autoparseVideo&&(c.match(this._convertToRegExp(this.opts.regex.youtube))||c.match(this._convertToRegExp(this.opts.regex.vimeo)))){var p,m;c.match(this.opts.regex.youtube)?(p="//www.youtube.com/embed/$1",m=this.opts.regex.youtube):c.match(this.opts.regex.vimeo)&&(p="//player.vimeo.com/video/$2",m=this.opts.regex.vimeo);var h=this.component.create("video",'<iframe width="500" height="281" src="'+p+'" frameborder="0" allowfullscreen></iframe>');h.addClass("redactor-autoparser-object"),c=c.replace(m,h.get().outerHTML),r="video"}else this.opts.autoparseLinks&&c.match(this._convertToRegExp(this.opts.regex.url))&&(c=this._formatLinks(c,e),r="link");if(r){e?(this.selection.save(),o.replaceWith(c),this.selection.restore()):o.replaceWith(c);var f=this.editor.getElement().find(".redactor-autoparser-object").removeClass("redactor-autoparser-object");if(f="link"===r?$R.create("link.component",this.app,f):f,"link"===r)e||this.caret.setAfter(f),this.app.broadcast("link.inserted",f);else{this.caret.setAfter(f);var E=f.clone();f.remove(),f=this.insertion.insertHtml(E),f=this.component.build(f)}this.app.broadcast("autoparse",r,f)}}}},_formatLinks:function(e,t){for(var n=e.match(this.opts.regex.url),a={},s=0;s<n.length;s++){t&&-1!==n[s].search(/\.$/)&&(n[s]=n[s].replace(/\.$/,""));var i=n[s],o=i,r=null!==i.match(/(https?|ftp):\/\//i)?"":"http://",c=-1!==["/","&","="].indexOf(i.slice(-1))?"":"\\b",_=!1!==this.opts.pasteLinkTarget?' target="'+this.opts.pasteLinkTarget+'"':"";o=-1===(o=o.length>this.opts.linkSize?o.substring(0,this.opts.linkSize)+"...":o).search("%")?decodeURIComponent(o):o;a["("+i.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")+c+")"]='<a href="'+r+i.trim()+'"'+_+' class="redactor-autoparser-object">'+o.trim()+"</a>"}for(var l in a)e=e.replace(new RegExp(l,"g"),a[l]);return e},_restoreReplaced:function(e,t){for(var n=0;n<e.length;n++)t=t.replace("#####replaceparse"+n+"#####",e[n]);return t},_convertToRegExp:function(e){return new RegExp(String(e).replace(/^\//,"").replace(/\/ig$/,"").replace(/\/gi$/,"")+"$","gi")}}),$R.add("service","storage",{init:function(e){this.app=e,this.data=[]},observeImages:function(){this.opts.imageObserve&&this.editor.getElement().find("[data-image]").each(this._addImage.bind(this))},observeFiles:function(){this.editor.getElement().find("[data-file]").each(this._addFile.bind(this))},setStatus:function(e,t){this.data[e].status=t},getChanges:function(){var e=this.editor.getElement();for(var t in this.data){var n=this.data[t],a=e.find("[data-"+n.type+'="'+n.id+'"]');this.setStatus(n.id,0!==a.length)}return this.data},add:function(e,t){var n=$R.dom(t),a=n.attr("data-"+e);this.data[a]={type:e,status:!0,node:n.get(),id:n.attr("data-"+e)}},_addImage:function(e){this.add("image",e)},_addFile:function(e){this.add("file",e)}}),$R.add("service","utils",{init:function(e){this.app=e},isEmpty:function(e){var t=!1;return(e=$R.dom(e).get())&&(t=3===e.nodeType?""===e.textContent.trim().replace(/\n/,""):""===e.innerHTML),t},isEmptyHtml:function(e,t,n){return e=(e=(e=(e=(e=(e=this.removeInvisibleChars(e)).replace(/&nbsp;/gi,"")).replace(/<\/?br\s?\/?>/g,t?"br":"")).replace(/\s/g,"")).replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,"")).replace(/^<div>[^\W\w\D\d]*?<\/div>$/i,""),n&&(e=(e=e.replace(/<ul(.*?[^>])>$/i,"ul")).replace(/<ol(.*?[^>])>$/i,"ol")),""===(e=(e=(e=(e=(e=(e=e.replace(/<hr(.*?[^>])>$/i,"hr")).replace(/<iframe(.*?[^>])>$/i,"iframe")).replace(/<source(.*?[^>])>$/i,"source")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")).replace(/<[^\/>][^>]*><\/[^>]+>/gi,"")).trim())},trimSpaces:function(e){return this.removeInvisibleChars(e.trim())},createInvisibleChar:function(){return document.createTextNode(this.opts.markerChar)},searchInvisibleChars:function(e){return e.search(/^\uFEFF$/g)},removeInvisibleChars:function(e){return e.replace(/\uFEFF/g,"")},trimInvisibleChars:function(e){if(this.selection.isCollapsed()){var t=this.selection.getCurrent(),n="left"===e?this.selection.getTextBeforeCaret():this.selection.getTextAfterCaret();if(t&&3===t.nodeType&&0===this.searchInvisibleChars(n))if("left"===e)$R.dom(t).replaceWith(t.textContent.trim());else{var a=this.offset.get();this.offset.set({start:a.start+1,end:a.end+1})}}},buildWrapper:function(e){return $R.dom("<div>").html(e)},getWrapperHtml:function(e){var t=e.html();return e.remove(),t},createTmpContainer:function(e){var t=$R.dom("<div>");return"string"===typeof e?t.html(e):t.append($R.dom(e).clone(!0)),t.get()},createFragment:function(e){for(var t,n,a,s=this.createTmpContainer(e),i=document.createDocumentFragment(),o=[],r=0;t=s.firstChild;){r++;var c=i.appendChild(t);1===r&&(n=c),o.push(c),a=c}return{frag:i,first:n,last:a,nodes:o}},isFragment:function(e){return"object"===typeof e&&e.frag},parseHtml:function(e){var t=this.createTmpContainer(e);return{html:t.innerHTML,nodes:t.childNodes}},splitNode:function(e,t,n,a){var s;t=this.isFragment(t)?t.frag:t,s=a?this.inspector.isInlineTag(e.tagName)?e:this.selection.getInline(e):this.inspector.isBlockTag(e.tagName)?e:this.selection.getBlock(e);var i=$R.dom(s);if(!a&&this.isEmptyHtml(s.innerHTML,!0))return i.after(t),i.remove(),t;var o=i.get().tagName.toLowerCase(),r=this.caret.isEnd(s),c=this.caret.isStart(s);if(!r&&!c){var _=this.extractHtmlFromCaret(a),l=$R.dom("<"+o+" />");l=this.cloneAttributes(s,l),i.after(l.append(_))}if(c)return i.before(t);if(n)return i.append(t);t=i.after(t);var u=i.html();return""===(u=(u=this.removeInvisibleChars(u)).replace(/&nbsp;/gi,""))&&i.remove(),t},extractHtmlFromCaret:function(e,t){var n=this.selection.getRange();if(n&&(t=t||(e?this.selection.getInline():this.selection.getBlock()))){var a=n.cloneRange();return a.selectNodeContents(t),a.setStart(n.endContainer,n.endOffset),a.extractContents()}},createMarkup:function(e){var t=document.createElement(this.opts.markup);this.opts.breakline&&t.setAttribute("data-redactor-tag","br"),$R.dom(e).after(t),this.caret.setStart(t)},createMarkupBefore:function(e){var t=document.createElement(this.opts.markup);this.opts.breakline&&t.setAttribute("data-redactor-tag","br"),$R.dom(e).before(t),this.caret.setEnd(t)},getNode:function(e){var t=$R.dom(e).get(),n=this.editor.getElement().get();return"undefined"===typeof e?n:t||!1},findSiblings:function(e,t){for(e=$R.dom(e).get(),t="next"===t?"nextSibling":"previousSibling";e=e[t];)if((3!==e.nodeType||""!==e.textContent.trim())&&"BR"!==e.tagName)return e;return!1},getElementsFromHtml:function(e,t,n){var a=document.createElement("div");a.innerHTML=e;var s=a.querySelectorAll(t);return function(e,t){if("number"===typeof this.length&&"function"===typeof e){var n=[];if("object"==typeof this)for(var a=0;a<this.length;a++){if(!(a in this))return;n[a]=e.call(t||this,this[a],a,this)}return n}}.call(s,(function(e){var t=e.getAttribute("data-redactor-type");if(!n||!t||t!==n)return e.outerHTML}))},getChildNodes:function(e,t,n){var a=(e=e&&e.nodeType&&11===e.nodeType?e:$R.dom(e).get()).childNodes,s=[];if(a)for(var i=0;i<a.length;i++)if((!0!==n||3!==a[i].nodeType)&&(3!==a[i].nodeType||!this.isEmpty(a[i]))&&(s.push(a[i]),!1!==t)){var o=this.getChildNodes(a[i],n);o.length>0&&(s=s.concat(o))}return s},getChildElements:function(e){return this.getChildNodes(e,!0,!0)},getFirstNode:function(e){return this._getFirst(this.getChildNodes(e,!1))},getLastNode:function(e){return this._getLast(this.getChildNodes(e,!1))},getFirstElement:function(e){return this._getFirst(this.getChildNodes(e,!1,!0))},getLastElement:function(e){return this._getLast(this.getChildNodes(e,!1,!0))},replaceToTag:function(e,t){return $R.dom(e).replaceWith((function(e){var n=$R.dom("<"+t+">").append($R.dom(e).contents());if(e.attributes)for(var a=e.attributes,s=0;s<a.length;s++)n.attr(a[s].nodeName,a[s].value);return n}))},ucfirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},removeFromArrayByValue:function(e,t){for(var n,a=arguments,s=a.length;s>1&&e.length;)for(t=a[--s];-1!==(n=e.indexOf(t));)e.splice(n,1);return e},removeEmptyAttr:function(e,t){var n=$R.dom(e);return"undefined"===typeof n.attr(t)||null===n.attr(t)||""===n.attr(t)&&(n.removeAttr(t),!0)},cloneAttributes:function(e,t){e=$R.dom(e).get(),t=$R.dom(t);for(var n=e.attributes,a=n.length;a--;){var s=n[a];t.attr(s.name,s.value)}return t},toParams:function(e){if("object"!==typeof e)return e;var t=Object.keys(e);if(!t.length)return"";for(var n="",a=0;a<t.length;a++){var s=t[a];n+=s+":"+e[s]+";"}return n},styleToObj:function(e){var t={};if(e)for(var n=e.replace(/;$/,"").split(";"),a=0;a<n.length;a++){var s=n[a].split(":");t[s[0].trim()]=s[1].trim()}return t},checkProperty:function(e){for(var t=arguments[1]&&Array.isArray(arguments[1])?arguments[1]:[].slice.call(arguments,1),n=0;n<t.length;n++){if(!e||"undefined"===typeof e[t[n]])return!1;e=e[t[n]]}return e},extendData:function(e,t){for(var n in t){if("elements"===n)$R.dom(t[n]).each(function(t){var n=$R.dom(t);if("FORM"===t.tagName){var a=n.serialize(!0);for(var s in a)e=this._setData(e,s,a[s])}else{var i=n.attr("name")?n.attr("name"):n.attr("id");e=this._setData(e,i,n.val())}}.bind(this));else e=this._setData(e,n,t[n])}return e},_setData:function(e,t,n){return e instanceof FormData?e.append(t,n):e[t]=n,e},normalizeTextNodes:function(e){(e=$R.dom(e).get())&&e.normalize()},isRgb:function(e){return 0===e.search(/^rgb/i)},rgb2hex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hex2long:function(e){return-1!==e.search(/^#/)&&4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e},escapeRegExp:function(e){return e.replace(/[-\/\\^$*~+?.()|[\]{}]/g,"\\$&")},getRandomId:function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz0123456789",n=0;n<12;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},_getFirst:function(e){return 0!==e.length&&e[0]},_getLast:function(e){return 0!==e.length&&e[e.length-1]}}),$R.add("service","progress",{init:function(e){this.app=e,this.$box=null,this.$bar=null},show:function(){this._is()||this._build(),this.$box.show()},hide:function(){this._is()&&this.animate.start(this.$box,"fadeOut",this._destroy.bind(this))},update:function(e){this.show(),this.$bar.css("width",e+"%")},_is:function(){return null!==this.$box},_build:function(){this.$bar=$R.dom("<span />"),this.$box=$R.dom('<div id="redactor-progress" />'),this.$box.append(this.$bar),this.$body.append(this.$box)},_destroy:function(){this._is()&&this.$box.remove(),this.$box=null,this.$bar=null}}),$R.add("module","starter",{init:function(e){this.app=e,this.opts=e.opts,this.plugin=e.plugin,this.module=e.module},onstart:function(){this._startStop("start",this.app,["element","container","source","editor","statusbar","toolbar"]),this._startStop("start",this.module,["element","container","source","editor","statusbar","contextbar","input"])},onstop:function(){this._startStop("stop",this.module,["observer","element","container","source","editor","contextbar"])},onenable:function(){var e=this.opts.plugins;this._startStop("start",this.module,["observer","toolbar"]),this._startStop("start",this.plugin,e)},ondisable:function(){var e=this.opts.plugins;this._startStop("stop",this.module,["observer","toolbar"]),this._startStop("stop",this.plugin,e)},_startStop:function(e,t,n){for(var a=0;a<n.length;a++)"undefined"!==typeof t[n[a]]&&this.app.callInstanceMethod(t[n[a]],e)}}),$R.add("module","element",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.namespace=e.namespace,this.element=e.element,this.rootOpts=$R.extend({},!0,$R.options,e.rootOpts)},start:function(){this._build(),this._buildModes(),this._buildMarkup()},stop:function(){this.element.getElement().removeData(this.namespace+"-uuid")},_build:function(){this.element.getElement().data(this.namespace+"-uuid",this.uuid)},_buildModes:function(){var e=this.element.getType();"inline"===e&&this._redefineOptions(this.opts.modes.inline),"div"===e&&this._redefineOptions(this.opts.modes.original),"inline"!==e&&(this._isRootOption("styles")&&this.rootOpts.styles&&(this.opts.styles=!0),this._isRootOption("source")&&!this.rootOpts.source&&(this.opts.showSource=!1))},_buildMarkup:function(){"inline"===this.element.getType()?this.opts.emptyHtml="":this.opts.breakline?(this.opts.markup="div",this.opts.emptyHtml='<div data-redactor-tag="br">'+this.opts.markerChar+"</div>"):this.opts.emptyHtml="<"+this.opts.markup+"></"+this.opts.markup+">"},_redefineOptions:function(e){for(var t in e)this.opts[t]=e[t]},_isRootOption:function(){return"undefined"!==typeof this.rootOpts.styles}}),$R.add("module","editor",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.editor=e.editor,this.source=e.source,this.element=e.element,this.component=e.component,this.container=e.container,this.inspector=e.inspector,this.autoparser=e.autoparser,this.placeholder=!1,this.events=!1},onenable:function(){this.enable()},ondisable:function(){this.disable()},onenablefocus:function(){this._enableFocus()},oncontextmenu:function(e){this.component.setOnEvent(e,!0)},onclick:function(e){this.component.setOnEvent(e)},onkeyup:function(e){this.inspector.parse(e.target).isComponent()||this.component.clearActive()},onenablereadonly:function(){this._enableReadOnly()},ondisablereadonly:function(){this._disableReadOnly()},onautoparseobserve:function(){this.autoparser.observe()},onplaceholder:{build:function(){this._buildPlaceholder()},toggle:function(){this._togglePlacehodler()}},start:function(){this._build(),this._buildEvents(),this._buildOptions(),this._buildAccesibility()},stop:function(){var e=this.editor.getElement(),t=this.container.getElement(),n=["redactor-in","redactor-in-"+this.uuid,"redactor-structure","redactor-placeholder","notranslate"];""!==this.opts.stylesClass&&n.push(this.opts.stylesClass);e.removeAttr("spellcheck"),e.removeAttr("dir"),e.removeAttr("contenteditable"),e.removeAttr("placeholder"),e.removeAttr("data-gramm_editor"),e.removeClass(n.join(" ")),t.removeClass(["redactor-focus","redactor-blur","redactor-over","redactor-styles-on","redactor-styles-off","redactor-toolbar-on","redactor-text-labeled-on","redactor-source-view"].join(" ")),this._destroyEvents(),0===e.get().classList.length&&e.removeAttr("class")},enable:function(){var e=this.editor.getElement(),t=this.container.getElement();e.addClass("redactor-in redactor-in-"+this.uuid),e.attr({contenteditable:!0}),this.opts.structure&&e.addClass("redactor-structure"),!this.opts.toolbar||this.opts.air||this.opts.toolbarExternal||t.addClass("redactor-toolbar-on"),this._disableBrowsersEditing()},disable:function(){var e=this.editor.getElement(),t=this.container.getElement();e.removeClass("redactor-in redactor-in-"+this.uuid),e.removeClass("redactor-structure"),e.removeAttr("contenteditable"),t.addClass("redactor-toolbar-on")},_build:function(){var e=this.editor.getElement(),t=this.element.getElement(),n=this.container.getElement();n.addClass("redactor-blur"),this.opts.grammarly||e.attr("data-gramm_editor",!1),this.opts.notranslate&&e.addClass("notranslate"),this.opts.styles?(e.addClass(this.opts.stylesClass),n.addClass("redactor-styles-on")):n.addClass("redactor-styles-off"),this.opts.buttonsTextLabeled&&n.addClass("redactor-text-labeled-on"),this.element.isType("textarea")&&t.before(e)},_buildEvents:function(){this.events=$R.create("editor.events",this.app)},_buildOptions:function(){var e=this.editor.getElement();e.attr("dir",this.opts.direction),this.opts.spellcheck||e.attr("spellcheck",!1),this.opts.tabindex&&e.attr("tabindex",this.opts.tabindex),this.opts.minHeight&&e.css("min-height",this.opts.minHeight),this.opts.maxHeight&&e.css("max-height",this.opts.maxHeight),this.opts.maxWidth&&e.css({"max-width":this.opts.maxWidth,margin:"auto"})},_buildAccesibility:function(){this.editor.getElement().attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},_buildPlaceholder:function(){this.placeholder=$R.create("editor.placeholder",this.app)},_enableFocus:function(){this.opts.showSource?this._enableFocusSource():this._enableFocusEditor()},_enableFocusSource:function(){var e=this.source.getElement();this.opts.focus?(e.focus(),e.get().setSelectionRange(0,0)):this.opts.focusEnd&&e.focus()},_enableFocusEditor:function(){this.opts.focus?setTimeout(this.editor.startFocus.bind(this.editor),100):this.opts.focusEnd&&setTimeout(this.editor.endFocus.bind(this.editor),100)},_togglePlacehodler:function(){this.placeholder&&this.placeholder.toggle()},_disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1);var e=this.editor.getElement().get();e.addEventListener?e.addEventListener("mscontrolselect",(function(e){e.preventDefault()})):e.attachEvent("oncontrolselect",(function(e){e.returnValue=!1}))}catch(t){}},_destroyEvents:function(){this.events&&this.events.destroy()},_enableReadOnly:function(){var e=this.editor.getElement();this._getEditables(e).removeAttr("contenteditable"),e.removeAttr("contenteditable"),e.addClass("redactor-read-only"),this.events&&this.events.destroy()},_disableReadOnly:function(){var e=this.editor.getElement();this._getEditables(e).attr({contenteditable:!0}),e.removeClass("redactor-read-only"),e.attr({contenteditable:!0}),this._buildEvents()},_getEditables:function(e){return e.find("figcaption, td, th")}}),$R.add("class","editor.placeholder",{init:function(e){this.app=e,this.opts=e.opts,this.editor=e.editor,this.element=e.element,this.build()},build:function(){var e=this.element.getElement(),t=this.editor.getElement();if(!1!==this.opts.placeholder||e.attr("placeholder")){var n=!1!==this.opts.placeholder?this.opts.placeholder:e.attr("placeholder");t.attr("placeholder",n),this.toggle()}},toggle:function(){return this.editor.isEmpty(!0)?this.show():this.hide()},show:function(){this.editor.getElement().addClass("redactor-placeholder")},hide:function(){this.editor.getElement().removeClass("redactor-placeholder")}}),$R.add("class","editor.events",{init:function(e){this.app=e,this.opts=e.opts,this.$doc=e.$doc,this.uuid=e.uuid,this.source=e.source,this.editor=e.editor,this.cleaner=e.cleaner,this.container=e.container,this.insertion=e.insertion,this.inspector=e.inspector,this.selection=e.selection,this.component=e.component,this.blurNamespace=".redactor-blur."+this.uuid,this.eventsList=["paste","click","contextmenu","keydown","keyup","mouseup","touchstart","cut","copy","dragenter","dragstart","drop","dragover","dragleave"],this._init()},destroy:function(){this.editor.getElement().off(".redactor-focus"),this.$doc.off("keyup"+this.blurNamespace+" mousedown"+this.blurNamespace),this._loop("off")},focus:function(e){var t=this.container.getElement();this.editor.isPasting()||t.hasClass("redactor-focus")||(t.addClass("redactor-focus"),t.removeClass("redactor-blur"),this.app.broadcast("observe",e),this.app.broadcast("focus",e),this.isFocused=!0,this.isBlured=!1)},blur:function(e){var t=this.container.getElement(),n=$R.dom(e.target),a=[".redactor-in-"+this.uuid,".redactor-toolbar",".redactor-dropdown",".redactor-context-toolbar","#redactor-modal","#redactor-image-resizer"];this.app.broadcast("originalblur",e),this.app.stopBlur||this.app.isStarted()&&!this.editor.isPasting()&&0===n.closest(a.join(",")).length&&(this.isBlured||t.hasClass("redactor-blur")||(t.removeClass("redactor-focus"),t.addClass("redactor-blur"),this.app.broadcast("blur",e),this.isFocused=!1,this.isBlured=!0))},cut:function(e){var t=this.selection.getCurrent(),n=this.inspector.parse(t);this.app.broadcast("state",e),this.component.isNonEditable(t)&&(this._passSelectionToClipboard(e,n,!0),e.preventDefault())},copy:function(e){var t=this.selection.getCurrent(),n=this.inspector.parse(t);this.app.broadcast("state",e),this.component.isNonEditable(t)&&(this._passSelectionToClipboard(e,n,!1),e.preventDefault())},drop:function(e){if((e=e.originalEvent||e).stopPropagation(),this._removeOverClass(),!1!==this.opts.dragUpload){if(this.app.isDragComponentInside()){var t=$R.dom(this.app.getDragComponentInside()),n=t.clone(!0);return this.insertion.insertToPoint(e,n),t.remove(),this.app.setDragComponentInside(!1),this.app.broadcast("state",e),this.app.broadcast("drop",e),this.app.broadcast("image.observe",e),void e.preventDefault()}if(this.app.isDragInside()&&this.opts.input){this.insertion.insertPoint(e);var a=e.dataTransfer.getData("text/html"),s=this.selection.getRange();if(s){var i=this.selection.getBlocks();s.deleteContents();for(var o=0;o<i.length;o++)""===i[o].innerHTML&&$R.dom(i[o]).remove()}return $R.create("input.paste",this.app,e,!0,a,!0),this.app.broadcast("state",e),this.app.broadcast("drop",e),this.app.setDragInside(!1),void e.preventDefault()}this.app.broadcast("state",e),this.app.broadcast("paste",e,e.dataTransfer),this.app.broadcast("drop",e)}else e.preventDefault()},dragenter:function(e){e.preventDefault()},dragstart:function(e){this.app.setDragComponentInside(!1),this.app.setDragInside(!1);var t=this.inspector.parse(e.target);!t.isComponent()||t.isComponentEditable()||t.isFigcaption()?this.selection.is()&&!this.selection.isCollapsed()&&(this.app.setDragInside(!0),this._setDragData(e)):this.app.setDragComponentInside(t.getComponent()),this.app.broadcast("dragstart",e)},dragover:function(e){this.app.broadcast("dragover",e)},dragleave:function(e){this.app.broadcast("dragleave",e)},paste:function(e){this.app.broadcast("paste",e)},contextmenu:function(e){},click:function(e){if(3===e.detail){e.preventDefault();var t=this.selection.getBlock();if(t){var n=document.createRange();n.selectNodeContents(t),this.selection.setRange(n)}}var a=$R.dom(e.target);if(a.hasClass("redactor-in")){var s=a.offset().top,i=parseFloat(a.css("padding-bottom"));s+a.height()-2*i<e.pageY?this.app.broadcast("bottomclick",e):a.hasClass("redactor-placeholder")&&this.editor.startFocus(this.editor)}this.app.broadcast("state",e),this.app.broadcast("click",e)},keydown:function(e){if(this.app.broadcast("state",e),!1===this.app.broadcast("keydown",e))return e.preventDefault()},keyup:function(e){this.app.broadcast("keyup",e)},mouseup:function(e){this.app.broadcast("observe",e),this.app.broadcast("state",e)},touchstart:function(e){this.app.broadcast("observe",e),this.app.broadcast("state",e)},_init:function(){this.editor.getElement().on("focus.redactor-focus click.redactor-focus",this.focus.bind(this)),this.$doc.on("keyup"+this.blurNamespace+" mousedown"+this.blurNamespace,this.blur.bind(this)),this._loop("on")},_removeOverClass:function(){this.editor.getElement().removeClass("over")},_loop:function(e){for(var t=this.editor.getElement(),n=0;n<this.eventsList.length;n++){var a=this.eventsList[n]+".redactor-events",s=this.eventsList[n];t[e](a,this[s].bind(this))}},_passAllToClipboard:function(e){var t=e.clipboardData,n=this.source.getCode();t.setData("text/html",n),t.setData("text/plain",n.toString().replace(/\n$/,""))},_passSelectionToClipboard:function(e,t,n){var a=e.clipboardData,s=t.getComponent(),i=$R.dom(s).clone();i.find(".redactor-component-caret").remove(),i.removeClass("redactor-component-active"),i.removeAttr("contenteditable"),i.removeAttr("tabindex");var o=i.get().outerHTML;n&&this.component.remove(s),a.setData("text/html",o),a.setData("text/plain",o.toString().replace(/\n$/,""))},_setDragData:function(e){var t=(e=e.originalEvent||e).dataTransfer;t.effectAllowed="move",t.setData("text/Html",this.selection.getHtml())}}),$R.add("module","container",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.lang=e.lang,this.element=e.element,this.container=e.container},start:function(){this._build(),this._buildAccesibility()},stop:function(){var e=this.element.getElement(),t=this.container.getElement();t.after(e),t.remove(),e.show()},_build:function(){var e=this.element.getElement(),t=this.container.getElement();t.addClass("redactor-box"),t.attr("dir",this.opts.direction),this.element.isType("inline")&&t.addClass("redactor-inline"),e.after(t),t.append(e)},_buildAccesibility:function(){var e=this.container.getElement(),t=$R.dom("<span />");t.addClass("redactor-voice-label"),t.attr({id:"redactor-voice-"+this.uuid,"aria-hidden":!1}),t.html(this.lang.get("accessibility-help-label")),e.prepend(t)}}),$R.add("module","source",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.element=e.element,this.source=e.source,this.editor=e.editor,this.toolbar=e.toolbar,this.cleaner=e.cleaner,this.component=e.component,this.container=e.container,this.autoparser=e.autoparser,this.selection=e.selection,this.syncedHtml=""},onstartcode:function(){var e=this.source.getStartedContent(),t=this.editor.getElement(),n=this.source.getElement();this.opts.autoparse&&this.opts.autoparseStart&&(e=this.autoparser.parse(e));var a=this.cleaner.input(e,!0,!0),s=this.cleaner.output(a);t.html(a),n.val(s),this.syncedHtml=s,this.app.broadcast("placeholder.build"),this.app.broadcast("autoparseobserve"),this.component.executeScripts()},onstartcodeshow:function(){this.show()},ontrytosync:function(){this.sync()},onhardsync:function(){var e=this.editor.getElement().html();e=this.app.broadcast("syncBefore",e),e=this.cleaner.output(e),this._syncing(e)},start:function(){this._build(),this._buildClasses()},stop:function(){var e=this.element.getElement(),t=this.source.getElement();e.removeClass("redactor-source redactor-source-open"),t.off("input.redactor-source"),t.removeAttr("data-gramm_editor"),0===t.get().classList.length&&t.removeAttr("class"),this.source.isNameGenerated()||e.removeAttr("name"),this.element.isType("textarea")||t.remove()},getCode:function(){return this.source.getCode()},toggle:function(){if(this.opts.source)return this.source.getElement().hasClass("redactor-source-open")?this.hide():this.show()},show:function(){if(this.opts.source){var e=this.editor.getElement(),t=this.source.getElement(),n=this.container.getElement(),a=t.val();this.app.isStarted()&&(a=this.app.broadcast("source.open",a));var s=e.height();if(e.hide(),t.height(s),t.val(a.trim()),t.show(),t.addClass("redactor-source-open"),t.on("input.redactor-source-events",this._onChangedSource.bind(this)),t.on("keydown.redactor-source-events",this._onTabKey.bind(this)),t.on("focus.redactor-source-events",this._onFocus.bind(this)),this.opts.source.hasOwnProperty("codemirror")){var i="object"===typeof this.opts.source.codemirror?this.opts.source.codemirror:{},o="undefined"!==typeof this.opts.source.codemirrorSrc?this.opts.source.codemirrorSrc:CodeMirror;this.codemirror=o.fromTextArea(t.get(),i),this.codemirror.setSize(null,s),this.codemirror.on("change",(function(e,t){e.save()})),this.codemirror.on("change",this._onChangedSource.bind(this))}else n.addClass("redactor-source-view");setTimeout(function(){this._disableButtons(),this._setActiveSourceButton()}.bind(this),100),this.app.isStarted()&&this.app.broadcast("source.opened")}},hide:function(){if(this.opts.source){var e=this.editor.getElement(),t=this.source.getElement(),n=this.container.getElement(),a=t.val();this.opts.source.hasOwnProperty("codemirror")&&(a=this.codemirror.getValue(),this.codemirror.toTextArea()),a=this.cleaner.input(a,!0),a=this.utils.isEmptyHtml(a)?this.opts.emptyHtml:a,a=this.app.broadcast("source.close",a),this._enableButtons(),this._setInactiveSourceButton(),t.hide(),t.removeClass("redactor-source-open"),t.off(".redactor-source-events"),e.show(),e.html(a),n.removeClass("redactor-source-view"),setTimeout(function(){this.editor.startFocus(),this.component.executeScripts()}.bind(this),0),this.app.broadcast("source.closed")}},sync:function(){var e=this,t=this.editor.getElement().html();t=this.app.broadcast("syncBefore",t),t=this.cleaner.output(t),this._isSync(t)&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e._syncing(t)}),200))},_build:function(){var e=this.source.getElement(),t=this.element.getElement();e.hide(),this.opts.grammarly||e.attr("data-gramm_editor",!1),this.element.isType("textarea")||t.after(e)},_buildClasses:function(){this.source.getElement().addClass("redactor-source")},_syncing:function(e){e=this.app.broadcast("syncing",e),this.source.getElement().val(e),this.app.broadcast("synced",e),this.app.broadcast("changed",e)},_isSync:function(e){return this.syncedHtml!==e&&(this.syncedHtml=e,!0)},_onChangedSource:function(){var e=this.source.getElement().val();this.app.broadcast("changed",e),this.app.broadcast("source.changed",e)},_onTabKey:function(e){if(9!==e.keyCode)return!0;e.preventDefault();var t=this.source.getElement(),n=t.get(),a=n.selectionStart;t.val(t.val().substring(0,a)+"    "+t.val().substring(n.selectionEnd)),n.selectionStart=n.selectionEnd=a+4},_onFocus:function(){this.app.broadcast("sourcefocus")},_disableButtons:function(){this.toolbar.disableButtons()},_enableButtons:function(){this.toolbar.enableButtons()},_setActiveSourceButton:function(){var e=this.toolbar.getButton("html");e.enable(),e.setActive()},_setInactiveSourceButton:function(){this.toolbar.getButton("html").setInactive()}}),$R.add("module","observer",{init:function(e){this.app=e,this.editor=e.editor,this.observerUnit=!1},start:function(){if(window.MutationObserver){var e=this.editor.getElement().get();this.observerUnit=this._build(e),this.observerUnit.observe(e,{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})}},stop:function(){this.observerUnit&&this.observerUnit.disconnect()},_build:function(e){var t=this;return new MutationObserver((function(n){t._observe(n[n.length-1],e)}))},_observe:function(e,t){this.app.isReadOnly()||"attributes"===e.type&&e.target===t||(this.app.broadcast("observe"),this.app.broadcast("trytosync"),this.app.broadcast("placeholder.toggle"))}}),$R.add("module","clicktoedit",{init:function(e){this.app=e,this.opts=e.opts,this.source=e.source,this.editor=e.editor,this.container=e.container,this.selection=e.selection},onstartclicktoedit:function(){this.start()},onenablereadonly:function(){this.opts.clickToEdit&&(this._isEnabled()||this.stop())},ondisablereadonly:function(){this.opts.clickToEdit&&(this._isEnabled()||this.start())},onstop:function(){this.stop()},start:function(){this._build()},stop:function(){this.buttonSave&&this.buttonSave.stop(),this.buttonCancel&&this.buttonCancel.stop(),this._destroy(),this.app.broadcast("disable")},enable:function(){this.app.broadcast("clickStart");var e=this.editor.isEmpty();e||this.selection.saveMarkers(),this._setFocus(),this._destroy(),this.app.broadcast("enable"),this.buttonSave.enable(),this.buttonCancel.enable(),e||this.selection.restoreMarkers(),e&&this.editor.focus(),this.container.getElement().addClass("redactor-clicktoedit-enabled"),this.source.rebuildStartedContent(),this.app.broadcast("startcode"),this.app.broadcast("image.observe")},save:function(e){e&&e.preventDefault();var t=this.source.getCode();this.app.broadcast("disable"),this.app.broadcast("clickSave",t),this.app.broadcast("clickStop"),this.app.broadcast("toolbar.removeexternal"),this._build()},cancel:function(e){e&&e.preventDefault();var t=this.saved;this.editor.getElement().html(t),this.saved="",this.app.broadcast("disable"),this.app.broadcast("clickCancel",t),this.app.broadcast("clickStop"),this.app.broadcast("toolbar.removeexternal"),this._build()},_build:function(){this.buttonSave=$R.create("clicktoedit.button","save",this.app,this),this.buttonCancel=$R.create("clicktoedit.button","cancel",this.app,this),this.buttonSave.stop(),this.buttonCancel.stop();var e=this.editor.getElement(),t=this.container.getElement();e.on("click.redactor-click-to-edit mouseup.redactor-click-to-edit",this.enable.bind(this)),t.addClass("redactor-over"),t.removeClass("redactor-clicktoedit-enabled")},_isEnabled:function(){return this.container.getElement().hasClass("redactor-clicktoedit-enabled")},_destroy:function(){var e=this.editor.getElement(),t=this.container.getElement();e.off(".redactor-click-to-edit"),t.removeClass("redactor-over redactor-clicktoedit-enabled")},_setFocus:function(){this.saved=this.source.getCode(),this.buttonSave.start(),this.buttonCancel.start()}}),$R.add("class","clicktoedit.button",{init:function(e,t,n){this.app=t,this.opts=t.opts,this.toolbar=t.toolbar,this.context=n,this.type=e,this.name="save"===e?"clickToSave":"clickToCancel",this.objected=!1,this.enabled=!1,this.namespace=".redactor-click-to-edit",this._build()},enable:function(){if(this.objected){var e=this.opts[this.name];e.api="module.clicktoedit."+this.type,this.toolbar.addButton(this.type,e),this.enabled=!0}},start:function(){this.objected||(this.$button.off(this.namespace),this.$button.show(),this.$button.on("click"+this.namespace,this.context[this.type].bind(this.context)))},stop:function(){!this.objected&&this.enabled&&this.$button.hide()},_build:function(){this.objected="object"===typeof this.opts[this.name],this.objected||(this.$button=$R.dom(this.opts[this.name]),this.enabled=!0)}}),$R.add("module","statusbar",{init:function(e){this.app=e,this.opts=e.opts,this.element=e.element,this.statusbar=e.statusbar,this.container=e.container},start:function(){if(!this.element.isType("inline")){var e=this.statusbar.getElement(),t=this.container.getElement();e.addClass("redactor-statusbar"),t.append(e)}}}),$R.add("module","contextbar",{init:function(e){this.app=e,this.opts=e.opts,this.uuid=e.uuid,this.$win=e.$win,this.$doc=e.$doc,this.$body=e.$body,this.editor=e.editor,this.toolbar=e.toolbar,this.detector=e.detector,this.$target=this.toolbar.isTarget()?this.toolbar.getTargetElement():this.$body},onstop:function(){this.stop()},onenablereadonly:function(){this.stop()},ondisablereadonly:function(){this.start()},oncontextbar:{close:function(){this.close()}},start:function(){if(this.opts.toolbarContext){var e=this.editor.getElement();this._build(),e.on("click.redactor-context mouseup.redactor-context",this.open.bind(this)),this.opts.scrollTarget?$R.dom(this.opts.scrollTarget).on("scroll.redactor-context",this.close.bind(this)):!1!==this.opts.maxHeight&&e.on("scroll.redactor-context",this.close.bind(this))}},stop:function(){this.editor.getElement().off(".redactor-context"),this.$doc.off(".redactor-context"),this.$win.off(".redactor-context"),this.$contextbar&&this.$contextbar.remove(),this.opts.scrollTarget&&$R.dom(this.opts.scrollTarget).off(".redactor-context")},is:function(){return this.$contextbar&&this.$contextbar.hasClass("open")},set:function(e,t,n,a){for(var s in this.$contextbar.html(""),this.$el=$R.dom(t),n){var i=$R.create("contextbar.button",this.app,n[s]);""!==i.html()&&this.$contextbar.append(i)}var o=this._buildPosition(e,this.$el,a);this.$contextbar.css(o),this.$contextbar.show(),this.$contextbar.addClass("open"),this.$doc.on("click.redactor-context mouseup.redactor-context",this.close.bind(this)),this.$win.on("resize.redactor-context",this.close.bind(this))},open:function(e){setTimeout(function(){this.app.broadcast("contextbar",e,this)}.bind(this),0)},close:function(e){if(this.$contextbar){if(e){var t=$R.dom(e.target);if(this.$el&&0!==t.closest(this.$el).length)return}this.$contextbar.hide(),this.$contextbar.removeClass("open"),this.$doc.off(".redactor.context")}},_build:function(){this.$contextbar=$R.dom("<div>"),this.$contextbar.attr("id","redactor-context-toolbar-"+this.uuid),this.$contextbar.attr("dir",this.opts.direction),this.$contextbar.addClass("redactor-context-toolbar"),this.$contextbar.hide(),this.$target.append(this.$contextbar)},_buildPosition:function(e,t,n){var a,s,i=this.toolbar.isTarget(),o=i?t.position():t.offset(),r=t.width(),c=t.height(),_=this.$contextbar.width(),l=this.$contextbar.height(),u=i?this.$target.scrollTop()+this.$doc.scrollTop():this.$doc.scrollTop(),d=this.$target.offset(),p=i?d.left:0,m=i?d.top:0;return n?"top"===n?(a=o.top-l,s=o.left+r/2-_/2):"bottom"===n&&(a=o.top+c,s=o.left+r/2-_/2):(a=e.clientY+u-l,s=e.clientX-_/2),s<0&&(s=0),{top:a-m+"px",left:s-p+"px"}}}),$R.add("class","contextbar.button",{mixins:["dom"],init:function(e,t){this.app=e,this.obj=t,this._init()},_init:function(){if(this.parse("<a>"),"string"!==typeof this.obj.title){var e=this.obj.title.attr("href");this.attr("href",e),-1===e.search(/^#/)&&this.attr("target","_blank"),this.text(this.obj.html||e)}else this.attr("href","#"),this._buildTitle(),this._buildMessage()},_buildTitle:function(){this.html(this.obj.title)},_buildMessage:function(){"undefined"===typeof this.obj.message&&"undefined"===typeof this.obj.api||this.on("click",this._toggle.bind(this))},_toggle:function(e){e.preventDefault(),this.obj.message?this.app.broadcast(this.obj.message,this.obj.args):this.obj.api&&this.app.api(this.obj.api,this.obj.args)}}),$R.add("module","toolbar",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.toolbar=e.toolbar,this.detector=e.detector,this.buttons=[],this.toolbarModule=!1},onsource:{open:function(){!this.toolbar.isAir()&&this.toolbar.isFixed()&&this.toolbarModule.resetPosition()},opened:function(){this.toolbar.isAir()&&this.toolbarModule&&this.toolbarModule.createSourceHelper(),setTimeout(function(){$R.dom(".re-button-tooltip-"+this.uuid).remove()}.bind(this),100)},close:function(){this.toolbar.isAir()&&this.toolbarModule&&this.toolbarModule.destroySourceHelper()},closed:function(){this.toolbar.is()&&this.opts.air&&this.toolbarModule.openSelected()}},ontoolbar:{removeexternal:function(){!this.opts.air&&this.opts.toolbarExternal&&this.opts.clickToEdit&&$R.dom(this.opts.toolbarExternal).html("")}},onobserve:function(){this.toolbar.is()&&this.toolbar.observe()},onfocus:function(){this._setExternalOnFocus()},onsourcefocus:function(){this._setExternalOnFocus()},onempty:function(){this.toolbar.isFixed()&&this.toolbarModule.resetPosition()},onenablereadonly:function(){this.toolbar.isAir()&&this.toolbarModule.close()},start:function(){this.toolbar.is()&&(this._buildButtons(),this._initToolbar(),this._initButtons())},stop:function(){this.toolbarModule&&this.toolbarModule.stop(),$R.dom(".re-button-tooltip-"+this.uuid).remove(),$R.dom(".redactor-dropdown-"+this.uuid).remove()},_buildButtons:function(){this.buttons=this.opts.buttons.concat(),this._buildImageButton(),this._buildFileButton(),this._buildSourceButton(),this._buildAdditionalButtons(),this._buildHiddenButtons()},_buildImageButton:function(){this.opts.imageUpload||this.opts.imageManagerJson||this.utils.removeFromArrayByValue(this.buttons,"image")},_buildFileButton:function(){this.opts.fileUpload||this.utils.removeFromArrayByValue(this.buttons,"file")},_buildSourceButton:function(){this.opts.source||this.utils.removeFromArrayByValue(this.buttons,"html")},_buildAdditionalButtons:function(){var e,t;if(0!==this.opts.buttonsAdd.length&&(this.opts.buttonsAdd=this._removeExistButtons(this.opts.buttonsAdd),this.buttons=this.buttons.concat(this.opts.buttonsAdd)),0!==this.opts.buttonsAddFirst.length&&(this.opts.buttonsAddFirst=this._removeExistButtons(this.opts.buttonsAddFirst),this.buttons.unshift(this.opts.buttonsAddFirst)),!1!==this.opts.buttonsAddAfter){e=this.buttons.indexOf(this.opts.buttonsAddAfter.after)+1,t=this.opts.buttonsAddAfter.buttons;for(var n=0;n<t.length;n++)this.buttons.splice(e+n,0,t[n])}if(!1!==this.opts.buttonsAddBefore){e=this.buttons.indexOf(this.opts.buttonsAddBefore.before)+1,t=this.opts.buttonsAddBefore.buttons;for(n=0;n<t.length;n++)this.buttons.splice(e-(1-n),0,t[n])}},_buildHiddenButtons:function(){if(0!==this.opts.buttonsHide.length)for(var e=this.opts.buttonsHide,t=0;t<e.length;t++)this.utils.removeFromArrayByValue(this.buttons,e[t]);if(this.detector.isMobile()&&0!==this.opts.buttonsHideOnMobile.length)for(e=this.opts.buttonsHideOnMobile,t=0;t<e.length;t++)this.utils.removeFromArrayByValue(this.buttons,e[t])},_removeExistButtons:function(e){for(var t=0;t<e.length;t++)-1!==this.opts.buttons.indexOf(e[t])&&this.utils.removeFromArrayByValue(e,e[t]);return e},_setExternalOnFocus:function(){!this.opts.air&&this.opts.toolbarExternal&&this.toolbarModule.setExternal()},_initToolbar:function(){this.toolbarModule=this.opts.air?$R.create("toolbar.air",this.app):$R.create("toolbar.standard",this.app)},_initButtons:function(){this.toolbar.setButtons(this.buttons);for(var e=0;e<this.buttons.length;e++){var t=this.buttons[e];$R.buttons[t]&&this.toolbar.addButton(t,$R.buttons[t],!1,!1,!0)}}}),$R.add("class","toolbar.air",{init:function(e){this.app=e,this.uuid=e.uuid,this.$doc=e.$doc,this.$win=e.$win,this.utils=e.utils,this.editor=e.editor,this.animate=e.animate,this.toolbar=e.toolbar,this.container=e.container,this.inspector=e.inspector,this.selection=e.selection,this.clicks=0,this._init()},stop:function(){this.toolbar.getWrapper().remove(),this.editor.getElement().off(".redactor-air-trigger-"+this.uuid),this.$doc.off(".redactor-air-"+this.uuid),this.$doc.off(".redactor-air-trigger-"+this.uuid),this.toolbar.stopObservers()},createSourceHelper:function(){this.$airHelper=$R.dom("<span>"),this.$airHelper.addClass("redactor-air-helper"),this.$airHelper.html('<i class="re-icon-html"></i>'),this.$airHelper.on("click",function(e){e.preventDefault(),this.app.api("module.source.hide")}.bind(this)),this.container.getElement().append(this.$airHelper)},destroySourceHelper:function(){this.$airHelper&&this.$airHelper.remove()},openSelected:function(){setTimeout(function(){this._isSelection()&&this._open(!1)}.bind(this),0)},close:function(){this.$doc.off(".redactor-air-"+this.uuid);var e=this.toolbar.getElement();e.removeClass("open"),e.hide()},_init:function(){this.toolbar.create();var e=this.toolbar.getWrapper(),t=this.toolbar.getElement(),n=this.editor.getElement(),a=this.container.getElement();e.addClass("redactor-toolbar-wrapper-air"),t.addClass("redactor-air"),t.hide(),e.append(t),a.prepend(e),this.openSelected(),this.$doc.on("mouseup.redactor-air-trigger-"+this.uuid,this._open.bind(this)),n.on("keyup.redactor-air-trigger-"+this.uuid,this._openCmd.bind(this))},_isSelection:function(){return this.selection.is()&&!this.selection.isCollapsed()},_isOpened:function(){return this.toolbar.getElement().hasClass("open")},_open:function(e){var t=!!e&&e.target,n=!!e&&$R.dom(e.target),a=this.inspector.parse(t),s=a.isComponent()&&!a.isComponentType("table"),i=a.isFigcaption(),o=n&&0!==n.closest(".redactor-modal").length,r=e&&0!==n.closest(".re-button").length;if(!(e&&0!==n.closest(".redactor-dropdown").length||r||o||i||s||this.toolbar.isContextBar())&&this._isSelection()){var c=this.selection.getPosition();setTimeout(function(){this.app.isReadOnly()||this._isSelection()&&this._doOpen(c)}.bind(this),1)}},_openCmd:function(){if(this.selection.isAll()){var e=this.toolbar.getElement(),t=this.selection.getPosition();t.top=t.top<20?0:t.top-e.height(),t.height=0,this._doOpen(t)}},_doOpen:function(e){var t=this.toolbar.getWrapper(),n=this.toolbar.getElement(),a=this.container.getElement().offset(),s=0,i=this.$win.width(),o=n.width();i<e.left+o&&(s=o-this.selection.getPosition().width);t.css({left:e.left-a.left-s+"px",top:e.top-a.top+e.height+this.$doc.scrollTop()+"px"}),this.app.broadcast("airOpen"),n.addClass("open"),n.show(),this.$doc.on("click.redactor-air-"+this.uuid,this._close.bind(this)),this.$doc.on("keydown.redactor-air-"+this.uuid,this._close.bind(this)),this.app.broadcast("airOpened")},_close:function(e){var t=!!e&&$R.dom(e.target),n=e&&0!==t.closest("[data-dropdown], .redactor-dropdown-not-close").length;(!n&&e&&0!==t.closest(".re-button").length||!n&&this._isOpened())&&(this.app.broadcast("airClose"),this.close(),this.app.broadcast("airClosed"))}}),$R.add("class","toolbar.fixed",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.$doc=e.$doc,this.$win=e.$win,this.editor=e.editor,this.toolbar=e.toolbar,this.detector=e.detector,this.container=e.container,this._init()},stop:function(){this.$fixedTarget.off(".redactor-toolbar-"+this.uuid),this.$win.off(".redactor-toolbar-"+this.uuid)},reset:function(){var e=this.toolbar.getElement();this.toolbar.getWrapper().css("height",""),e.removeClass("redactor-toolbar-fixed"),e.css({position:"",top:"",left:"",width:""});var t=this.toolbar.getDropdown();t&&t.updatePosition()},_init:function(){this.$fixedTarget=this.toolbar.isTarget()?this.toolbar.getTargetElement():this.$win,this._doFixed(),this.toolbar.isTarget()&&(this.$win.on("scroll.redactor-toolbar-"+this.uuid,this._doFixed.bind(this)),this.$win.on("resize.redactor-toolbar-"+this.uuid,this._doFixed.bind(this))),this.$fixedTarget.on("scroll.redactor-toolbar-"+this.uuid,this._doFixed.bind(this)),this.$fixedTarget.on("resize.redactor-toolbar-"+this.uuid,this._doFixed.bind(this))},_doFixed:function(){var e=this.editor.getElement(),t=this.container.getElement(),n=this.toolbar.getElement(),a=this.toolbar.getWrapper();if(!this.editor.isSourceMode()&&0===t.parents().filter((function(e){return"none"===getComputedStyle(e,null).display&&e})).length){var s=e.height()<100,i=this.editor.isEmpty();if(s||i)this.reset();else if(!this.editor.isSourceMode()){var o=n.height(),r=(this.toolbar.isTarget()?t.position():t.offset()).top,c=r+t.height()-60,_=this.$fixedTarget.scrollTop()+this.opts.toolbarFixedTopOffset,l=this.toolbar.isTarget()?this.$fixedTarget.offset().top-this.$win.scrollTop():0;if(this.toolbar.isTarget()&&"fixed"===this.$fixedTarget.css("position")){var u=this.$fixedTarget.hasClass("modal")&&this.$fixedTarget.hasClass("fade")?t.closest(".modal-dialog").position().top:0;l=this.$fixedTarget.scrollTop()-u}if(_>r&&_<c){var d=this.detector.isDesktop()?"fixed":"absolute";l=this.detector.isDesktop()?l:_-r,this.detector.isMobile()&&(this.fixedScrollTimeout&&clearTimeout(this.fixedScrollTimeout),n.hide(),this.fixedScrollTimeout=setTimeout((function(){n.show()}),250)),a.height(o),n.addClass("redactor-toolbar-fixed"),t.hasClass("redactor-box-fullscreen")?n.css({position:d,top:"0px",width:t.width()+"px"}):n.css({position:d,top:l+this.opts.toolbarFixedTopOffset+"px",width:t.width()+"px"});var p=this.toolbar.getDropdown();p&&p.updatePosition(),this.app.broadcast("toolbar.fixed")}else this.reset(),this.app.broadcast("toolbar.unfixed")}}}}),$R.add("class","toolbar.standard",{init:function(e){this.app=e,this.opts=e.opts,this.uuid=e.uuid,this.$body=e.$body,this.toolbar=e.toolbar,this.container=e.container,this.isExternalMultiple=!1,this.toolbarFixed=!1,this._init()},stop:function(){this.toolbar.getWrapper().remove(),this.toolbarFixed&&this.toolbarFixed.stop(),this.opts.toolbarExternal&&this._findToolbars(),this.toolbar.stopObservers(),this.$body.find(".re-button-tooltip-"+this.uuid).remove()},setExternal:function(){(this._findToolbars(),this.isExternalMultiple)&&(this.$toolbars.hide(),this.$external.find(".redactor-toolbar-external-"+this.uuid).show())},resetPosition:function(){this.toolbarFixed&&this.toolbarFixed.reset()},_init:function(){(this._build(),this.opts.toolbarExternal)?this._buildExternal():(this._buildFixed(),this.toolbar.getElement().show())},_build:function(){this.toolbar.create();var e=this.toolbar.getWrapper(),t=this.toolbar.getElement();(e.addClass("redactor-toolbar-wrapper"),t.addClass("redactor-toolbar"),t.hide(),e.append(t),this.opts.toolbarExternal)||this.container.getElement().prepend(e)},_buildExternal:function(){(this._initExternal(),this._findToolbars(),this.isExternalMultiple)?this._hideToolbarsExceptFirst():this.toolbar.getElement().show()},_buildFixed:function(){this.opts.toolbarFixed&&(this.toolbarFixed=$R.create("toolbar.fixed",this.app))},_initExternal:function(){var e=this.toolbar.getElement(),t=this.toolbar.getElement();e.addClass("redactor-toolbar-external redactor-toolbar-external-"+this.uuid),this.$external=$R.dom(this.opts.toolbarExternal),this.$external.append(t)},_findToolbars:function(){this.$toolbars=this.$external.find(".redactor-toolbar-external"),this.isExternalMultiple=this.$toolbars.length>1},_hideToolbarsExceptFirst:function(){this.$toolbars.hide(),this.$toolbars.first().show()}}),$R.add("module","line",{init:function(e){this.app=e,this.lang=e.lang,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion},oncontextbar:function(e,t){var n=this.inspector.parse(e.target);if(n.isComponentType("line")){var a=n.getComponent(),s={remove:{title:this.lang.get("delete"),api:"module.line.remove",args:a}};t.set(e,a,s,"bottom")}},insert:function(){var e=this.component.create("line");this.insertion.insertRaw(e)},remove:function(e){this.component.remove(e)}}),$R.add("class","line.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){var t,n;if("undefined"!==typeof e){var a=$R.dom(e),s=a.get();"HR"===s.tagName?n=s:"FIGURE"===s.tagName&&(t=s,n=a.find("hr").get())}this._buildWrapper(t),this._buildElement(n),this._initWrapper()},_buildElement:function(e){e?this.$element=$R.dom(e):(this.$element=$R.dom("<hr>"),this.append(this.$element))},_buildWrapper:function(e){e=e||"<figure>",this.parse(e)},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"line",tabindex:"-1",contenteditable:!1})}}),$R.add("module","link",{modals:{link:'<form action="">                 <div class="form-item">                     <label for="modal-link-url">URL <span class="req">*</span></label>                     <input type="text" id="modal-link-url" name="url">                 </div>                 <div class="form-item">                     <label for="modal-link-text">## text ##</label>                     <input type="text" id="modal-link-text" name="text">                 </div>                 <div class="form-item form-item-title">                     <label for="modal-link-title">## title ##</label>                     <input type="text" id="modal-link-title" name="title">                 </div>                 <div class="form-item form-item-target">                     <label class="checkbox">                         <input type="checkbox" name="target"> ## link-in-new-tab ##                     </label>                 </div>             </form>'},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.caret=e.caret,this.utils=e.utils,this.inline=e.inline,this.editor=e.editor,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this.isCurrentLink=!1,this.currentText=!1},onmodal:{link:{open:function(e,t){this._setFormData(t,e)},opened:function(e,t){this._setFormFocus(t)},update:function(e,t){var n=t.getData();this._validateData(t,n)&&this._update(n)},insert:function(e,t){var n=t.getData();this._validateData(t,n)&&this._insert(n)},unlink:function(){this._unlink()}}},onbutton:{link:{observe:function(e){this._observeButton(e)}}},ondropdown:{link:{observe:function(e){this._observeUnlink(e),this._observeEdit(e)}}},oncontextbar:function(e,t){var n=this._getCurrent(),a=this.inspector.parse(n);if(a.isLink()||a.isFile()){var s=a.isFile()?a.getFile():a.getLink(),i=$R.dom(s),o=$R.dom("<a>"),r=i.attr("href");o.text(this._truncateText(r)),o.attr("href",r),o.attr("target","_blank");var c={link:{title:o,html:this._truncateText(r)},edit:{title:this.lang.get("edit"),api:"module.link.open"},unlink:{title:this.lang.get("unlink"),api:"module.link.unlink"}};t.set(e,s,c,"bottom")}},open:function(){this.$link=this._buildCurrent(),this.app.api("module.modal.build",this._getModalData())},insert:function(e){this._insert(e)},update:function(e){this._update(e)},unlink:function(){this._unlink()},_observeButton:function(e){var t=this.selection.getCurrent(),n=this.inspector.parse(t);n.isPre()||n.isCode()?e.disable():e.enable()},_observeUnlink:function(e){var t=e.getItem("unlink");0===this._getLinks().length?t.disable():t.enable()},_observeEdit:function(e){var t=this._getCurrent(),n=e.getItem("link"),a=this.inspector.parse(t),s=a.isLink()||a.isFile()?this.lang.get("link-edit"):this.lang.get("link-insert");n.setTitle(s)},_unlink:function(){this.app.api("module.modal.close");var e=[],t=this._getLinks();this.selection.save();for(var n=0;n<t.length;n++){var a=$R.create("link.component",this.app,t[n]);e.push(this.selection.getElement(t[n])),a.unwrap(),this.app.broadcast("link.deleted",a)}this.selection.restore();for(n=0;n<e.length;n++){var s=e[n]?e[n]:this.editor.getElement();this.utils.normalizeTextNodes(s)}this._resetCurrent()},_update:function(e){this.app.api("module.modal.close");var t=this._getLinks();this._setLinkData(t,e,"updated"),this._resetCurrent(),this.app.broadcast("link.changed",t)},_insert:function(e){this.app.api("module.modal.close");var t=this._getLinks();this._insertSingle(t,e)||(this._removeInSelection(t),this._insertMultiple(e)),this._resetCurrent()},_removeInSelection:function(e){this.selection.save();for(var t=0;t<e.length;t++){var n=$R.create("link.component",this.app,e[t]),a=n.clone();n.unwrap(),this.app.broadcast("link.deleted",a)}this.selection.restore()},_insertMultiple:function(e){var t=this.selection.getRange();t&&this._isCurrentTextChanged(e)&&this._deleteContents(t);var n=this.inline.format({tag:"a"});this._setLinkData(n,e,"inserted")},_insertSingle:function(e,t){var n=this.selection.getInline();if(1===e.length&&(e[0].textContext===this.selection.getText()||n&&"A"===n.tagName)){var a=$R.create("link.component",this.app,e[0]);return a.setData(t),this.caret.setAfter(a),this.app.broadcast("link.inserted",a),!0}return!1},_setLinkData:function(e,t,n){t.text=""===t.text.trim()?this._truncateText(t.url):t.text;var a=!this.currentText||this.currentText!==t.text;this.selection.save();for(var s=0;s<e.length;s++){var i=$R.create("link.component",this.app,e[s]),o={};t.text&&a&&(o.text=t.text),t.url&&(o.url=t.url),void 0!==t.title&&(o.title=t.title),void 0!==t.target&&(o.target=t.target),i.setData(o),this.app.broadcast("link."+n,i)}setTimeout(this.selection.restore.bind(this.selection),0)},_deleteContents:function(e){var t=this.selection.getHtml(),n=this.utils.parseHtml(t).nodes[0];if(n&&3!==n.nodeType){var a=n.tagName.toLowerCase(),s=document.createElement(a);this.insertion.insertNode(s,"start")}else e.deleteContents()},_getModalData:function(){var e;return e=this._isLink()?{update:{title:this.lang.get("save")},unlink:{title:this.lang.get("unlink"),type:"danger"},cancel:{title:this.lang.get("cancel")}}:{insert:{title:this.lang.get("insert")},cancel:{title:this.lang.get("cancel")}},{name:"link",title:this._isLink()?this.lang.get("link-edit"):this.lang.get("link-insert"),handle:this._isLink()?"update":"insert",commands:e}},_isLink:function(){return this.currentLink},_isCurrentTextChanged:function(e){return this.currentText&&this.currentText!==e.text},_buildCurrent:function(){var e,t=this._getCurrent(),n=this.inspector.parse(t);if(n.isLink()||n.isFile())this.currentLink=!0,e=n.isFile()?n.getFile():n.getLink(),e=$R.create("link.component",this.app,e);else{this.currentLink=!1,e=$R.create("link.component",this.app);var a={text:this.selection.getText()};e.setData(a)}return e},_getCurrent:function(){return this.selection.getInlinesAllSelected({tags:["a"]})[0]},_getLinks:function(){for(var e=this.selection.getInlines({all:!0,tags:["a"]}),t=[],n=0;n<e.length;n++){var a=this.inspector.parse(e[n]);(a.isLink()||a.isFile())&&t.push(e[n])}return t},_resetCurrent:function(){this.isCurrentLink=!1,this.currentText=!1},_truncateText:function(e){return e&&e.length>this.opts.linkSize?e.substring(0,this.opts.linkSize)+"...":e},_validateData:function(e,t){return""!==t.url.trim()||e.setError("url")},_setFormFocus:function(e){e.getField("url").focus()},_setFormData:function(e,t){var n=this.$link.getData(),a={url:n.url,text:n.text,title:n.title,target:this.opts.linkTarget||n.target};this.opts.linkNewTab||t.find(".form-item-target").hide(),this.opts.linkTitle||t.find(".form-item-title").hide(),e.setData(a),this.currentText=e.getField("text").val()}}),$R.add("class","link.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.opts=e.opts,this.reUrl=/^(?:(?:(?:https?|ftp):)?\/\/)?(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,t&&void 0!==t.cmnt?t:this._init(t)},setData:function(e){for(var t in e)this._set(t,e[t])},getData:function(){for(var e=["url","text","target","title"],t={},n=0;n<e.length;n++)t[e[n]]=this._get(e[n]);return t},_init:function(e){var t=$R.dom(e);void 0===e?this.parse("<a>"):this.parse(t)},_set:function(e,t){this["_set_"+e](t)},_get:function(e){return this["_get_"+e]()},_get_target:function(){return!!this.attr("target")&&this.attr("target")},_get_url:function(){return this.attr("href")},_get_title:function(){return this.attr("title")},_get_text:function(){return this._getContext().text()},_getContext:function(){return this._findDeepestChild(this).element},_set_target:function(e){!1===e?this.removeAttr("target"):e&&this.attr("target",!0===e?"_blank":e)},_set_text:function(e){this._getContext().html(e)},_set_title:function(e){e&&""!==e?this.attr("title",e):this.removeAttr("title")},_set_url:function(e){this.opts.linkValidation&&(e=this._cleanUrl(e),this._isMailto(e)?e="mailto:"+e.replace("mailto:",""):this._isUrl(e)&&-1===e.search(/^(ftp|https?)/i)&&(e="http://"+e.replace(/(ftp|https?):\/\//i,""))),this.attr("href",e)},_isMailto:function(e){return-1!==e.search("@")&&!1===/(ftp|https?):\/\//i.test(e)},_isUrl:function(e){return this.reUrl.test(e)},_cleanUrl:function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")).trim().replace(/[^\W\w\D\d+&\'@#/%?=~_|!:,.;\(\)]/gi,"")},_findDeepestChild:function(e){var t={depth:0,element:e};return e.children().each(function(n){var a=$R.dom(n);if(n.outerHTML===e.html()){var s=this._findDeepestChild(a);s.depth+1>t.depth&&(t={depth:1+s.depth,element:s.element})}}.bind(this)),t}}),$R.add("module","modal",{init:function(e){this.app=e,this.uuid=e.uuid,this.lang=e.lang,this.$doc=e.$doc,this.$win=e.$win,this.$body=e.$body,this.utils=e.utils,this.editor=e.editor,this.animate=e.animate,this.detector=e.detector,this.selection=e.selection,this.$box=!1,this.$modal=!1,this.selectionMarkers=!1,this.defaults={name:!1,url:!1,title:!1,width:"600px",height:!1,handle:!1,commands:!1}},build:function(e){this._open(e)},close:function(){this._close()},onstop:function(){this.$body.find("#redactor-modal-"+this.uuid).remove(),this.$body.find("#redactor-overlay-"+this.uuid).remove()},stop:function(){this.$box&&(this.$box.remove(),this.$box=!1,this.$modal=!1),this.$overlay&&this.$overlay.remove(),this.$doc.off(".redactor.modal"),this.$win.off(".redactor.modal")},resize:function(){this.$modal.setWidth(this.p.width),this.$modal.updatePosition()},_isOpened:function(){return this.$modal&&this.$modal.hasClass("open")},_open:function(e){this._buildDefaults(e),this.p.url?this._openUrl():this._openTemplate()},_openUrl:function(){$R.ajax.post({url:this.p.url,success:this._doOpen.bind(this)})},_openTemplate:function(){if("undefined"!==typeof $R.modals[this.p.name]){var e=this.lang.parse($R.modals[this.p.name]);this._doOpen(e)}},_doOpen:function(e){this.stop(),this.selection.isCollapsed()?(this.selection.save(),this.selectionMarkers=!1):(this.selection.saveMarkers(),this.selectionMarkers=!0),this.detector.isDesktop()||document.activeElement.blur(),this._createModal(e),this._buildModalBox(),this._buildOverlay(),this._buildModal(),this._buildModalForm(),this._buildModalCommands(),this._broadcast("open"),this.$modal.updatePosition(),this._buildModalTabs(),this.animate.start(this.$box,"fadeIn",this._opened.bind(this)),this.animate.start(this.$overlay,"fadeIn")},_opened:function(){this.$modal.addClass("open"),this.$box.on("mousedown.redactor.modal",this._close.bind(this)),this.$doc.on("keyup.redactor.modal",this._handleEscape.bind(this)),this.$win.on("resize.redactor.modal",this.resize.bind(this)),this.$modal.getBody().find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor.modal",this._handleEnter.bind(this)),window.jQuery&&jQuery(document).off("focusin.modal"),this._broadcast("opened")},_close:function(e){if(this.$box&&this._isOpened()){if(e){if(!this._needToClose(e.target))return;e.stopPropagation(),e.preventDefault()}this.selectionMarkers?this.selection.restoreMarkers():this.selection.restore(),this.selectionMarkers=!1,this._broadcast("close"),this.animate.start(this.$box,"fadeOut",this._closed.bind(this)),this.animate.start(this.$overlay,"fadeOut")}},_closed:function(){this.$modal.removeClass("open"),this.$box.off(".redactor.modal"),this.$doc.off(".redactor.modal"),this.$win.off(".redactor.modal"),this._broadcast("closed")},_createModal:function(e){this.$modal=$R.create("modal.element",this.app,e)},_broadcast:function(e){this.app.broadcast("modal."+e,this.$modal,this.$modalForm),this.app.broadcast("modal."+this.p.name+"."+e,this.$modal,this.$modalForm)},_buildDefaults:function(e){this.p=$R.extend({},this.defaults,e)},_buildModalBox:function(){this.$box=$R.dom("<div>"),this.$box.attr("id","redactor-modal-"+this.uuid),this.$box.addClass("redactor-modal-box redactor-animate-hide"),this.$box.html(""),this.$body.append(this.$box)},_buildOverlay:function(){this.$overlay=$R.dom("#redactor-overlay-"+this.uuid),0===this.$overlay.length&&(this.$overlay=$R.dom("<div>"),this.$overlay.attr("id","redactor-overlay-"+this.uuid),this.$overlay.addClass("redactor-overlay redactor-animate-hide"),this.$body.prepend(this.$overlay))},_buildModal:function(){this.$box.append(this.$modal),this.$modal.setTitle(this.p.title),this.$modal.setHeight(this.p.height),this.$modal.setWidth(this.p.width)},_buildModalCommands:function(){if(this.p.commands){var e=this.p.commands,t=this.$modal.getFooter();for(var n in e){var a=$R.dom("<button>");a.html(e[n].title),a.attr("data-command",n),"cancel"===n&&(a.attr("data-action","close"),a.addClass("redactor-button-unstyled")),"undefined"!==typeof e[n].type&&"danger"===e[n].type&&a.addClass("redactor-button-danger"),a.on("click",this._handleCommand.bind(this)),t.append(a)}}},_buildModalTabs:function(){var e=this.$modal.getBody(),t=e.find(".redactor-modal-tab"),n=e.find(".redactor-modal-tabs");t.length>1&&((n=0===n.length?$R.dom("<div>"):n.html("")).addClass("redactor-modal-tabs"),t.each(function(e,t){var a=$R.dom(e),s=$R.dom("<a>");s.attr("href","#"),s.attr("rel",t),s.text(a.attr("data-title")),s.on("click",this._showTab.bind(this)),0===t&&s.addClass("active"),n.append(s)}.bind(this)),e.prepend(n)),1===t.length&&t.show()},_buildModalForm:function(){this.$modalForm=$R.create("modal.form",this.app,this.$modal.getForm())},_showTab:function(e){e.preventDefault();var t=$R.dom(e.target),n=t.attr("rel"),a=this.$modal.getBody(),s=a.find(".redactor-modal-tab");s.hide(),s.eq(n).show(),a.find(".redactor-modal-tabs a").removeClass("active"),t.addClass("active")},_needToClose:function(e){var t=$R.dom(e);return!("close"!==t.attr("data-action")&&!this.$modal.isCloseNode(e)&&0!==t.closest(".redactor-modal").length)},_handleCommand:function(e){var t=$R.dom(e.target).closest("button").attr("data-command");"cancel"!==t&&e.preventDefault(),this._broadcast(t)},_handleEnter:function(e){13===e.which&&this.p.handle&&(e.preventDefault(),this._broadcast(this.p.handle))},_handleEscape:function(e){27===e.which&&this._close()}}),$R.add("class","modal.element",{mixins:["dom"],init:function(e,t){this.app=e,this.opts=e.opts,this.$win=e.$win,this._init(t)},getForm:function(){return this.find("form")},getHeader:function(){return this.$modalHeader},getBody:function(){return this.$modalBody},getFooter:function(){return this.$modalFooter},setTitle:function(e){e&&this.$modalHeader.html(e)},setWidth:function(e){e=parseInt(e)>=this.$win.width()?"96%":e,this.css("max-width",e)},setHeight:function(e){!1!==e&&this.$modalBody.css("height",e)},updatePosition:function(){var e=this.width();this.css({left:"50%","margin-left":"-"+e/2+"px"});var t=this.$win.height(),n=this.height(),a=t/2-n/2;n<t&&0!==a&&this.css("margin-top",a+"px")},isCloseNode:function(e){return e===this.$modalClose.get()},_init:function(e){this._build(),this._buildClose(),this._buildHeader(),this._buildBody(),this._buildFooter(),this._buildTemplate(e)},_build:function(){this.parse("<div>"),this.addClass("redactor-modal"),this.attr("dir",this.opts.direction)},_buildClose:function(){this.$modalClose=$R.dom("<span>"),this.$modalClose.addClass("redactor-close"),this.append(this.$modalClose)},_buildHeader:function(){this.$modalHeader=$R.dom("<div>"),this.$modalHeader.addClass("redactor-modal-header"),this.append(this.$modalHeader)},_buildBody:function(){this.$modalBody=$R.dom("<div>"),this.$modalBody.addClass("redactor-modal-body"),this.append(this.$modalBody)},_buildFooter:function(){this.$modalFooter=$R.dom("<div>"),this.$modalFooter.addClass("redactor-modal-footer"),this.append(this.$modalFooter)},_buildTemplate:function(e){this.$modalBody.html(e)}}),$R.add("class","modal.form",{mixins:["dom"],init:function(e,t){this.app=e,this.build(t)},build:function(e){this.parse(e)},getData:function(){var e={};return this.find("[name]").each((function(t){var n=$R.dom(t);e[n.attr("name")]=n.val()})),e},setData:function(e){this.find("[name]").each((function(t){var n=$R.dom(t),a=n.attr("name");e.hasOwnProperty(a)&&(t.type&&"checkbox"===t.type?t.checked=e[a]:n.val(e[a]))}))},getField:function(e){return this.find("[name="+e+"]")},setError:function(e){var t=this.getField(e);return t.addClass("error"),t.one(this._getFieldEventName(t.get()),this._clearError),!1},_clearError:function(){return $R.dom(this).removeClass("error")},_getFieldEventName:function(e){return"SELECT"===e.tagName||"checkbox"===e.type||"radio"===e.type?"change":"keyup"}}),$R.add("module","block",{init:function(e){this.app=e,this.block=e.block},format:function(e){var t=this.block.format(e);this.app.broadcast("format","block",t)},clearformat:function(){this.block.clearFormat()},clearstyle:function(){this.block.clearStyle()},clearclass:function(){this.block.clearClass()},clearattr:function(){this.block.clearAttr()},add:function(e,t){this.block.add(e,t)},toggle:function(e,t){this.block.toggle(e,t)},set:function(e,t){this.block.set(e,t)},remove:function(e,t){this.block.remove(e,t)}}),$R.add("module","inline",{init:function(e){this.app=e,this.inline=e.inline},format:function(e){var t=this.inline.format(e);this.app.broadcast("format","inline",t)},clearformat:function(){this.inline.clearFormat()},clearstyle:function(){this.inline.clearStyle()},clearclass:function(){this.inline.clearClass()},clearattr:function(){this.inline.clearAttr()},add:function(e,t){this.inline.add(e,t)},toggle:function(e,t){this.inline.toggle(e,t)},set:function(e,t){this.inline.set(e,t)},remove:function(e,t){this.inline.remove(e,t)}}),$R.add("module","autosave",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.source=e.source},onsynced:function(){this.opts.autosave&&this._send()},_send:function(){var e=this.opts.autosaveName?this.opts.autosaveName:this.source.getName(),t={};t[e]=this.source.getCode(),t=this.utils.extendData(t,this.opts.autosaveData),$R.ajax.post({url:this.opts.autosave,data:t,success:function(n){this._complete(n,e,t)}.bind(this)})},_complete:function(e,t,n){var a=e&&e.error?"autosaveError":"autosave";this.app.broadcast(a,t,n,e)}}),$R.add("module","input",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.editor=e.editor,this.keycodes=e.keycodes,this.element=e.element,this.selection=e.selection,this.insertion=e.insertion,this.inspector=e.inspector,this.autoparser=e.autoparser,this.lastShiftKey=!1},onpaste:function(e,t){if(this.opts.input)return $R.create("input.paste",this.app,e,t)},onkeydown:function(e){if(this.opts.input){var t=e.which;if(!$R.create("input.shortcut",this.app,e).is()){if((e.ctrlKey||e.metaKey)&&!e.altKey&&65===t)return e.preventDefault(),this._selectAll();var n=[this.keycodes.ENTER,this.keycodes.SPACE,this.keycodes.BACKSPACE,this.keycodes.DELETE],a=[this.keycodes.UP,this.keycodes.DOWN,this.keycodes.LEFT,this.keycodes.RIGHT],s=-1!==n.indexOf(t),i=-1!==a.indexOf(t),o=(e.ctrlKey||e.metaKey)&&88===t,r=!e.ctrlKey&&!e.metaKey&&(t>=48&&t<=57||t>=65&&t<=90);if(this.selection.isAll()&&i&&(o||!e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey)){if(o)return this.editor.disableNonEditables(),void this.app.broadcast("empty");if(this._isArrowKey(t))return!0;if(s&&e.preventDefault(),this.element.isType("inline"))this.editor.getElement().html(""),this.editor.startFocus();else this.insertion.set(this.opts.emptyHtml);if(s)return;this.app.broadcast("empty")}if(this.opts.autoparse&&this.autoparser.format(e,t),!r||!this.selection.hasNonEditable())return t===this.keycodes.ENTER?$R.create("input.enter",this.app,e,t):e.metaKey&&219===t?(e.preventDefault(),void this.app.api("module.list.outdent")):t===this.keycodes.TAB||e.metaKey&&221===t?$R.create("input.tab",this.app,e,t):t===this.keycodes.SPACE?$R.create("input.space",this.app,e,t,this.lastShiftKey):this._isDeleteKey(t)?$R.create("input.delete",this.app,e,t):this._isArrowKey(t)?$R.create("input.arrow",this.app,e,t):void 0;e.preventDefault()}}},onkeyup:function(e){if(this.opts.input){var t=e.which;if(this.lastShiftKey=e.shiftKey,this.app.broadcast("contextbar.close"),!$R.create("input.shortcode",this.app,e,t).is()){if(t===this.keycodes.BACKSPACE){var n=this.editor.getElement(),a=this.utils.trimSpaces(n.html());if(""===(a=(a=a.replace(/<br\s?\/?>/g,"")).replace(/<div><\/div>/,"")))return e.preventDefault(),this.editor.setEmpty(),void this.editor.startFocus()}this.editor.isEmpty()&&this.app.broadcast("empty")}}},start:function(){this.opts.shortcutsAdd&&(this.opts.shortcuts=$R.extend({},!0,this.opts.shortcuts,this.opts.shortcutsAdd))},_selectAll:function(){var e,t=this.selection.getCurrent(),n=this.inspector.parse(t);return n.isComponentType("table")?(e=n.getTable(),void this.selection.setAll(e)):n.isComponentType("code")?(e=n.getComponentCodeElement(),void this.selection.setAll(e)):void this.selection.setAll()},_isArrowKey:function(e){return-1!==[this.keycodes.UP,this.keycodes.DOWN,this.keycodes.RIGHT,this.keycodes.LEFT].indexOf(e)},_isDeleteKey:function(e){return e===this.keycodes.BACKSPACE||e===this.keycodes.DELETE}}),$R.add("class","input.arrow",{init:function(e,t,n){this.app=e,this.opts=e.opts,this.utils=e.utils,this.caret=e.caret,this.offset=e.offset,this.marker=e.marker,this.editor=e.editor,this.keycodes=e.keycodes,this.component=e.component,this.inspector=e.inspector,this.selection=e.selection,this.key=n,this._init(t)},_init:function(e){if(!this._isRightLeftKey()||!this._isExitVariable(e)){if(this._isRightDownKey()){if(this._isExitOnDownRight(e))return;if(this._selectComponent(e,"End","next"))return}if(this._isLeftUpKey()){if(this._isExitOnUpLeft(e))return;if(this._selectComponent(e,"Start","prev"))return}this.key===this.keycodes.LEFT?this.utils.trimInvisibleChars("left"):this.key===this.keycodes.RIGHT&&this.utils.trimInvisibleChars("right")}},_isRightDownKey:function(){return-1!==[this.keycodes.DOWN,this.keycodes.RIGHT].indexOf(this.key)},_isLeftUpKey:function(){return-1!==[this.keycodes.UP,this.keycodes.LEFT].indexOf(this.key)},_isRightLeftKey:function(){return-1!==[this.keycodes.RIGHT,this.keycodes.LEFT].indexOf(this.key)},_isExitVariable:function(e){var t=this.selection.getCurrent(),n=this.inspector.parse(t),a=n.getComponent();if(n.isComponentType("variable")&&n.isComponentActive()){e.preventDefault();var s=this.key===this.keycodes.LEFT?"setBefore":"setAfter";this.caret[s](a)}else;},_isExitOnUpLeft:function(e){var t=this.selection.getCurrent(),n=this.selection.getBlock(t),a=this.inspector.parse(t),s=n.previousElementSibling,i=this.caret.isStart(n);if(i&&s&&"TABLE"===s.tagName)return e.preventDefault(),this.caret.setEnd(s),!0;if(a.isFigcaption()){n=a.getFigcaption(),i=this.caret.isStart(n);var o=$R.dom(n).closest(".redactor-component");if(i&&0!==o.length)return e.preventDefault(),this.caret.setEnd(o),!0}else{if(a.isTable()&&i)return e.preventDefault(),this.caret.setEnd(n.previousElementSibling),!0;if(!a.isComponentEditable()&&a.isComponent()&&!a.isComponentType("variable")){var r=a.getComponent();if(!r.previousElementSibling)return e.preventDefault(),this.component.clearActive(),this._exitPrevElement(e,a.getComponent());if(r.previousElementSibling)return e.preventDefault(),this.component.clearActive(),this.caret.setEnd(r.previousElementSibling),!0}}},_isExitOnDownRight:function(e){var t,n,a=this.editor.getElement(),s=this.selection.getCurrent(),i=this.inspector.parse(s),o=this.caret.isEnd();if(i.isTable()){if(t=i.getTable(),(n=this.caret.isEnd(t))||o)return this._exitNextElement(e,i.getComponent())}else if(i.isFigcaption()){if(t=i.getFigcaption(),(n=this.caret.isEnd(t))||o)return this._exitNextElement(e,i.getComponent())}else if(i.isComponentType("code")){var r=i.getComponent(),c=$R.dom(i.getComponentCodeElement()).closest("pre");n=this.caret.isEnd(t);var _=c&&c.get().nextElementSibling;if(n&&!_)return this._exitNextElement(e,r)}else if(i.isPre()||i.isBlockquote()||i.isDl()){if(o){if(i.isPre())return this._exitNextElement(e,i.getPre());if(i.isBlockquote())return this._exitNextElement(e,i.getBlockquote());if(i.isDl())return this._exitNextElement(e,i.getDl())}}else if(i.isList()){var l=$R.dom(s).parents("ul, ol",a).last();if((n=this.caret.isEnd(l))||o)return this._exitNextElement(e,l.get())}else if(i.isComponent()&&!i.isComponentType("variable")&&"span"!==i.getTag())return this.component.clearActive(),this._exitNextElement(e,i.getComponent())},_exitPrevElement:function(e,t){return e.preventDefault(),t.previousElementSibling?this.caret.setEnd(t.previousElementSibling):this.utils.createMarkupBefore(t),!0},_exitNextElement:function(e,t){return e.preventDefault(),t.nextElementSibling?this.caret.setStart(t.nextElementSibling):this.utils.createMarkup(t),!0},_selectComponent:function(e,t,n){var a=this.selection.getCurrent(),s=this.selection.getBlock(a),i=this.utils.findSiblings(a,n),o=this.utils.findSiblings(s,n);i&&this.caret["is"+t](a)?this._selectComponentItem(e,i,t):o&&this.caret["is"+t](s)&&this._selectComponentItem(e,o,t)},_selectComponentItem:function(e,t,n){if(this.component.isNonEditable(t))return e.preventDefault(),this.caret["set"+n](t),!0}}),$R.add("class","input.delete",{init:function(e,t,n){this.app=e,this.opts=e.opts,this.caret=e.caret,this.utils=e.utils,this.editor=e.editor,this.marker=e.marker,this.keycodes=e.keycodes,this.component=e.component,this.inspector=e.inspector,this.selection=e.selection,this.insertion=e.insertion,this.key=n,this._init(t)},_init:function(e){if(!this._removeActiveComponent(e)&&!this._removeAllSelectedTable(e)){if(this.key===this.keycodes.BACKSPACE){var t=this.editor.getElement();if(this.utils.trimSpaces(t.html())===this.opts.emptyHtml)return void e.preventDefault()}if(this._detectVariableOrNonEditable()||this.selection.hasNonEditable())e.preventDefault();else{if(this.selection.isAll())return e.preventDefault(),void this.insertion.set(this.opts.emptyHtml);this.selection.isCollapsed()&&(this.key===this.keycodes.BACKSPACE?this._traverseBackspace(e):this.key===this.keycodes.DELETE&&this._traverseDelete(e)),this.key===this.keycodes.BACKSPACE&&this.utils.trimInvisibleChars("left"),this._removeUnwantedStyles(),this._removeEmptySpans(),this._removeSpanTagsInHeadings(),this._removeInlineTagsInPre()}}},_detectVariableOrNonEditable:function(){var e,t=this.selection.getBlock(),n=this.caret.isStart(t),a=this.caret.isEnd(t);if(this.key===this.keycodes.BACKSPACE&&n){if(e=t.previousSibling,this._isNonEditable(e))return!0}else if(this.key===this.keycodes.DELETE&&a&&(e=t.nextSibling,this._isNonEditable(e)))return!0;var s=this.selection.getCurrent(),i=this.caret.isStart(s),o=this.caret.isEnd(s),r=""===this.selection.getTextBeforeCaret().trim(),c=""===this.selection.getTextAfterCaret().trim();if(this.key===this.keycodes.BACKSPACE&&i&&!r){if(e=s.previousSibling,this._isVariable(e))return this.caret.setEnd(e),!0;if(this._isNonEditable(e))return!0}else if(this.key===this.keycodes.DELETE&&o&&!c){if(e=s.nextSibling,this._isVariable(e))return this.caret.setStart(e),!0;if(this._isNonEditable(e))return!0}},_isVariable:function(e){return 0!==$R.dom(e).closest('[data-redactor-type="variable"]').length},_isNonEditable:function(e){return 0!==$R.dom(e).closest(".non-editable").length},_getBlock:function(){var e=this.editor.getElement(),t=this.selection.getBlock(),n=this.inspector.parse(t);return t=n.isList()?$R.dom(t).parents("ul, ol",e).last().get():t,t=n.isDl()?n.getDl():t,t=n.isTable()?n.getTable():t},_traverseDelete:function(e){var t,n,a,s=this.selection.getCurrent(),i=this.inspector.parse(s);if(i.isFigcaption()){if(t=i.getFigcaption(),n=this.caret.isEnd(t))return void e.preventDefault()}else if(i.isComponentType("code")&&(t=i.getComponent(),n=this.caret.isEnd(t)))return void e.preventDefault();t=this._getBlock();var o=this.utils.findSiblings(t,"next");if(o){n=this.caret.isEnd(t);var r=this.inspector.parse(o),c="P"===o.tagName||"DIV"===o.tagName;if(n&&r.isComponentType("table"))return e.preventDefault(),void this.caret.setStart(o);if(n&&r.isComponentEditable())return e.preventDefault(),void this.component.remove(o,!1);if(n&&r.isComponent())return e.preventDefault(),this.caret.setStart(o),void(this.utils.isEmptyHtml(t.innerHTML)&&$R.dom(t).remove());if(n&&r.isList()){var _=$R.dom(t);if(a=$R.dom(o),i.isList())return e.preventDefault(),_.append(a),void a.unwrap();var l=a.children("li").first(),u=l.find("ul, ol");if(0!==u.length)return e.preventDefault(),a.prepend(u),u.unwrap(),_.append(l),void l.unwrap()}else if(n&&!i.isList()&&!i.isTable()&&c&&!this.utils.isEmptyHtml(t.innerHTML)){e.preventDefault();var d=$R.dom(t);return a=$R.dom(o),d.append(a),void a.unwrap()}}},_traverseBackspace:function(e){var t,n,a,s,i=this.selection.getCurrent(),o=this.inspector.parse(i);if(o.isFigcaption()){if(t=o.getFigcaption(),n=this.caret.isStart(t))return void e.preventDefault()}else if(o.isComponentType("code")&&(t=o.getComponent(),(n=this.caret.isStart(t))&&t.previousElementSibling))return e.preventDefault(),this.caret.setEnd(t.previousElementSibling),!0;t=this._getBlock();var r=this.utils.findSiblings(t,"prev");if(r){n=this.caret.isStart(t);var c=this.inspector.parse(r),_="P"===r.tagName||"DIV"===r.tagName;if(n&&c.isComponentType("code"))return e.preventDefault(),void this.component.remove(r,!1);if(n&&c.isComponentType("table"))return e.preventDefault(),void this.caret.setEnd(r);if(n&&c.isComponent())return e.preventDefault(),this.caret.setStart(r),void(this.utils.isEmptyHtml(t.innerHTML)&&$R.dom(t).remove());if(n&&o.isList())if(e.preventDefault(),s=$R.dom(t),a=$R.dom(r),c.isList())s.children("li").first().prepend(this.marker.build("start")),a.append(s),s.unwrap(),this.selection.restoreMarkers();else{var l=s.children("li").first(),u=l.get(),d=l.find("ul, ol"),p=this.utils.replaceToTag(u,this.opts.markup);this.opts.breakline&&p.attr("data-redactor-tag","br"),s.before(p),this.caret.setStart(p),0!==d.length&&(s.prepend(d),d.unwrap())}else if(n&&_){if(e.preventDefault(),this.utils.isEmpty(r))return void(a=$R.dom(r)).remove();var m=this.utils.createInvisibleChar(),h=$R.dom(t);return a=$R.dom(r),this.caret.setEnd(a),h.prepend(m),a.append(h.contents()),void h.remove()}}else setTimeout(this._replaceBlock.bind(this),1)},_replaceBlock:function(){var e=this.selection.getBlock(),t=$R.dom(e);if("p"===this.opts.markup&&e&&this._isNeedToReplaceBlock(e)){var n=document.createElement(this.opts.markup);t.replaceWith(n),this.caret.setStart(n)}this.opts.breakline&&e&&"DIV"===e.tagName&&t.attr("data-redactor-tag","br")},_isNeedToReplaceBlock:function(e){return"DIV"===e.tagName&&this.utils.isEmptyHtml(e.innerHTML)},_removeActiveComponent:function(e){var t=this.selection.getCurrent(),n=this.inspector.parse(t),a=n.getComponent();if(n.isComponent()&&this.component.isActive(a))return e.preventDefault(),this.component.remove(a),!0},_removeAllSelectedTable:function(e){var t=this.selection.getCurrent(),n=this.inspector.parse(t).getTable();if(n&&this.selection.isAll(n))return e.preventDefault(),this.component.remove(n),!0},_removeUnwantedStyles:function(){var e=this.editor.getElement();setTimeout((function(){e.find("*[style]").not("img, figure, iframe, [data-redactor-style-cache], [data-redactor-span]").removeAttr("style")}),0)},_removeEmptySpans:function(){var e=this.editor.getElement();setTimeout((function(){e.find("span").each((function(e){0===e.attributes.length&&$R.dom(e).replaceWith(e.childNodes)}))}),0)},_removeSpanTagsInHeadings:function(){var e=this.editor.getElement();setTimeout((function(){e.find("h1, h2, h3, h4, h5, h6").each((function(e){var t=$R.dom(e);0===t.closest("figure").length&&t.find("span").not(".redactor-component, .non-editable, .redactor-selection-marker, [data-redactor-style-cache], [data-redactor-span]").unwrap()}))}),1)},_removeInlineTagsInPre:function(){var e=this.editor.getElement(),t=this.opts.inlineTags;setTimeout((function(){e.find("pre").each((function(e){var n=$R.dom(e);0===n.closest("figure").length&&n.find(t.join(",")).not("code, .redactor-selection-marker").unwrap()}))}),1)}}),$R.add("class","input.enter",{init:function(e,t){this.app=e,this.opts=e.opts,this.utils=e.utils,this.caret=e.caret,this.editor=e.editor,this.insertion=e.insertion,this.selection=e.selection,this.inspector=e.inspector,this._init(t)},_init:function(e){return this.opts.enterKey?!1===this.app.broadcast("enter",e)?e.preventDefault():this.selection.hasNonEditable()?void e.preventDefault():e.ctrlKey||e.shiftKey?this._insertBreak(e):void(this._isExit(e)||this._traverse(e)):this._disable(e)},_disable:function(e){e.preventDefault();var t=this.selection.getRange();t&&!t.collapsed&&t.deleteContents()},_insertBreak:function(e){e.preventDefault();var t=this.selection.getCurrent(),n=this.inspector.parse(t);n.isComponent()&&!n.isComponentEditable()||n.isCode()||(n.isPre()?this.insertion.insertNewline():this.insertion.insertBreakLine())},_isExit:function(e){var t=this.editor.getElement(),n=this.selection.getBlock(),a=this.inspector.parse(n),s=this.caret.isEnd(n),i=this.selection.getCurrent(),o=i.previousSibling;if(a.isBlockquote()){var r=s&&this._isExitableBlock(n,"P"),c=s&&this._isExitableDblBreak(o);if(r||c)return this._exitFromElement(e,c?o:n,a.getBlockquote())}else if(!a.isComponentType("code")&&a.isPre()){if(s){var _=n.innerHTML;if(null!==(_=this.utils.removeInvisibleChars(_)).match(/(\n\n\n)$/))return $R.dom(o.previousSibling.previousSibling).remove(),this._exitFromElement(e,o,n)}}else if(a.isDl()){if(s&&this._isExitableBlock(n,"DT"))return this._exitFromElement(e,n,a.getDl())}else if(a.isList()){var l=$R.dom(i).parents("ul, ol",t).last();if((s=this.caret.isEnd(l))&&this._isExitableBlock(n,"LI"))return this._exitFromElement(e,n,l)}else if(a.isComponent()&&a.isComponentActive()&&!a.isFigcaption()&&!a.isComponentEditable())return this._exitFromElement(e,!1,a.getComponent())},_isExitableDblBreak:function(e){var t=!!e&&e.nextSibling;if(t){var n=this.utils.removeInvisibleChars(t.textContent);return 3===t.nodeType&&""===n.trim()}},_isExitableBlock:function(e,t){return e&&e.tagName===t&&this.utils.isEmptyHtml(e.innerHTML)},_exitFromElement:function(e,t,n){return e.preventDefault(),t&&$R.dom(t).remove(),this.utils.createMarkup(n),!0},_exitNextElement:function(e,t){return e.preventDefault(),t.nextSibling?this.caret.setStart(t.nextSibling):this.utils.createMarkup(t),!0},_traverse:function(e){var t=this.selection.getCurrent(),n=this.selection.isText(),a=this.selection.getBlock(),s=this.inspector.parse(t),i=!!a&&a.tagName.toLowerCase(),o=$R.dom(t).closest("[data-redactor-type=variable]");if(0!==o.length&&this.caret.setAfter(o),s.isPre())return e.preventDefault(),this.insertion.insertNewline();if(!s.isBlockquote()){if(s.isFigcaption()){a=s.getFigcaption();var r=this.caret.isEnd(a),c=this.caret.isEnd();return r||c?this._exitNextElement(e,s.getComponent()):void e.preventDefault()}return s.isDl()?(e.preventDefault(),this._traverseDl(t)):this.opts.breakline&&"div"===i?void setTimeout(this._replaceBlock.bind(this),1):n?(e.preventDefault(),this.insertion.insertBreakLine()):s.isList()?void 0:void setTimeout(this._replaceBlock.bind(this),1)}return(a=this.selection.getBlock(t))&&"BLOCKQUOTE"===a.tagName?(e.preventDefault(),this.insertion.insertBreakLine()):void 0},_traverseDl:function(e){var t=this.selection.getBlock(e),n=this.inspector.parse(t).getTag(),a=$R.dom(t),s=a.get().nextSibling||!1,i=$R.dom(s),o=s&&i.is("dd"),r=s&&i.is("dt"),c=this.caret.isEnd(t);if("dt"===n&&!o&&c){var _=document.createElement("dd");return a.after(_),void this.caret.setStart(_)}if("dd"===n&&!r&&c){var l=document.createElement("dt");return a.after(l),void this.caret.setStart(l)}return this.insertion.insertBreakLine()},_replaceBlock:function(){var e=this.selection.getBlock(),t=$R.dom(e);if("p"===this.opts.markup&&e&&this._isNeedToReplaceBlock(e)){var n=document.createElement(this.opts.markup);t.replaceWith(n),this.caret.setStart(n)}else if(e)if(this.utils.isEmptyHtml(e.innerHTML))this._clearBlock(t,e);else{var a=this.utils.getFirstNode(e);a&&"BR"===a.tagName&&($R.dom(a).remove(),this.caret.setStart(e))}e&&this._isNeedToCleanBlockStyle(e)&&this.opts.cleanOnEnter&&t.removeAttr("class style"),this.opts.breakline&&e&&e.tagName},_clearBlock:function(e,t){"DIV"===t.tagName&&e.find("br").remove(),(this.opts.cleanInlineOnEnter||"<br>"===t.innerHTML)&&e.html(""),this.caret.setStart(t)},_isNeedToReplaceBlock:function(e){return"DIV"===e.tagName&&this.utils.isEmptyHtml(e.innerHTML)},_isNeedToCleanBlockStyle:function(e){return"P"===e.tagName&&this.utils.isEmptyHtml(e.innerHTML)}}),$R.add("class","input.paste",{init:function(e,t,n,a,s){this.app=e,this.opts=e.opts,this.editor=e.editor,this.cleaner=e.cleaner,this.container=e.container,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this.autoparser=e.autoparser,this.pasteHtml=a,this.pointInserted=s,this.dataTransfer=n,this._init(t)},_init:function(e){var t,n=this.dataTransfer||e.clipboardData,a=this.selection.getCurrent(),s=this.inspector.parse(a);if(this.dropPasted=this.dataTransfer,this.isRawCode=s.isPre()||s.isCode(),this.editor.enablePasting(),this.editor.saveScroll(),this.dropPasted||this.selection.saveMarkers(),this.isRawCode||!n)return t=this.isRawCode||n||!window.clipboardData?n.getData("text/plain"):window.clipboardData.getData("text"),e.preventDefault(),void this._insert(e,t);if(this.pasteHtml)e.preventDefault(),this._insert(e,this.pasteHtml);else{var i=n.getData("URL"),o=this._isPlainText(n)?this.cleaner.encodeEntities(n.getData("text/plain")):n.getData("text/html");if(o=i&&""!==i?i:o,null!==n.files&&n.files.length>0&&""===o){for(var r=[],c=0;c<n.files.length;c++){var _=n.files[c]||n.items[c].getAsFile();_&&r.push(_)}if(r.length>0)return e.preventDefault(),void this._insertFiles(e,r)}e.preventDefault(),this._insert(e,o)}},_isPlainText:function(e){var t=e.getData("text/plain"),n=e.getData("text/html");if(!t||!n)return null!==t;var a=document.createElement("div");return a.innerHTML=n,a.textContent===t?!a.querySelector(":not(meta)"):void 0},_restoreSelection:function(){this.editor.restoreScroll(),this.editor.disablePasting(),this.dropPasted||this.selection.restoreMarkers()},_insert:function(e,t){var n=this.app.broadcast("pasteBefore",t);if(t=(t=void 0===n?t:n).trim(),t=(t=this.isRawCode?t:this.cleaner.paste(t)).trim(),t=this.isRawCode?this.cleaner.encodePhpCode(t):t,t=void 0===(n=this.app.broadcast("pasting",t))?t:n,this._restoreSelection(),this.opts.input){this.app.broadcast("state",!1);var a=[];if(this.isRawCode){t=t.replace("&lt;?php","<?php");var s=document.createTextNode(t);a=this.insertion.insertNode(s,"after"),this.app.broadcast("pasted",a)}else this.opts.autoparse&&this.opts.autoparsePaste&&(t=this.autoparser.parse(t)),a=this.dropPasted?this.insertion.insertToPoint(e,t,this.pointInserted):this.insertion.insertHtml(t),this.app.broadcast("pasted",a),this.app.broadcast("autoparseobserve")}},_insertFiles:function(e,t){this._restoreSelection();var n=-1!==this.opts.imageTypes.indexOf(t[0].type),a="undefined"===typeof this.dropPasted;n?this.app.broadcast("dropimage",e,t,a):this.app.broadcast("dropfile",e,t,a)}}),$R.add("class","input.shortcode",{init:function(e,t,n){this.app=e,this.opts=e.opts,this.utils=e.utils,this.marker=e.marker,this.keycodes=e.keycodes,this.selection=e.selection,this.worked=!1,n===this.keycodes.SPACE&&this._init()},is:function(){return this.worked},_init:function(){var e=this.selection.getCurrent();if(e&&3===e.nodeType){var t=this.utils.removeInvisibleChars(e.textContent),n=this.opts.shortcodes;for(var a in n){var s=new RegExp("^"+this.utils.escapeRegExp(a));if(null!==t.match(s)&&"undefined"!==typeof n[a].format)return this._format(n[a].format,e,s)}}},_format:function(e,t,n){var a=(t=this.marker.insert("start").previousSibling).textContent;a=(a=this.utils.trimSpaces(a)).replace(n,""),t.textContent=a;var s="ul"===e||"ol"===e?"module.list.toggle":"module.block.format";this.app.api(s,e),this.selection.restoreMarkers(),this.worked=!0}}),$R.add("class","input.shortcut",{init:function(e,t){this.app=e,this.opts=e.opts,this.worked=!1,this.hotkeys={8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},this.hotkeysShiftNums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},this._init(t)},is:function(){return this.worked},_init:function(e){if(!1!==this.opts.shortcuts)for(var t in this.opts.shortcuts)this._build(e,t,this.opts.shortcuts[t]);else!e.ctrlKey&&!e.metaKey||66!==e.which&&73!==e.which||e.preventDefault()},_build:function(e,t,n){for(var a=t.split(","),s=a.length,i=0;i<s;i++)"string"===typeof a[i]&&this._handler(e,a[i].trim(),n)},_handler:function(e,t,n){t=t.toLowerCase().split(" ");for(var a=this.hotkeys[e.keyCode],s=String.fromCharCode(e.which).toLowerCase(),i="",o={},r=["meta","ctrl","alt","shift"],c=0;c<r.length;c++){var _=r[c];e[_+"Key"]&&a!==_&&(i+=_+"+")}a&&(o[i+a]=!0),s&&(o[i+s]=!0,o[i+this.hotkeysShiftNums[s]]=!0,"shift+"===i&&(o[this.hotkeysShiftNums[s]]=!0));var l=t.length;for(c=0;c<l;c++)if(o[t[c]])return e.preventDefault(),this.worked=!0,void(n.message?(this.app.broadcast(n.message,n.args),this.app.broadcast("buffer.trigger")):n.api&&(this.app.api(n.api,n.args),this.app.broadcast("buffer.trigger")))}}),$R.add("class","input.space",{init:function(e,t,n,a){this.app=e,this.keycodes=e.keycodes,this.insertion=e.insertion,this.selection=e.selection,this.key=n,this.lastShiftKey=a,this._init(t)},_init:function(e){if(!this.selection.hasNonEditable())return this.lastShiftKey||this.key!==this.keycodes.SPACE||!e.ctrlKey&&!e.shiftKey||e.metaKey?void 0:(e.preventDefault(),void this.insertion.insertChar("&nbsp;"));e.preventDefault()}}),$R.add("class","input.tab",{init:function(e,t){this.app=e,this.opts=e.opts,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this._init(t)},_init:function(e){if(this.opts.tabKey){if(!1===this.app.broadcast("tab",e))return e.preventDefault();this._traverse(e)}},_traverse:function(e){var t=this.selection.getCurrent(),n=this.inspector.parse(t);return!n.isComponent()&&e.shiftKey?this._insertHardTab(e,4):n.isList()?(e.preventDefault(),this.app.api("module.list.indent")):n.isPre()||n.isComponentType("code")&&!n.isFigcaption()?this._tabCode(e):!1!==this.opts.tabAsSpaces?this._insertHardTab(e,this.opts.tabAsSpaces):void 0},_insertHardTab:function(e,t){e.preventDefault();var n=document.createTextNode(Array(t+1).join("\xa0"));return this.insertion.insertNode(n,"end")},_tabCode:function(e){e.preventDefault();var t=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("\xa0")):document.createTextNode("\t");return this.insertion.insertNode(t,"end")}}),$R.add("module","upload",{init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.utils=e.utils,this.editor=e.editor,this.progress=e.progress,this.defaults={event:!1,element:!1,name:!1,files:!1,url:!1,data:!1,paramName:!1}},build:function(e){this.p=$R.extend(this.defaults,e),this.$el=$R.dom(this.p.element),"INPUT"===this.$el.get().tagName?this._buildInput():this._buildBox()},send:function(e){this.p=$R.extend(this.defaults,e),this.$uploadbox=this.editor.getElement(),this._send(this.p.event,this.p.files)},complete:function(e,t){this._complete(e,t)},_buildInput:function(){this.box=!1,this.prefix="",this.$uploadbox=$R.dom('<div class="upload-redactor-box" />'),this.$el.hide(),this.$el.after(this.$uploadbox),this.opts.multipleUpload?this.$el.attr("multiple","multiple"):this.$el.removeAttr("multiple"),"file"!==this.p.name&&this.$el.attr("accept","image/*"),this._buildPlaceholder(),this._buildEvents()},_buildBox:function(){this.box=!0,this.prefix="box-",this.$uploadbox=this.$el,this.$uploadbox.attr("ondragstart","return false;"),this.$uploadbox.on("drop.redactor.upload",this._onDropBox.bind(this)),this.$uploadbox.on("dragover.redactor.upload",this._onDragOver.bind(this)),this.$uploadbox.on("dragleave.redactor.upload",this._onDragLeave.bind(this))},_buildPlaceholder:function(){this.$placeholder=$R.dom('<div class="upload-redactor-placeholder" />'),this.$placeholder.html(this.lang.get("upload-label")),this.$uploadbox.append(this.$placeholder)},_buildEvents:function(){this.$el.on("change.redactor.upload",this._onChange.bind(this)),this.$uploadbox.on("click.redactor.upload",this._onClick.bind(this)),this.$uploadbox.on("drop.redactor.upload",this._onDrop.bind(this)),this.$uploadbox.on("dragover.redactor.upload",this._onDragOver.bind(this)),this.$uploadbox.on("dragleave.redactor.upload",this._onDragLeave.bind(this))},_onClick:function(e){e.preventDefault(),this.$el.click()},_onChange:function(e){this._send(e,this.$el.get().files)},_onDrop:function(e){e.preventDefault(),this._clear(),this._setStatusDrop(),this._send(e)},_onDragOver:function(e){return e.preventDefault(),this._setStatusHover(),!1},_onDragLeave:function(e){return e.preventDefault(),this._removeStatusHover(),!1},_onDropBox:function(e){e.preventDefault(),this._clear(),this._setStatusDrop(),this._send(e)},_removeStatusHover:function(){this.$uploadbox.removeClass("upload-redactor-"+this.prefix+"hover")},_setStatusDrop:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"drop")},_setStatusHover:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"hover")},_setStatusError:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"error")},_setStatusSuccess:function(){this.$uploadbox.addClass("upload-redactor-"+this.prefix+"success")},_clear:function(){for(var e=["drop","hover","error","success"],t=0;t<e.length;t++)this.$uploadbox.removeClass("upload-redactor-"+this.prefix+e[t]);this.$uploadbox.removeAttr("ondragstart")},_send:function(e,t){e=e.originalEvent||e,t=t||e.dataTransfer.files;var n=new FormData,a=this._getUploadParam();n=this._buildData(a,t,n),n=this.utils.extendData(n,this.p.data),!1!==this.app.broadcast("upload.start",e,n,t)&&this._sendData(n,t,e)},_sendData:function(e,t,n){if(this.progress.show(),"function"===typeof this.p.url){var a=this.p.url(e,t,n,this);a instanceof Promise||this._complete(a,n)}else $R.ajax.post({url:this.p.url,data:e,before:function(e){return this.app.broadcast("upload.beforeSend",e)}.bind(this),success:function(e){this._complete(e,n)}.bind(this)})},_getUploadParam:function(){return this.p.paramName?this.p.paramName:"file"},_buildData:function(e,t,n){if(1===t.length)n.append(e+"[]",t[0]);else if(t.length>1&&!1!==this.opts.multipleUpload)for(var a=0;a<t.length;a++)n.append(e+"[]",t[a]);return n},_complete:function(e,t){this._clear(),this.progress.hide(),e&&e.error?(this._setStatusError(),this.app.broadcast("upload."+this.p.name+".error",e,t),this.app.broadcast("upload.error",e)):(this._setStatusSuccess(),this.app.broadcast("upload."+this.p.name+".complete",e,t),this.app.broadcast("upload.complete",e),setTimeout(this._clear.bind(this),500))}}),$R.add("class","code.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){var t;if("undefined"!==typeof e){var n=$R.dom(e).closest("figure");0!==n.length?this.parse(n):(this.parse("<figure>"),this.append(e)),t=this.find("pre code, pre").last()}else t=$R.dom("<pre>"),this.parse("<figure>"),this.append(t);this._initElement(t),this._initWrapper()},_initElement:function(e){e.attr({tabindex:"-1",contenteditable:!0})},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"code",tabindex:"-1",contenteditable:!1})}}),$R.add("module","form",{init:function(e){this.app=e,this.lang=e.lang,this.component=e.component,this.inspector=e.inspector},onform:{remove:function(e){this._remove(e)}},oncontextbar:function(e,t){var n=this.inspector.parse(e.target);if(n.isComponentType("form")){var a=n.getComponent(),s={remove:{title:this.lang.get("delete"),api:"module.form.remove",args:a}};t.set(e,a,s,"top")}},_remove:function(e){this.component.remove(e)}}),$R.add("class","form.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.utils=e.utils,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){if("undefined"!==typeof e)if(0!==$R.dom(e).closest("form").length){var t=this.utils.replaceToTag(e,"figure");this.parse(t)}else this.parse("<figure>"),this.append(e);else this.parse("<figure>");this._initWrapper()},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"form",tabindex:"-1",contenteditable:!1})}}),$R.add("module","image",{modals:{image:'<div class="redactor-modal-tab redactor-modal-tab-upload" data-title="## upload ##"><form action="">                 <input type="file" name="file">             </form></div>',imageedit:'<div class="redactor-modal-group">                 <div id="redactor-modal-image-preview" class="redactor-modal-side"></div>                 <form action="" class="redactor-modal-area">                     <div class="form-item">                         <label for="modal-image-title"> ## title ##</label>                         <input type="text" id="modal-image-title" name="title" />                     </div>                     <div class="form-item form-item-caption">                         <label for="modal-image-caption">## caption ##</label>                         <input type="text" id="modal-image-caption" name="caption" aria-label="## caption ##" />                     </div>                     <div class="form-item form-item-align">                         <label>## image-position ##</label>                         <select name="align" aria-label="## image-position ##">                             <option value="none">## none ##</option>                             <option value="left">## left ##</option>                             <option value="center">## center ##</option>                             <option value="right">## right ##</option>                         </select>                     </div>                     <div class="form-item form-item-link">                         <label for="modal-image-url">## link ##</label>                         <input type="text" id="modal-image-url" name="url" aria-label="## link ##" />                     </div>                     <div class="form-item form-item-link">                         <label class="checkbox"><input type="checkbox" name="target" aria-label="## link-in-new-tab ##"> ## link-in-new-tab ##</label>                     </div>                 </form>             </div>'},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.caret=e.caret,this.utils=e.utils,this.editor=e.editor,this.storage=e.storage,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection,this.justResized=!1},oninsert:function(){this._observeImages()},onstarted:function(){this.storage.observeImages(),this.opts.imageResizable&&(this.resizer=$R.create("image.resize",this.app)),this._observeImages()},ondropimage:function(e,t,n){if(this.opts.imageUpload){var a={url:this.opts.imageUpload,event:!n&&e,files:t,name:"imagedrop",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.send",a)}},onstop:function(){this.resizer&&this.resizer.stop()},onbottomclick:function(){this.insertion.insertToEnd(this.editor.getLastNode(),"image")},onimageresizer:{stop:function(){this.resizer&&this.resizer.hide()}},onsource:{open:function(){this.resizer&&this.resizer.hide()},closed:function(){this._observeImages(),this.resizer&&this.resizer.rebuild()}},onupload:{complete:function(){this._observeImages()},image:{complete:function(e){this._insert(e)},error:function(e){this._uploadError(e)}},imageedit:{complete:function(e){this._change(e)},error:function(e){this._uploadError(e)}},imagedrop:{complete:function(e,t){this._insert(e,t)},error:function(e){this._uploadError(e)}},imagereplace:{complete:function(e){this._change(e,!1)},error:function(e){this._uploadError(e)}}},onmodal:{image:{open:function(e,t){this._setUpload(e,t)}},imageedit:{open:function(e,t){this._setFormData(e,t)},opened:function(e,t){this._setFormFocus(t)},remove:function(){this._remove(this.$image)},save:function(e,t){this._save(e,t)}}},onimage:{observe:function(){this._observeImages()},resized:function(){this.justResized=!0}},oncontextbar:function(e,t){if(this.justResized)this.justResized=!1;else{var n=this.selection.getCurrent(),a=this.inspector.parse(n),s=$R.dom(n).closest("img");if(!a.isFigcaption()&&a.isComponentType("image")||0!==s.length){var i=0!==s.length?s.get():a.getComponent(),o={edit:{title:this.lang.get("edit"),api:"module.image.open"},remove:{title:this.lang.get("delete"),api:"module.image.remove",args:i}};t.set(e,i,o)}}},open:function(){this.$image=this._getCurrent(),this.app.api("module.modal.build",this._getModalData())},insert:function(e){this._insert(e)},remove:function(e){this._remove(e)},_getModalData:function(){return this._isImage()&&this.opts.imageEditable?{name:"imageedit",width:"800px",title:this.lang.get("edit"),handle:"save",commands:{save:{title:this.lang.get("save")},remove:{title:this.lang.get("delete"),type:"danger"},cancel:{title:this.lang.get("cancel")}}}:{name:"image",title:this.lang.get("image")}},_isImage:function(){return this.$image},_getCurrent:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e),n=$R.dom(e).closest("img");return 0!==n.length?this.component.create("image",n):!(!t.isComponentType("image")||!t.isComponentActive())&&this.component.create("image",t.getComponent())},_insert:function(e,t){if(this.app.api("module.modal.close"),Array.isArray(e)){for(var n={},a=0;a<e.length;a++)n=$R.extend(n,e[a]);e=n}else"string"===typeof e&&(e={file:{url:e}});if("object"===typeof e){var s=0;for(var i in e)"object"===typeof e[i]&&s++;s>1?this._insertMultiple(e,t):this._insertSingle(e,t)}},_insertSingle:function(e,t){for(var n in e)if("object"===typeof e[n]){var a=this._createImageAndStore(e[n]),s=t?this.insertion.insertToPoint(t,a,!1,!1):this.insertion.insertHtml(a,!1);this._removeSpaceBeforeFigure(s[0]),this.component.setActive(s[0]),this.app.broadcast("image.uploaded",s[0],e)}},_insertMultiple:function(e,t){var n,a=0,s=[];for(var i in e)if("object"===typeof e[i]){a++;var o=this._createImageAndStore(e[i]);if(1===a)s=t?this.insertion.insertToPoint(t,o,!1,!1):this.insertion.insertHtml(o,!1);else $R.dom(s[0]).after(o),s=[o.get()],this.app.broadcast("image.inserted",o);n=s[0],this._removeSpaceBeforeFigure(s[0]),this.app.broadcast("image.uploaded",s[0],e)}this.component.setActive(n)},_createImageAndStore:function(e){var t=this.component.create("image");return t.addClass("redactor-uploaded-figure"),t.setData({src:e.url,id:e.id?e.id:this.utils.getRandomId()}),this.storage.add("image",t.getElement()),t},_removeSpaceBeforeFigure:function(e){if(e){var t=e.previousSibling,n=e.nextSibling,a=$R.dom(t),s=$R.dom(n);this.opts.breakline&&(n&&"br"===s.attr("data-redactor-tag")&&s.find("br").first().remove(),t&&"br"===a.attr("data-redactor-tag")&&a.find("br").last().remove()),t&&(this._removeInvisibleSpace(t),this._removeInvisibleSpace(t.previousSibling))}},_removeInvisibleSpace:function(e){e&&3===e.nodeType&&-1!==this.utils.searchInvisibleChars(e.textContent)&&e.parentNode.removeChild(e)},_save:function(e,t){var n=t.getData(),a={title:n.title};this.opts.imageLink&&(a.link={url:n.url,target:n.target}),this.opts.imageCaption&&(a.caption=n.caption),this.opts.imagePosition&&(a.align=n.align),this.$image.setData(a),this.resizer&&this.resizer.rebuild(),this.app.broadcast("image.changed",this.$image),this.app.api("module.modal.close")},_change:function(e,t){if("string"===typeof e&&(e={file:{url:e}}),"object"===typeof e){var n;for(var a in e)if("object"===typeof e[a]){(n=$R.dom("<img>")).attr("src",e[a].url),this.$image.changeImage(e[a]),this.app.broadcast("image.changed",this.$image,e),this.app.broadcast("image.uploaded",this.$image,e),this.app.broadcast("hardsync");break}!1!==t&&n.on("load",function(){this.$previewBox.html(n)}.bind(this))}},_uploadError:function(e){this.app.broadcast("image.uploadError",e)},_remove:function(e){this.app.api("module.modal.close"),this.component.remove(e)},_observeImages:function(){var e=this.editor.getElement(),t=this;e.find("img").each((function(e){var n=$R.dom(e);n.off(".drop-to-replace"),n.on("dragover.drop-to-replace dragenter.drop-to-replace",(function(e){e.preventDefault()})),n.on("drop.drop-to-replace",(function(e){if(!t.app.isDragComponentInside())return t._setReplaceUpload(e,n)}))}))},_setFormData:function(e,t){this._buildPreview(e),this._buildPreviewUpload();var n=this.$image.getData(),a={title:n.title};this.opts.imageCaption?a.caption=n.caption:e.find(".form-item-caption").hide(),this.opts.imagePosition?a.align=n.align:e.find(".form-item-align").hide(),this.opts.imageLink?n.link&&(a.url=n.link.url,n.link.target&&(a.target=!0)):e.find(".form-item-link").hide(),t.setData(a)},_setFormFocus:function(e){e.getField("title").focus()},_setReplaceUpload:function(e,t){if((e=e.originalEvent||e).stopPropagation(),e.preventDefault(),this.opts.imageUpload){this.$image=this.component.create("image",t);var n={url:this.opts.imageUpload,files:e.dataTransfer.files,name:"imagereplace",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.send",n)}},_setUpload:function(e,t){this.opts.imageUpload||e.getBody().find(".redactor-modal-tab-upload").remove();var n={url:this.opts.imageUpload,element:t.getField("file"),name:"image",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.build",n)},_buildPreview:function(e){this.$preview=e.find("#redactor-modal-image-preview");var t=this.$image.getData(),n=$R.dom("<img>");n.attr("src",t.src),this.$previewBox=$R.dom("<div>"),this.$previewBox.append(n),this.$preview.html(""),this.$preview.append(this.$previewBox)},_buildPreviewUpload:function(){if(this.opts.imageUpload){var e=$R.dom('<div class="desc">');e.html(this.lang.get("upload-change-label")),this.$preview.append(e);var t={url:this.opts.imageUpload,element:this.$previewBox,name:"imageedit",data:this.opts.imageData,paramName:this.opts.imageUploadParam};this.app.api("module.upload.build",t)}}}),$R.add("class","image.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.opts=e.opts,this.selection=e.selection,t&&void 0!==t.cmnt?t:this._init(t)},setData:function(e){for(var t in e)this._set(t,e[t])},getData:function(){for(var e=["src","title","caption","align","link","id"],t={},n=0;n<e.length;n++)t[e[n]]=this._get(e[n]);return t},getElement:function(){return this.$element},changeImage:function(e){this.$element.attr("src",e.url)},_init:function(e){var t=$R.dom(e),n=t.closest("figure");void 0===e?(this.$element=$R.dom("<img>"),this.parse("<figure>"),this.append(this.$element)):0===n.length?(this.parse("<figure>"),this.$element=t,this.$element.wrap(this)):(this.parse(n),this.$element=this.find("img")),this._initWrapper()},_set:function(e,t){this["_set_"+e](t)},_get:function(e){return this["_get_"+e]()},_set_src:function(e){this.$element.attr("src",e)},_set_id:function(e){this.opts.imageObserve&&this.$element.attr("data-image",e)},_set_title:function(e){""===(e=e.trim().replace(/(<([^>]+)>)/gi,""))?this.$element.removeAttr("alt"):this.$element.attr("alt",e)},_set_caption:function(e){var t=this.find("figcaption");return 0===t.length&&((t=$R.dom("<figcaption>")).attr("contenteditable","true"),this.append(t)),""===e?t.remove():t.html(e),t},_set_align:function(e){var t="",n="",a="",s=this.find("img"),i=this.find("figcaption");if("object"===typeof this.opts.imagePosition){var o=this.opts.imagePosition;for(var r in o)this.removeClass(o[r]);var c="undefined"!==typeof o[e]&&o[e];c&&this.addClass(c)}else{var _=s.width();switch(e){case"left":t="left",n="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":t="right",n="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case"center":a="center",n="auto"}this.css({float:t,width:_+"px",maxWidth:_+"px",margin:n,"text-align":a}),this.attr("rel",this.attr("style")),"none"===e&&(this.css("max-width",""),this.css("width","")),"center"===e?(this.css("max-width",""),this.css("width",""),i.css("text-align","center")):i.css("text-align","")}},_set_link:function(e){var t=this._findLink();if(""!==e.url)return t||(t=$R.dom("<a>"),this.$element.wrap(t)),t.attr("href",e.url),e.target?t.attr("target",!0===e.target?"_blank":e.target):t.removeAttr("target"),t;t&&t.unwrap()},_get_src:function(){return this.$element.attr("src")},_get_id:function(){return this.$element.attr("data-image")},_get_title:function(){var e=this.$element.attr("alt");return e||""},_get_caption:function(){var e=this.find("figcaption");return 0===e.length?"":e.html()},_get_align:function(){var e="";if("object"===typeof this.opts.imagePosition){e="none";var t=this.opts.imagePosition;for(var n in t)if(this.hasClass(t[n])){e=n;break}}else e="center"===this.css("text-align")?"center":this.css("float");return e},_get_link:function(){var e=this._findLink();if(e){var t=!!e.attr("target");return{url:e.attr("href"),target:t}}},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"image",tabindex:"-1",contenteditable:!1})},_findLink:function(){var e=this.find("a").filter((function(e){return 0===$R.dom(e).closest("figcaption").length}));return 0!==e.length&&e}}),$R.add("class","image.resize",{init:function(e){this.app=e,this.$doc=e.$doc,this.$win=e.$win,this.$body=e.$body,this.editor=e.editor,this.toolbar=e.toolbar,this.inspector=e.inspector,this.$target=this.toolbar.isTarget()?this.toolbar.getTargetElement():this.$body,this._init()},rebuild:function(){this._setResizerPosition()},hide:function(){this.$target.find("#redactor-image-resizer").remove()},stop:function(){this.editor.getElement().off(".redactor.image-resize"),this.$doc.off(".redactor.image-resize"),this.$win.off("resize.redactor.image-resize"),this.hide()},_init:function(){this.editor.getElement().on("click.redactor.image-resize",this._build.bind(this)),this.$win.on("resize.redactor.image-resize",this._setResizerPosition.bind(this))},_build:function(e){if(this.$target.find("#redactor-image-resizer").remove(),!this.app.isReadOnly()){var t=this.inspector.parse(e.target),n=this.editor.getElement();t.isComponentType("image")&&(this.$resizableBox=n,this.$resizableImage=$R.dom(t.getImageElement()),this.$resizer=$R.dom("<span>"),this.$resizer.attr("id","redactor-image-resizer"),this.$target.append(this.$resizer),this._setResizerPosition(),this.$resizer.on("mousedown touchstart",this._set.bind(this)))}},_setResizerPosition:function(){if(this.$resizer){var e=this.toolbar.isTarget(),t=this.$target.offset(),n=e?7-t.top+this.$target.scrollTop():7,a=e?7-t.left:7,s=this.$resizableImage.offset(),i=this.$resizableImage.width(),o=this.$resizableImage.height(),r=this.$resizer.width(),c=this.$resizer.height();this.$resizer.css({top:Math.round(s.top+o-c+n)+"px",left:Math.round(s.left+i-r+a)+"px"})}},_set:function(e){e.preventDefault(),this.resizeHandle={x:e.pageX,y:e.pageY,el:this.$resizableImage,$figure:this.$resizableImage.closest("figure"),ratio:this.$resizableImage.width()/this.$resizableImage.height(),h:this.$resizableImage.height()},(e=e.originalEvent||e).targetTouches&&(this.resizeHandle.x=e.targetTouches[0].pageX,this.resizeHandle.y=e.targetTouches[0].pageY),this.app.broadcast("contextbar.close"),this.app.broadcast("image.resize",this.$resizableImage),this._start()},_start:function(){this.$doc.on("mousemove.redactor.image-resize touchmove.redactor.image-resize",this._move.bind(this)),this.$doc.on("mouseup.redactor.image-resize touchend.redactor.image-resize",this._stop.bind(this))},_stop:function(){this.$doc.off(".redactor.image-resize"),this.app.broadcast("image.resized",this.$resizableImage)},_move:function(e){e.preventDefault(),e=e.originalEvent||e;var t=this.resizeHandle.h;e.targetTouches?t+=e.targetTouches[0].pageY-this.resizeHandle.y:t+=e.pageY-this.resizeHandle.y;var n=t*this.resizeHandle.ratio;n=Math.round(n),(t=Math.round(t))<20||n<100||this._getResizableBoxWidth()<=n||(0!==this.resizeHandle.$figure.length&&""!==this.resizeHandle.$figure.css("max-width")&&this.resizeHandle.$figure.css("max-width",n+"px"),this.resizeHandle.el.attr({width:n,height:t}),this.resizeHandle.el.width(n),this.resizeHandle.el.css("max-width",n+"px"),this.resizeHandle.el.height(t),this._setResizerPosition())},_getResizableBoxWidth:function(){return this.$resizableBox.width()-parseInt(this.$resizableBox.css("padding-left"))-parseInt(this.$resizableBox.css("padding-right"))}}),$R.add("module","file",{modals:{file:'<div class="redactor-modal-tab" data-title="## upload ##"><form action="">                 <div class="form-item form-item-title">                     <label for="modal-file-title"> ## filename ## <span class="desc">(## optional ##)</span></label>                     <input type="text" id="modal-file-title" name="title" />                 </div>                 <input type="file" name="file">             </form></div>'},init:function(e){this.app=e,this.opts=e.opts,this.lang=e.lang,this.caret=e.caret,this.utils=e.utils,this.storage=e.storage,this.component=e.component,this.inspector=e.inspector,this.insertion=e.insertion,this.selection=e.selection},onstarted:function(){this.storage.observeFiles()},ondropfile:function(e,t,n){if(this.opts.fileUpload){var a={url:this.opts.fileUpload,event:!n&&e,files:t,name:"filedrop",data:this.opts.fileData};this.app.api("module.upload.send",a)}},onmodal:{file:{open:function(e,t){this._setFormData(e,t),this._setUpload(t)},opened:function(e,t){this._setFormFocus(t),this.$form=t}}},onupload:{file:{complete:function(e){this._insert(e)},error:function(e){this._uploadError(e)}},filedrop:{complete:function(e,t){this._insert(e,t)},error:function(e){this._uploadError(e)}}},open:function(){this._open()},insert:function(e){this._insert(e)},remove:function(e){this._remove(e)},_open:function(){this.app.api("module.modal.build",this._getModalData())},_getModalData:function(){return{name:"file",title:this.lang.get("file")}},_insert:function(e,t){if(this.app.api("module.modal.close"),"object"===typeof e){if(Array.isArray(e)){for(var n={},a=0;a<e.length;a++)n=$R.extend(n,e[a]);e=n}Object.keys(e).length>1?this._insertMultiple(e,t):this._insertSingle(e,t),this.$form=!1}},_insertSingle:function(e,t){var n=[];for(var a in e){var s=this._createFileAndStore(e[a]);n=this.opts.fileAttachment?this._insertAsAttachment(s):t?this.insertion.insertToPoint(t,s):this.insertion.insertRaw(s),this.app.broadcast("file.uploaded",n[0],e)}},_insertMultiple:function(e,t){var n,a=0,s=[];for(var i in e){a++;var o=this._createFileAndStore(e[i]);if(this.opts.fileAttachment)s=this._insertAsAttachment(o,e);else if(1===a)s=t?this.insertion.insertToPoint(t,o):this.insertion.insertRaw(o);else $R.dom(s[0]).after(o).after(" "),s=[o.get()],this.app.broadcast("file.inserted",o);n=o,this.app.broadcast("file.uploaded",s[0],e)}this.opts.fileAttachment||this.caret.setAfter(n)},_insertAsAttachment:function(e,t){var n=$R.dom(this.opts.fileAttachment),a=e.wrapAttachment();n.append(a);var s=[a.get()];return this.app.broadcast("file.appended",s[0],t),s},_createFileAndStore:function(e){var t=!!this.$form&&this.$form.getData(),n=e.name?e.name:e.url,a=!this.opts.fileAttachment&&t&&""!==t.title?t.title:this._truncateUrl(n),s=this.component.create("file");return s.attr("href",e.url),s.attr("data-file",e.id?e.id:this.utils.getRandomId()),s.attr("data-name",e.name),s.html(a),this.storage.add("file",s),s},_remove:function(e){this.selection.save();var t=this.component.create("file",e);!1!==this.app.broadcast("file.delete",t)?(t.unwrap(),this.selection.restore(),this.app.broadcast("file.deleted",t)):this.selection.restore()},_truncateUrl:function(e){return-1!==e.search(/^http/)&&e.length>20?e.substring(0,20)+"...":e},_setUpload:function(e){var t={url:this.opts.fileUpload,element:e.getField("file"),name:"file",data:this.opts.fileData,paramName:this.opts.fileUploadParam};this.app.api("module.upload.build",t)},_setFormData:function(e,t){this.opts.fileAttachment?e.find(".form-item-title").hide():t.setData({title:this.selection.getText()})},_setFormFocus:function(e){e.getField("title").focus()},_uploadError:function(e){this.app.broadcast("file.uploadError",e)}}),$R.add("class","file.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,this.opts=e.opts,t&&void 0!==t.cmnt?t:this._init(t)},wrapAttachment:function(){return this.$wrapper=$R.dom('<span class="redactor-file-item">'),this.$remover=$R.dom('<span class="redactor-file-remover">'),this.$remover.html("&times;"),this.$remover.on("click",this.removeAttachment.bind(this)),this.$wrapper.append(this),this.$wrapper.append(this.$remover),this.$wrapper},removeAttachment:function(e){e.preventDefault(),!1!==this.app.broadcast("file.delete",this,this.$wrapper)&&(this.$wrapper.remove(),this.app.broadcast("file.deleted",this),this.app.broadcast("file.removeAttachment",this))},_init:function(e){if(void 0===e)this.parse("<a>");else{var t=$R.dom(e).closest("a");this.parse(t)}}}),$R.add("module","buffer",{init:function(e){this.app=e,this.opts=e.opts,this.editor=e.editor,this.offset=e.offset,this.keycodes=e.keycodes,this.selection=e.selection,this.state=!1,this.passed=!1,this.keyPressed=!1,this.undoStorage=[],this.redoStorage=[]},onkeydown:function(e){this._listen(e)},onsyncing:function(){this.keyPressed||this.trigger(),this.keyPressed=!1},onbuffer:{trigger:function(){this.trigger()}},onstate:function(e,t,n){e&&(e.ctrlKey||e.metaKey)||e&&(this._isUndo(e)||this._isRedo(e))||(this.passed=!1,this._saveState(t,n),!1===e&&this._setUndo())},onenable:function(){this.clear()},clear:function(){this.state=!1,this.undoStorage=[],this.redoStorage=[]},undo:function(){this._getUndo()},redo:function(){this._getRedo()},trigger:function(){this.state&&!1===this.passed&&this._setUndo()},_saveState:function(e,t){var n=this.editor.getElement();this.state={html:e||n.html(),offset:t||this.offset.get()}},_listen:function(e){var t=e.which,n=e.ctrlKey||e.metaKey,a=n||e.shiftKey||e.altKey,s=[this.keycodes.SPACE,this.keycodes.ENTER,this.keycodes.BACKSPACE,this.keycodes.DELETE,this.keycodes.TAB,this.keycodes.LEFT,this.keycodes.RIGHT,this.keycodes.UP,this.keycodes.DOWN];return this._isUndo(e)?(e.preventDefault(),void this.undo()):this._isRedo(e)?(e.preventDefault(),void this.redo()):((n||-1===s.indexOf(t))&&(!n||88!==t&&67!==t)||(a=!0,this.trigger()),a||this._hasUndo()||this.trigger(),void(this.keyPressed=!0))},_isUndo:function(e){var t=e.which;return(e.ctrlKey||e.metaKey)&&90===t&&!e.shiftKey&&!e.altKey},_isRedo:function(e){var t=e.which;return(e.ctrlKey||e.metaKey)&&(90===t&&e.shiftKey||89===t&&!e.shiftKey)&&!e.altKey},_setUndo:function(){var e=this.undoStorage[this.undoStorage.length-1];"undefined"!==typeof e&&e[0]===this.state.html||(this.undoStorage.push([this.state.html,this.state.offset]),this._removeOverStorage())},_setRedo:function(){var e=this.editor.getElement(),t=this.offset.get(),n=e.html();this.redoStorage.push([n,t]),this.redoStorage=this.redoStorage.slice(0,this.opts.bufferLimit)},_getUndo:function(){if(this._hasUndo()){this.passed=!0;var e=this.editor.getElement(),t=this.undoStorage.pop();this._setRedo(),e.html(t[0]),this.offset.set(t[1]),this._saveState(t[0],t[1]),this.selection.restore(),this.app.broadcast("undo",t[0],t[1])}},_getRedo:function(){if(this._hasRedo()){this.passed=!0;var e=this.editor.getElement(),t=this.redoStorage.pop();this._setUndo(),e.html(t[0]),this.offset.set(t[1]),this._saveState(t[0],t[1]),this.app.broadcast("redo",t[0],t[1])}},_removeOverStorage:function(){this.undoStorage.length>this.opts.bufferLimit&&(this.undoStorage=this.undoStorage.slice(0,this.undoStorage.length-this.opts.bufferLimit))},_hasUndo:function(){return 0!==this.undoStorage.length},_hasRedo:function(){return 0!==this.redoStorage.length}}),$R.add("module","list",{init:function(e){this.app=e,this.uuid=e.uuid,this.opts=e.opts,this.utils=e.utils,this.block=e.block,this.toolbar=e.toolbar,this.inspector=e.inspector,this.selection=e.selection},onbutton:{list:{observe:function(e){this._observeButton(e)}}},ondropdown:{list:{observe:function(e){this._observeDropdown(e)}}},toggle:function(e){var t=this._getBlocks(),n=this.selection.getBlock(),a=$R.dom(n).parents("ul, ol",".redactor-in-"+this.uuid).last();return 0===t.length&&0!==a.length&&(t=[a.get()]),!n||"TD"!==n.tagName&&"TH"!==n.tagName||(t=this.block.format("div")),this.selection.saveMarkers(),t=0!==t.length&&this._isUnformat(e,t)?this._unformat(e,t):this._format(e,t),this.selection.restoreMarkers(),t},indent:function(){var e=this.selection.isCollapsed(),t=this.selection.getCurrent(),n=this.inspector.parse(t),a=!!n.isList()&&n.getListItem(),s=$R.dom(a),i=s.prevElement(),o=i.get();if(e&&a&&o&&"LI"===o.tagName){this.selection.saveMarkers();var r=(i=$R.dom(o)).children("ul, ol"),c=s.closest("ul, ol");if(0!==r.length)r.append(s);else{var _=c.get().tagName.toLowerCase(),l=$R.dom("<"+_+">");l.append(s),i.append(l)}this.selection.restoreMarkers()}},outdent:function(){var e=this.selection.isCollapsed(),t=this.selection.getCurrent(),n=this.inspector.parse(t),a=!!n.isList()&&n.getListItem(),s=$R.dom(a);if(e&&a){var i,o,r,c=s.parent(),_=c.closest("li",".redactor-in-"+this.uuid),l=s.prevElement(),u=s.nextElement(),d=l.get(),p=u.get(),m=!1===d,h=!1!==d&&!1!==p,f=!m&&!1===p;if(this.selection.saveMarkers(),0!==_.length)if(h){i=this._getAllNext(s.get()),r=$R.dom("<"+c.get().tagName.toLowerCase()+">");for(var E=0;E<i.length;E++)r.append(i[E]);_.after(s),s.append(r)}else _.after(s),0===c.children().length?c.remove():m&&s.append(c);else{var g=this._createUnformatContainer(s),b=g.find("ul, ol").first();if(m)c.before(g);else if(f)c.after(g);else if(h){r=$R.dom("<"+c.get().tagName.toLowerCase()+">"),i=this._getAllNext(s.get());for(E=0;E<i.length;E++)r.append(i[E]);c.after(g),g.after(r)}0!==b.length&&((o=g.nextElement().get())&&o.tagName===c.get().tagName?($R.dom(o).prepend(b),b.unwrap()):g.after(b)),s.remove()}this.selection.restoreMarkers()}},_getAllNext:function(e){for(var t=[];e;){if(!(e=$R.dom(e).nextElement().get()))return t;t.push(e)}return t},_isUnformat:function(e,t){for(var n=0,a=0;a<t.length;a++)if(3!==t[a].nodeType){var s=t[a].tagName.toLowerCase();s!==e&&"figure"!==s||n++}return n===t.length},_format:function(e,t){var n=this._uniteBlocks(t,["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6","ul","ol"]),a=[];for(var s in n){for(var i=n[s],o=this._createList(e,n[s]),r=0;r<i.length;r++){var c;if(3===i[r].nodeType||"UL"!==i[r].tagName&&"OL"!==i[r].tagName){var _=(c=this._createListItem(i[r])).get().lastChild;_&&"BR"===_.tagName&&$R.dom(_).remove(),this.utils.normalizeTextNodes(c),o.append(c)}else{var l=$R.dom(i[r]);c=l.contents(),o.append(c),this.utils.isEmpty(l)&&l.remove()}}a.push(o.get())}return a},_uniteBlocks:function(e,t){for(var n=0,a={0:[]},s=!1,i=0;i<e.length;i++){var o=$R.dom(e[i]).closest("th, td");0!==o.length?(o.get()!==s&&(a[++n]=[]),this._isUniteBlock(e[i],t)&&a[n].push(e[i])):this._isUniteBlock(e[i],t)?a[n].push(e[i]):a[++n]=[],s=o.get()}return a},_isUniteBlock:function(e,t){return 3===e.nodeType||-1!==t.indexOf(e.tagName.toLowerCase())},_createList:function(e,t){var n=t[t.length-1],a=$R.dom(n),s=$R.dom("<"+e+">");return a.after(s),s},_createListItem:function(e){var t=$R.dom("<li>");if(3===e.nodeType)t.append(e);else{var n=$R.dom(e);t.append(n.contents()),n.remove()}return t},_unformat:function(e,t){if(1===t.length){var n=$R.dom(t[0]),a=n.find("li"),s=this.selection.getNodes({tags:["li"]}),i=this.selection.getBlock(),o=$R.dom(i).closest("li");if(0===s.length&&0!==o.length&&(s=[o.get()]),s.length===a.length)return this._unformatEntire(t[0]);var r=this._getItemsPosition(a,s);if("Top"===r)return this._unformatAtSide("before",s,n);if("Bottom"===r)return s.reverse(),this._unformatAtSide("after",s,n);if("Middle"===r){var c=$R.dom(s[s.length-1]),_=!1,l=!1,u=$R.dom("<"+n.get().tagName.toLowerCase()+">");a.each((function(e){if(_){var t=$R.dom(e);0!==t.closest(".redactor-split-item").length||!1!==l&&0!==t.closest(l).length||t.addClass("redactor-split-item"),l=t}e===c.get()&&(_=!0)})),a.filter(".redactor-split-item").each((function(e){$R.dom(e).removeClass("redactor-split-item"),u.append(e)})),n.after(u),s.reverse();for(var d=0;d<s.length;d++){var p=$R.dom(s[d]),m=this._createUnformatContainer(p);n.after(m),m.find("ul, ol").remove(),p.remove()}return}}else for(d=0;d<t.length;d++)3!==t[d].nodeType&&t[d].tagName.toLowerCase()===e&&this._unformatEntire(t[d])},_unformatEntire:function(e){var t=$R.dom(e);t.find("li").each(function(e){var n=$R.dom(e),a=this._createUnformatContainer(n);n.remove(),t.before(a)}.bind(this)),t.remove()},_unformatAtSide:function(e,t,n){for(var a=0;a<t.length;a++){var s=$R.dom(t[a]),i=this._createUnformatContainer(s);n[e](i);var o=i.find("ul, ol").first();s.append(o),o.each((function(e){var n=$R.dom(e),s=n.closest("li");s.get()===t[a]&&(n.unwrap(),s.addClass("r-unwrapped"))})),this.utils.isEmptyHtml(s.html())&&s.remove()}n.find(".r-unwrapped").each((function(e){var t=$R.dom(e);""===t.html().trim()?t.remove():t.removeClass("r-unwrapped")}))},_getItemsPosition:function(e,t){var n="Middle",a=t[0],s=t[t.length-1],i=e.first().get(),o=e.last().get();return i===a&&o!==s?n="Top":i!==a&&o===s&&(n="Bottom"),n},_createUnformatContainer:function(e){var t=$R.dom("<"+this.opts.markup+">");return this.opts.breakline&&t.attr("data-redactor-tag","br"),t.append(e.contents()),t},_getBlocks:function(){return this.selection.getBlocks({first:!0})},_observeButton:function(){var e=this.selection.getCurrent(),t=this.inspector.parse(e),n=t.isPre()||t.isCode()||t.isFigcaption();this._observeButtonsList(n,["lists","ul","ol","outdent","indent"]);var a=this.toolbar.getButton("outdent"),s=this.toolbar.getButton("indent");this._observeIndent(s,a)},_observeDropdown:function(e){var t=e.getItem("outdent"),n=e.getItem("indent");this._observeIndent(n,t)},_observeIndent:function(e,t){var n=this.selection.isCollapsed(),a=this.selection.getCurrent(),s=this.inspector.parse(a),i=!!s.isList()&&s.getListItem(),o=$R.dom(i).prevElement().get(),r=n&&i&&o&&"LI"===o.tagName;t&&(i&&n?t.enable():t.disable()),e&&(i&&r?e.enable():e.disable())},_observeButtonsList:function(e,t){for(var n=0;n<t.length;n++){var a=this.toolbar.getButton(t[n]);a&&(e?a.disable():a.enable())}}}),$R.add("class","video.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},_init:function(e){if("undefined"!==typeof e){var t=$R.dom(e).closest("figure");0!==t.length?this.parse(t):(this.parse("<figure>"),this.append(e))}else this.parse("<figure>");this._initWrapper()},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"video",tabindex:"-1",contenteditable:!1})}}),$R.add("class","widget.component",{mixins:["dom","component"],init:function(e,t){return this.app=e,t&&void 0!==t.cmnt?t:this._init(t)},getData:function(){return{html:this._getHtml()}},_init:function(e){if("undefined"!==typeof e){var t=$R.dom(e).closest("figure");0!==t.length?this.parse(t):(this.parse("<figure>"),this.html(e))}else this.parse("<figure>");this._initWrapper()},_getHtml:function(){var e=$R.dom("<div>");return e.html(this.html()),e.find(".redactor-component-caret").remove(),e.html()},_initWrapper:function(){this.addClass("redactor-component"),this.attr({"data-redactor-type":"widget",tabindex:"-1",contenteditable:!1})}});var Redactor=$R;window.Redactor=window.$R=$R,window.addEventListener("load",(function(){$R("[data-redactor]")})),module.exports&&(module.exports=Redactor,module.exports.Redactor=Redactor)}()},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(3),s=n(6),i=n(5),o=n(1),r=n(2),c=new(function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).fetchCoursePageData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="".concat(o.d.URL,!0===t?"/admin/modules":"/chapter_modules/m");return this.sendRequest("".concat(n,"/").concat(e.track_id,"/").concat(e.chapter_id,"/").concat(e.chapter_module_id),e,!0).then(r.h).then((function(n){return!0===n.status?(localStorage.setItem("__BarioOtsoOtso__",n.token),"survey"!==n.result.chapter_module_id&&parseInt(e.chapter_module_id)!==parseInt(n.result.chapter_module_id)&&(n.result.proceed_to_new_url=!0,n.result.new_url="/m/".concat(e.track_id,"/").concat(e.chapter_id,"/").concat(n.result.chapter_module_id))):!0===t&&(window.location.href="/dashboard"),n}))},e.completeLessonModule=function(e){return this.sendRequest("".concat(o.d.URL,"/chapter_modules/complete_lesson_module"),e,!0).then(r.h).then((function(e){return e}))},e.submitAssignmentTask=function(e){return this.sendRequest("".concat(o.d.URL,"/chapter_modules/submit_assignment_task"),e,!0).then(r.h).then((function(e){return e}))},e.startQuiz=function(e){return this.sendRequest("".concat(o.d.URL,"/quiz/").concat(e.chapter_module_id,"/start"),e,!0).then(r.h).then((function(e){if(!0===e.status){localStorage.setItem("__BarioOtsoOtso__",e.result);var t=Object(r.g)();!0===t.status&&(e.result=t.user_details.current_quiz)}return e}))},e.submitQuiz=function(e){var t=e.course_id,n=e.chapter_id,a=e.next_link,s=e.stack_schedule_id,i=e.cc_stack_schedule_id,c=e.quiz_details,_=c.chapter_module_id,l=c.track_id,u=c.started_at,d=c.questions,p={chapter_module_id:_,track_id:l,course_id:t,chapter_id:n,started_at:u,questions:[],stack_schedule_id:s,cc_stack_schedule_id:i,next_module:a};return d.map((function(e,t){var n=void 0!==e.type&&2===e.type?{question_index:t,is_correct:!0===e.is_correct,dc_response:e.dc_response}:{question_index:t,is_correct:!1};n.id=e.id,2!==e.type&&(n.selected_option=e.choices.filter((function(e){return!0===e.is_selected}))[0],n.is_correct=e.choices.filter((function(e){return!0===e.is_selected&&!0===e.is_answer})).length>0),p.questions.push(n)})),this.sendRequest("".concat(o.d.URL,"/quiz/").concat(_,"/submit"),p,!0).then(r.h).then((function(e){return e}))},e.submitCurriculumMistakeReport=function(e){return this.sendRequest("".concat(o.d.URL,"/chapter_modules/submit_reported_curriculum_mistake"),e,!0).then(r.h).then((function(e){return e}))},e}return n}(n(26).a))},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(3),s=n(1),i=n(6),o=n(5),r=n(2),c=new(function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).fetch_lp2_exam_link=function(){return this.sendRequest("".concat(s.d.URL,"/exam/get_lp2_exam_link"),{},!0).then(r.h).then((function(e){return e}))},e.fetch_exam_histories=function(){return this.sendRequest("".concat(s.d.URL,"/exam/histories"),{},!0).then(r.h).then((function(e){return e}))},e.fetch_user_belts=function(){return this.sendRequest("".concat(s.d.URL,"/users/fetch_user_belts"),{},!0).then(r.h).then((function(e){return e}))},e}return n}(n(26).a)),_=new function e(){Object(a.a)(this,e),this.get_lp2_exam_link=function(){return function(e){e(Object(r.i)({type:s.eb.GET_USER_LP2_EXAM_LINK_REQUEST},{})),c.fetch_lp2_exam_link().then((function(t){!0===t.status?e(Object(r.i)({type:s.eb.GET_USER_LP2_EXAM_LINK_SUCCESS},{exam:t.result})):e(Object(r.i)({type:s.eb.GET_USER_LP2_EXAM_LINK_FAILURE},{error:t.message}))}),(function(t){var n=Object(r.a)(t);e(Object(r.i)({type:s.eb.GET_USER_LP2_EXAM_LINK_FAILURE},{error:n}))}))}},this.get_exam_histories=function(){return function(e){e(Object(r.i)({type:s.eb.GET_USER_EXAM_HISTORY_REQUEST},{})),c.fetch_exam_histories().then((function(t){if(!0===t.status){var n=(t.result.belts_and_exams_progress||[]).exam_histories;e(Object(r.i)({type:s.eb.GET_USER_EXAM_HISTORY_SUCCESS},{exam_histories:n}))}else e(Object(r.i)({type:s.eb.GET_USER_EXAM_HISTORY_FAILURE},{error:t.message}))}),(function(t){var n=Object(r.a)(t);e(Object(r.i)({type:s.eb.GET_USER_EXAM_HISTORY_FAILURE},{error:n}))}))}},this.get_user_belts=function(){return function(e){e(Object(r.i)({type:s.eb.GET_USER_BELTS_REQUEST},{})),c.fetch_user_belts().then((function(t){if(!0===t.status){for(var n=[],a=void 0!==t.result.belts_and_exams_progress?t.result.belts_and_exams_progress:{belt_summaries:{}},i=a.belt_summaries,o=a.exam_histories,c=i?Object.keys(i):[],_=0;_<c.length;_++){var l=i[parseInt(c[_])];l&&Object.keys(l).length>0&&n.push({id:parseInt(c[_]),name:l.label,is_completed:l.level>-1,level:l.level,class:l.color})}e(Object(r.i)({type:s.eb.GET_USER_BELTS_SUCCESS},{user_belts:n,exam_histories:o}))}else e(Object(r.i)({type:s.eb.GET_USER_BELTS_FAILURE},{error:t.message}))}),(function(t){var n=Object(r.a)(t);e(Object(r.i)({type:s.eb.GET_USER_BELTS_FAILURE},{error:n}))}))}}}},937:function(e,t,n){},938:function(e,t,n){},939:function(e,t,n){}},[[375,1,2]]]);
//# sourceMappingURL=main.c060f4e2.chunk.js.map